<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Class Horde_ActiveSync_State_Base</title>

	<link rel="stylesheet" href="resources/style.css?1648332946">

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
			<h3>Packages</h3>
			<ul>
				<li class="active"><a href="namespace-ActiveSync.html">ActiveSync</a>
						</li>
				<li><a href="namespace-None.html">None</a>
						</li>
			</ul>
		</div>

		<hr>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-Horde_ActiveSync_Message_Appointment.html">Horde_ActiveSync_Message_Appointment</a></li>
				<li><a href="class-Horde_ActiveSync_Message_Attendee.html">Horde_ActiveSync_Message_Attendee</a></li>
				<li><a href="class-Horde_ActiveSync_Message_Contact.html">Horde_ActiveSync_Message_Contact</a></li>
				<li><a href="class-Horde_ActiveSync_Message_Exception.html">Horde_ActiveSync_Message_Exception</a></li>
				<li><a href="class-Horde_ActiveSync_Message_Folder.html">Horde_ActiveSync_Message_Folder</a></li>
				<li><a href="class-Horde_ActiveSync_Message_Recurrence.html">Horde_ActiveSync_Message_Recurrence</a></li>
				<li><a href="class-Horde_ActiveSync_Message_Task.html">Horde_ActiveSync_Message_Task</a></li>
				<li class="active"><a href="class-Horde_ActiveSync_State_Base.html">Horde_ActiveSync_State_Base</a></li>
				<li><a href="class-Horde_ActiveSync_State_History.html">Horde_ActiveSync_State_History</a></li>
				<li><a href="class-Horde_ActiveSync_Timezone.html">Horde_ActiveSync_Timezone</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="">
		<input type="hidden" name="ie" value="UTF-8">
		<input type="text" name="q" class="text" placeholder="Search">
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="package-ActiveSync.html" title="Summary of ActiveSync"><span>Package</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class Horde_ActiveSync_State_Base</h1>


	<div class="description">
	<p>Base class for managing everything related to state:</p>

<p>Persistence of state data Generating delta between server and PIM Caching PING related state (hearbeat interval, folder list etc...)</p>

<p>Copyright 2010-2012 Horde LLC (http://www.horde.org/)</p>

	</div>



	<div>
		<h4>Direct known subclasses</h4>
			<a href="class-Horde_ActiveSync_State_File.html">Horde_ActiveSync_State_File</a>, 
			<a href="class-Horde_ActiveSync_State_History.html">Horde_ActiveSync_State_History</a>
	</div>






	<div class="info">
		<b>Abstract</b><br>
		
		
		<b>Package:</b> ActiveSync<br>

				<b>Author:</b>
				Michael J. Rubinsky <a href="&#x6d;&#97;&#x69;&#108;&#x74;&#x6f;&#58;&#x6d;&#114;&#x75;&#x62;&#105;&#x6e;&#115;&#x6b;&#x40;&#104;&#x6f;&#114;&#x64;&#x65;&#46;&#x6f;&#114;&#x67;">&#x6d;&#114;&#x75;&#x62;&#105;&#x6e;&#115;&#x6b;&#x40;&#104;&#x6f;&#114;&#x64;&#x65;&#46;&#x6f;&#114;&#x67;</a>
<br>
		<b>Located at</b> <a href="source-class-Horde_ActiveSync_State_Base.html#2-644" title="Go to source code">Horde/ActiveSync/State/Base.php</a><br>
	</div>



	<table class="summary methods" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="__construct" id="___construct">

		<td class="attributes"><code>
			 public 

			<code><a href="class-Horde_ActiveSync_State_Base.html">Horde_ActiveSync_State_Base</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#___construct">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#115-129" title="Go to source code">__construct</a>( <span>array <var>$params</var> = <span class="php-keyword1">array</span>()</span> )</code>

		<div class="description short">
			<p>Const'r</p>

		</div>

		<div class="description detailed hidden">
			<p>Const'r</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$params</var></dt>
					<dd>$collection  A collection array
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code><code><a href="class-Horde_ActiveSync_State_Base.html">Horde_ActiveSync_State_Base</a></code></code>
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="__destruct" id="___destruct">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#___destruct">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#131-134" title="Go to source code">__destruct</a>( )</code>

		<div class="description short">
			

		</div>

		<div class="description detailed hidden">
			








		</div>
		</div></td>
	</tr>
	<tr data-order="setNewSyncKey" id="_setNewSyncKey">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_setNewSyncKey">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#136-146" title="Go to source code">setNewSyncKey</a>( <span>string <var>$newKey</var></span> )</code>

		<div class="description short">
			<p>Update the $oldKey syncState to $newKey.</p>

		</div>

		<div class="description detailed hidden">
			<p>Update the $oldKey syncState to $newKey.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$newKey</var></dt>
					<dd>
</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="getCurrentSyncKey" id="_getCurrentSyncKey">

		<td class="attributes"><code>
			 public 

			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getCurrentSyncKey">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#148-156" title="Go to source code">getCurrentSyncKey</a>( )</code>

		<div class="description short">
			<p>Get the current synckey</p>

		</div>

		<div class="description detailed hidden">
			<p>Get the current synckey</p>




				<h4>Returns</h4>
				<div class="list">
					<code>string</code><br>The synkey we last retrieved state for

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="generatePolicyKey" id="_generatePolicyKey">

		<td class="attributes"><code>
			 public 

			unknown
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_generatePolicyKey">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#158-166" title="Go to source code">generatePolicyKey</a>( )</code>

		<div class="description short">
			<p>Generate a random 10 digit policy key</p>

		</div>

		<div class="description detailed hidden">
			<p>Generate a random 10 digit policy key</p>




				<h4>Returns</h4>
				<div class="list">
					<code>unknown</code>
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getPolicyKey" id="_getPolicyKey">

		<td class="attributes"><code>
			 public 

			integer
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getPolicyKey">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#168-185" title="Go to source code">getPolicyKey</a>( <span>string <var>$devId</var></span> )</code>

		<div class="description short">
			<p>Obtain the current policy key, if it exists.</p>

		</div>

		<div class="description detailed hidden">
			<p>Obtain the current policy key, if it exists.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$devId</var></dt>
					<dd>The device id to obtain policy key for.
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>integer</code><br><p>The current policy key for this device, or 0 if none
                 exists.</p>

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getDeviceRWStatus" id="_getDeviceRWStatus">

		<td class="attributes"><code>
			 public 

			integer
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getDeviceRWStatus">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#187-203" title="Go to source code">getDeviceRWStatus</a>( <span>string <var>$devId</var></span> )</code>

		<div class="description short">
			<p>Return a device wipe status</p>

		</div>

		<div class="description detailed hidden">
			<p>Return a device wipe status</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$devId</var></dt>
					<dd>
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>integer</code>
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="setBackend" id="_setBackend">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_setBackend">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#205-217" title="Go to source code">setBackend</a>( <span><code><a href="class-Horde_ActiveSync_Driver_Base.html">Horde_ActiveSync_Driver_Base</a></code> <var>$backend</var></span> )</code>

		<div class="description short">
			<p>Set the backend driver
(should really only be called by a backend object when passing this
object to client code)</p>

		</div>

		<div class="description detailed hidden">
			<p>Set the backend driver
(should really only be called by a backend object when passing this
object to client code)</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$backend</var></dt>
					<dd>The backend driver
</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="init" id="_init">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_init">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#219-229" title="Go to source code">init</a>( <span>array <var>$collection</var> = <span class="php-keyword1">array</span>()</span> )</code>

		<div class="description short">
			<p>Initialize the state object</p>

		</div>

		<div class="description detailed hidden">
			<p>Initialize the state object</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$collection</var></dt>
					<dd>The collection array
</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="setLogger" id="_setLogger">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_setLogger">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#231-239" title="Go to source code">setLogger</a>( <span>Horde_Log_Logger <var>$logger</var></span> )</code>

		<div class="description short">
			<p>Set the logger instance for this object.</p>

		</div>

		<div class="description detailed hidden">
			<p>Set the logger instance for this object.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$logger</var></dt>
					<dd>
</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="resetPingState" id="_resetPingState">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_resetPingState">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#241-252" title="Go to source code">resetPingState</a>( )</code>

		<div class="description short">
			<p>Reset the device's PING state.</p>

		</div>

		<div class="description detailed hidden">
			<p>Reset the device's PING state.</p>








		</div>
		</div></td>
	</tr>
	<tr data-order="getChangeCount" id="_getChangeCount">

		<td class="attributes"><code>
			 public 

			integer
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getChangeCount">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#254-266" title="Go to source code">getChangeCount</a>( )</code>

		<div class="description short">
			<p>Get the number of server changes.</p>

		</div>

		<div class="description detailed hidden">
			<p>Get the number of server changes.</p>




				<h4>Returns</h4>
				<div class="list">
					<code>integer</code>
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getNewSyncKey" id="_getNewSyncKey">

		<td class="attributes"><code>
			 public static

			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getNewSyncKey">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#268-291" title="Go to source code">getNewSyncKey</a>( <span>string <var>$syncKey</var></span> )</code>

		<div class="description short">
			<p>Gets the new sync key for a specified sync key. You must save the new
sync state under this sync key when done sync'ing by calling
setNewSyncKey(), then save().</p>

		</div>

		<div class="description detailed hidden">
			<p>Gets the new sync key for a specified sync key. You must save the new
sync state under this sync key when done sync'ing by calling
setNewSyncKey(), then save().</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$syncKey</var></dt>
					<dd>The old syncKey
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>string</code><br>The new synckey

				</div>

				<h4>Throws</h4>
				<div class="list">
					<code><a href="class-Horde_ActiveSync_Exception.html">Horde_ActiveSync_Exception</a></code>
				</div>



		</div>
		</div></td>
	</tr>
	<tr data-order="getSyncKeyCounter" id="_getSyncKeyCounter">

		<td class="attributes"><code>
			 public static

			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getSyncKeyCounter">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#293-306" title="Go to source code">getSyncKeyCounter</a>( <span>mixed <var>$syncKey</var></span> )</code>

		<div class="description short">
			<p>Return the counter for the specified syncKey.</p>

		</div>

		<div class="description detailed hidden">
			<p>Return the counter for the specified syncKey.</p>




				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br>integer|boolean

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="RowCmp" id="_RowCmp">

		<td class="attributes"><code>
			 public static

			unknown_type
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_RowCmp">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#437-447" title="Go to source code">RowCmp</a>( <span>mixed <var>$a</var></span>, <span>mixed <var>$b</var></span> )</code>

		<div class="description short">
			<p>Helper function for the _diff method</p>

		</div>

		<div class="description detailed hidden">
			<p>Helper function for the _diff method</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$a</var></dt>
					<dd>
</dd>
					<dt><var>$b</var></dt>
					<dd>
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>unknown_type</code>
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="loadState" id="_loadState">

		<td class="attributes"><code>
			abstract public 

			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_loadState">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#449-459" title="Go to source code">loadState</a>( <span>string <var>$syncKey</var></span>, <span>string <var>$type</var> = <span class="php-keyword1">null</span></span>, <span>string <var>$id</var> = <span class="php-quote">''</span></span> )</code>

		<div class="description short">
			<p>Loads the initial state from storage for the specified syncKey and
intializes the stateMachine for use.</p>

		</div>

		<div class="description detailed hidden">
			<p>Loads the initial state from storage for the specified syncKey and
intializes the stateMachine for use.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$syncKey</var></dt>
					<dd>The key for the state to load.
</dd>
					<dt><var>$type</var></dt>
					<dd>Treat the loaded state data as this type of state.
</dd>
					<dt><var>$id</var></dt>
					<dd>The collection id this represents
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br>The state array

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="initPingState" id="_initPingState">

		<td class="attributes"><code>
			abstract public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_initPingState">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#461-466" title="Go to source code">initPingState</a>( <span>object <var>$device</var></span> )</code>

		<div class="description short">
			<p>Load/initialize the ping state for the specified device.</p>

		</div>

		<div class="description detailed hidden">
			<p>Load/initialize the ping state for the specified device.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$device</var></dt>
					<dd>
</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="loadPingCollectionState" id="_loadPingCollectionState">

		<td class="attributes"><code>
			abstract public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_loadPingCollectionState">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#468-473" title="Go to source code">loadPingCollectionState</a>( <span>string <var>$devid</var></span> )</code>

		<div class="description short">
			<p>Load the ping state for the given device id</p>

		</div>

		<div class="description detailed hidden">
			<p>Load the ping state for the given device id</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$devid</var></dt>
					<dd>The device id.
</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="getKnownFolders" id="_getKnownFolders">

		<td class="attributes"><code>
			abstract public 

			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getKnownFolders">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#475-480" title="Go to source code">getKnownFolders</a>( )</code>

		<div class="description short">
			<p>Get the list of known folders for the specified syncState</p>

		</div>

		<div class="description detailed hidden">
			<p>Get the list of known folders for the specified syncState</p>




				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br>An array of server folder ids

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="save" id="_save">

		<td class="attributes"><code>
			abstract public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_save">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#482-485" title="Go to source code">save</a>( )</code>

		<div class="description short">
			<p>Save the current syncstate to storage</p>

		</div>

		<div class="description detailed hidden">
			<p>Save the current syncstate to storage</p>








		</div>
		</div></td>
	</tr>
	<tr data-order="updateState" id="_updateState">

		<td class="attributes"><code>
			abstract public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_updateState">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#487-499" title="Go to source code">updateState</a>( <span>string <var>$type</var></span>, <span>array <var>$change</var></span>, <span>integer <var>$origin</var> = <code><a href="class-Horde_ActiveSync.html#CHANGE_ORIGIN_NA">Horde_ActiveSync::<b>CHANGE_ORIGIN_NA</b></a></code></span>, <span>string <var>$user</var> = <span class="php-keyword1">null</span></span> )</code>

		<div class="description short">
			<p>Update the state to reflect changes</p>

		</div>

		<div class="description detailed hidden">
			<p>Update the state to reflect changes</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$type</var></dt>
					<dd>The type of change (change, delete, flags)
</dd>
					<dt><var>$change</var></dt>
					<dd>A stat/change hash describing the change
</dd>
					<dt><var>$origin</var></dt>
					<dd>Flag to indicate the origin of the change.
</dd>
					<dt><var>$user</var></dt>
					<dd>The current synch user
</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="setFolderData" id="_setFolderData">

		<td class="attributes"><code>
			abstract public 

			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_setFolderData">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#501-512" title="Go to source code">setFolderData</a>( <span>object <var>$device</var></span>, <span>array <var>$folders</var></span> )</code>

		<div class="description short">
			<p>Save folder data for a specific device. This is needed for BC with older
activesync versions that use GETHIERARCHY requests to get the folder info
instead of maintaining the folder state with FOLDERSYNC requests.</p>

		</div>

		<div class="description detailed hidden">
			<p>Save folder data for a specific device. This is needed for BC with older
activesync versions that use GETHIERARCHY requests to get the folder info
instead of maintaining the folder state with FOLDERSYNC requests.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$device</var></dt>
					<dd>The device object
</dd>
					<dt><var>$folders</var></dt>
					<dd>The folder data
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code>
				</div>

				<h4>Throws</h4>
				<div class="list">
					<code><a href="class-Horde_ActiveSync_Exception.html">Horde_ActiveSync_Exception</a></code>
				</div>



		</div>
		</div></td>
	</tr>
	<tr data-order="getFolderData" id="_getFolderData">

		<td class="attributes"><code>
			abstract public 

			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getFolderData">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#514-522" title="Go to source code">getFolderData</a>( <span>object <var>$device</var></span>, <span>string <var>$class</var></span> )</code>

		<div class="description short">
			<p>Get the folder data for a specific device</p>

		</div>

		<div class="description detailed hidden">
			<p>Get the folder data for a specific device</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$device</var></dt>
					<dd>The device object
</dd>
					<dt><var>$class</var></dt>
					<dd>The folder class to fetch (Calendar, Contacts etc.)
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br>Either an array of folder data || false

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getChanges" id="_getChanges">

		<td class="attributes"><code>
			abstract public 

			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getChanges">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#524-531" title="Go to source code">getChanges</a>( <span>integer <var>$flags</var> = <span class="php-num">0</span></span> )</code>

		<div class="description short">
			<p>Get all items that have changed since the last sync time</p>

		</div>

		<div class="description detailed hidden">
			<p>Get all items that have changed since the last sync time</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$flags</var></dt>
					<dd>
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>array</code>
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="isConflict" id="_isConflict">

		<td class="attributes"><code>
			abstract public 

			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_isConflict">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#533-543" title="Go to source code">isConflict</a>( <span>array <var>$stat</var></span>, <span>string <var>$type</var></span> )</code>

		<div class="description short">
			<p>Determines if the server version of the message represented by $stat
conflicts with the PIM version of the message according to the current
state.</p>

		</div>

		<div class="description detailed hidden">
			<p>Determines if the server version of the message represented by $stat
conflicts with the PIM version of the message according to the current
state.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$stat</var></dt>
					<dd>A message stat array
</dd>
					<dt><var>$type</var></dt>
					<dd>The type of change (change, delete, add)
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code>
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="setPolicyKey" id="_setPolicyKey">

		<td class="attributes"><code>
			abstract public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_setPolicyKey">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#545-551" title="Go to source code">setPolicyKey</a>( <span>string <var>$devId</var></span>, <span>integer <var>$key</var></span> )</code>

		<div class="description short">
			<p>Save a new device policy key to storage.</p>

		</div>

		<div class="description detailed hidden">
			<p>Save a new device policy key to storage.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$devId</var></dt>
					<dd>The device id
</dd>
					<dt><var>$key</var></dt>
					<dd>The new policy key
</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="resetAllPolicyKeys" id="_resetAllPolicyKeys">

		<td class="attributes"><code>
			abstract public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_resetAllPolicyKeys">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#553-561" title="Go to source code">resetAllPolicyKeys</a>( )</code>

		<div class="description short">
			<p>Reset ALL device policy keys. Used when server policies have changed
and you want to force ALL devices to pick up the changes. This will
cause all devices that support provisioning to be reprovisioned.</p>

		</div>

		<div class="description detailed hidden">
			<p>Reset ALL device policy keys. Used when server policies have changed
and you want to force ALL devices to pick up the changes. This will
cause all devices that support provisioning to be reprovisioned.</p>





				<h4>Throws</h4>
				<div class="list">
					<code><a href="class-Horde_ActiveSync_Exception.html">Horde_ActiveSync_Exception</a></code>
				</div>



		</div>
		</div></td>
	</tr>
	<tr data-order="setDeviceRWStatus" id="_setDeviceRWStatus">

		<td class="attributes"><code>
			abstract public 

			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_setDeviceRWStatus">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#563-571" title="Go to source code">setDeviceRWStatus</a>( <span>string <var>$devid</var></span>, <span>string <var>$status</var></span> )</code>

		<div class="description short">
			<p>Set a new remotewipe status for the device</p>

		</div>

		<div class="description detailed hidden">
			<p>Set a new remotewipe status for the device</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$devid</var></dt>
					<dd>
</dd>
					<dt><var>$status</var></dt>
					<dd>
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code>
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="loadDeviceInfo" id="_loadDeviceInfo">

		<td class="attributes"><code>
			abstract public 

			StdClass
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_loadDeviceInfo">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#573-581" title="Go to source code">loadDeviceInfo</a>( <span>object <var>$device</var></span>, <span>string <var>$user</var></span> )</code>

		<div class="description short">
			<p>Obtain the device object.</p>

		</div>

		<div class="description detailed hidden">
			<p>Obtain the device object.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$device</var></dt>
					<dd>
</dd>
					<dt><var>$user</var></dt>
					<dd>
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>StdClass</code>
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="deviceExists" id="_deviceExists">

		<td class="attributes"><code>
			abstract public 

			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_deviceExists">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#583-592" title="Go to source code">deviceExists</a>( <span>string <var>$devId</var></span>, <span>string <var>$user</var> = <span class="php-keyword1">null</span></span> )</code>

		<div class="description short">
			<p>Check that a given device id is known to the server. This is regardless
of Provisioning status.</p>

		</div>

		<div class="description detailed hidden">
			<p>Check that a given device id is known to the server. This is regardless
of Provisioning status.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$devId</var></dt>
					<dd>The device id to check
</dd>
					<dt><var>$user</var></dt>
					<dd>The device should be owned by this user.
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code>
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="setDeviceInfo" id="_setDeviceInfo">

		<td class="attributes"><code>
			abstract public 

			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_setDeviceInfo">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#594-601" title="Go to source code">setDeviceInfo</a>( <span>object <var>$data</var></span> )</code>

		<div class="description short">
			<p>Set new device info</p>

		</div>

		<div class="description detailed hidden">
			<p>Set new device info</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$data</var></dt>
					<dd>$device  The device information
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code>
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="removeState" id="_removeState">

		<td class="attributes"><code>
			abstract public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_removeState">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#603-611" title="Go to source code">removeState</a>( <span>string <var>$synckey</var> = <span class="php-keyword1">null</span></span>, <span>string <var>$devId</var> = <span class="php-keyword1">null</span></span> )</code>

		<div class="description short">
			<p>Explicitly remove a state from storage.</p>

		</div>

		<div class="description detailed hidden">
			<p>Explicitly remove a state from storage.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$synckey</var></dt>
					<dd>The specific state to remove
</dd>
					<dt><var>$devId</var></dt>
					<dd>Remove all state for this device (ignores synckey)
</dd>
				</dl></div>


				<h4>Throws</h4>
				<div class="list">
					Horde_ActiveSyncException
				</div>



		</div>
		</div></td>
	</tr>
	<tr data-order="getHeartbeatInterval" id="_getHeartbeatInterval">

		<td class="attributes"><code>
			abstract public 

			integer
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getHeartbeatInterval">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#613-619" title="Go to source code">getHeartbeatInterval</a>( )</code>

		<div class="description short">
			<p>Return the heartbeat interval, or zero if we have no existing state</p>

		</div>

		<div class="description detailed hidden">
			<p>Return the heartbeat interval, or zero if we have no existing state</p>




				<h4>Returns</h4>
				<div class="list">
					<code>integer</code><br>The hearbeat interval, or zero if not found.

				</div>

				<h4>Throws</h4>
				<div class="list">
					<code><a href="class-Horde_ActiveSync_Exception.html">Horde_ActiveSync_Exception</a></code>
				</div>



		</div>
		</div></td>
	</tr>
	<tr data-order="setHeartbeatInterval" id="_setHeartbeatInterval">

		<td class="attributes"><code>
			abstract public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_setHeartbeatInterval">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#621-626" title="Go to source code">setHeartbeatInterval</a>( <span>integer <var>$heartbeat</var></span> )</code>

		<div class="description short">
			<p>Set the device's heartbeat interval</p>

		</div>

		<div class="description detailed hidden">
			<p>Set the device's heartbeat interval</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$heartbeat</var></dt>
					<dd>The interval (in seconds).
</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="listDevices" id="_listDevices">

		<td class="attributes"><code>
			abstract public 

			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_listDevices">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#628-634" title="Go to source code">listDevices</a>( )</code>

		<div class="description short">
			<p>List all devices that we know about.</p>

		</div>

		<div class="description detailed hidden">
			<p>List all devices that we know about.</p>




				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br>An array of device hashes

				</div>

				<h4>Throws</h4>
				<div class="list">
					<code><a href="class-Horde_ActiveSync_Exception.html">Horde_ActiveSync_Exception</a></code>
				</div>



		</div>
		</div></td>
	</tr>
	<tr data-order="getLastSyncTimestamp" id="_getLastSyncTimestamp">

		<td class="attributes"><code>
			abstract public 

			integer
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getLastSyncTimestamp">#</a>
		<code><a href="source-class-Horde_ActiveSync_State_Base.html#636-642" title="Go to source code">getLastSyncTimestamp</a>( )</code>

		<div class="description short">
			<p>Get the last time the currently loaded device issued a SYNC request.</p>

		</div>

		<div class="description detailed hidden">
			<p>Get the last time the currently loaded device issued a SYNC request.</p>




				<h4>Returns</h4>
				<div class="list">
					<code>integer</code><br>The timestamp of the last sync, regardless of collection

				</div>

				<h4>Throws</h4>
				<div class="list">
					<code><a href="class-Horde_ActiveSync_Exception.html">Horde_ActiveSync_Exception</a></code>
				</div>



		</div>
		</div></td>
	</tr>
	</table>








	<table class="summary constants" id="constants">
	<caption>Constants summary</caption>
	<tr data-order="FILTERTYPE_ALL" id="FILTERTYPE_ALL">

		<td class="attributes"><code>integer</code></td>
		<td class="name">
			<code>
				<a href="source-class-Horde_ActiveSync_State_Base.html#16-19" title="Go to source code"><b>FILTERTYPE_ALL</b></a>
			</code>

			<div class="description short">
				<p>Filtertype constants</p>

			</div>

			<div class="description detailed hidden">
				<p>Filtertype constants</p>


			</div>
		</td>
		<td class="value">
			<div>
				<a href="#FILTERTYPE_ALL" class="anchor">#</a>
				<code><span class="php-num">0</span></code>
			</div>
		</td>
	</tr>
	<tr data-order="FILTERTYPE_1DAY" id="FILTERTYPE_1DAY">

		<td class="attributes"><code>integer</code></td>
		<td class="name">
			<code>
				<a href="source-class-Horde_ActiveSync_State_Base.html#20" title="Go to source code"><b>FILTERTYPE_1DAY</b></a>
			</code>

			<div class="description short">
				

			</div>

			<div class="description detailed hidden">
				


			</div>
		</td>
		<td class="value">
			<div>
				<a href="#FILTERTYPE_1DAY" class="anchor">#</a>
				<code><span class="php-num">1</span></code>
			</div>
		</td>
	</tr>
	<tr data-order="FILTERTYPE_3DAYS" id="FILTERTYPE_3DAYS">

		<td class="attributes"><code>integer</code></td>
		<td class="name">
			<code>
				<a href="source-class-Horde_ActiveSync_State_Base.html#21" title="Go to source code"><b>FILTERTYPE_3DAYS</b></a>
			</code>

			<div class="description short">
				

			</div>

			<div class="description detailed hidden">
				


			</div>
		</td>
		<td class="value">
			<div>
				<a href="#FILTERTYPE_3DAYS" class="anchor">#</a>
				<code><span class="php-num">2</span></code>
			</div>
		</td>
	</tr>
	<tr data-order="FILTERTYPE_1WEEK" id="FILTERTYPE_1WEEK">

		<td class="attributes"><code>integer</code></td>
		<td class="name">
			<code>
				<a href="source-class-Horde_ActiveSync_State_Base.html#22" title="Go to source code"><b>FILTERTYPE_1WEEK</b></a>
			</code>

			<div class="description short">
				

			</div>

			<div class="description detailed hidden">
				


			</div>
		</td>
		<td class="value">
			<div>
				<a href="#FILTERTYPE_1WEEK" class="anchor">#</a>
				<code><span class="php-num">3</span></code>
			</div>
		</td>
	</tr>
	<tr data-order="FILTERTYPE_2WEEKS" id="FILTERTYPE_2WEEKS">

		<td class="attributes"><code>integer</code></td>
		<td class="name">
			<code>
				<a href="source-class-Horde_ActiveSync_State_Base.html#23" title="Go to source code"><b>FILTERTYPE_2WEEKS</b></a>
			</code>

			<div class="description short">
				

			</div>

			<div class="description detailed hidden">
				


			</div>
		</td>
		<td class="value">
			<div>
				<a href="#FILTERTYPE_2WEEKS" class="anchor">#</a>
				<code><span class="php-num">4</span></code>
			</div>
		</td>
	</tr>
	<tr data-order="FILTERTYPE_1MONTH" id="FILTERTYPE_1MONTH">

		<td class="attributes"><code>integer</code></td>
		<td class="name">
			<code>
				<a href="source-class-Horde_ActiveSync_State_Base.html#24" title="Go to source code"><b>FILTERTYPE_1MONTH</b></a>
			</code>

			<div class="description short">
				

			</div>

			<div class="description detailed hidden">
				


			</div>
		</td>
		<td class="value">
			<div>
				<a href="#FILTERTYPE_1MONTH" class="anchor">#</a>
				<code><span class="php-num">5</span></code>
			</div>
		</td>
	</tr>
	<tr data-order="FILTERTYPE_3MONTHS" id="FILTERTYPE_3MONTHS">

		<td class="attributes"><code>integer</code></td>
		<td class="name">
			<code>
				<a href="source-class-Horde_ActiveSync_State_Base.html#25" title="Go to source code"><b>FILTERTYPE_3MONTHS</b></a>
			</code>

			<div class="description short">
				

			</div>

			<div class="description detailed hidden">
				


			</div>
		</td>
		<td class="value">
			<div>
				<a href="#FILTERTYPE_3MONTHS" class="anchor">#</a>
				<code><span class="php-num">6</span></code>
			</div>
		</td>
	</tr>
	<tr data-order="FILTERTYPE_6MONTHS" id="FILTERTYPE_6MONTHS">

		<td class="attributes"><code>integer</code></td>
		<td class="name">
			<code>
				<a href="source-class-Horde_ActiveSync_State_Base.html#26" title="Go to source code"><b>FILTERTYPE_6MONTHS</b></a>
			</code>

			<div class="description short">
				

			</div>

			<div class="description detailed hidden">
				


			</div>
		</td>
		<td class="value">
			<div>
				<a href="#FILTERTYPE_6MONTHS" class="anchor">#</a>
				<code><span class="php-num">7</span></code>
			</div>
		</td>
	</tr>
	</table>










</div>

	<div id="footer">
		 API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
</div>
<script src="resources/combined.js?721046668"></script>
<script src="elementlist.js?3161104126"></script>
</body>
</html>
