<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Class Horde_SyncMl_Device</title>

	<link rel="stylesheet" href="resources/style.css?1648332946">

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
			<h3>Packages</h3>
			<ul>
				<li><a href="namespace-None.html">None</a>
						</li>
				<li class="active"><a href="namespace-SyncMl.html">SyncMl</a>
						</li>
			</ul>
		</div>

		<hr>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-Horde_SyncMl.html">Horde_SyncMl</a></li>
				<li><a href="class-Horde_SyncMl_Backend.html">Horde_SyncMl_Backend</a></li>
				<li><a href="class-Horde_SyncMl_Backend_Horde.html">Horde_SyncMl_Backend_Horde</a></li>
				<li><a href="class-Horde_SyncMl_Command.html">Horde_SyncMl_Command</a></li>
				<li><a href="class-Horde_SyncMl_Command_Alert.html">Horde_SyncMl_Command_Alert</a></li>
				<li><a href="class-Horde_SyncMl_Command_Final.html">Horde_SyncMl_Command_Final</a></li>
				<li><a href="class-Horde_SyncMl_Command_Get.html">Horde_SyncMl_Command_Get</a></li>
				<li><a href="class-Horde_SyncMl_Command_Map.html">Horde_SyncMl_Command_Map</a></li>
				<li><a href="class-Horde_SyncMl_Command_Put.html">Horde_SyncMl_Command_Put</a></li>
				<li><a href="class-Horde_SyncMl_Command_Replace.html">Horde_SyncMl_Command_Replace</a></li>
				<li><a href="class-Horde_SyncMl_Command_Results.html">Horde_SyncMl_Command_Results</a></li>
				<li><a href="class-Horde_SyncMl_Command_Status.html">Horde_SyncMl_Command_Status</a></li>
				<li><a href="class-Horde_SyncMl_Command_Sync.html">Horde_SyncMl_Command_Sync</a></li>
				<li><a href="class-Horde_SyncMl_Command_SyncHdr.html">Horde_SyncMl_Command_SyncHdr</a></li>
				<li><a href="class-Horde_SyncMl_ContentHandler.html">Horde_SyncMl_ContentHandler</a></li>
				<li><a href="class-Horde_SyncMl_DataStore.html">Horde_SyncMl_DataStore</a></li>
				<li class="active"><a href="class-Horde_SyncMl_Device.html">Horde_SyncMl_Device</a></li>
				<li><a href="class-Horde_SyncMl_Device_Nokia.html">Horde_SyncMl_Device_Nokia</a></li>
				<li><a href="class-Horde_SyncMl_Device_P800.html">Horde_SyncMl_Device_P800</a></li>
				<li><a href="class-Horde_SyncMl_Device_sync4j.html">Horde_SyncMl_Device_sync4j</a></li>
				<li><a href="class-Horde_SyncMl_Device_Sync4JMozilla.html">Horde_SyncMl_Device_Sync4JMozilla</a></li>
				<li><a href="class-Horde_SyncMl_Device_Synthesis.html">Horde_SyncMl_Device_Synthesis</a></li>
				<li><a href="class-Horde_SyncMl_DeviceInfo.html">Horde_SyncMl_DeviceInfo</a></li>
				<li><a href="class-Horde_SyncMl_Property.html">Horde_SyncMl_Property</a></li>
				<li><a href="class-Horde_SyncMl_PropertyParameter.html">Horde_SyncMl_PropertyParameter</a></li>
				<li><a href="class-Horde_SyncMl_State.html">Horde_SyncMl_State</a></li>
				<li><a href="class-Horde_SyncMl_Sync.html">Horde_SyncMl_Sync</a></li>
				<li><a href="class-Horde_SyncMl_SyncElement.html">Horde_SyncMl_SyncElement</a></li>
				<li><a href="class-Horde_SyncMl_Translation.html">Horde_SyncMl_Translation</a></li>
				<li><a href="class-Horde_SyncMl_XmlOutput.html">Horde_SyncMl_XmlOutput</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="">
		<input type="hidden" name="ie" value="UTF-8">
		<input type="text" name="q" class="text" placeholder="Search">
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="package-SyncMl.html" title="Summary of SyncMl"><span>Package</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class Horde_SyncMl_Device</h1>


	<div class="description">
	<p>The Horde_SyncMl_Device:: class provides functionality that is potentially
(client) device dependant.</p>

<p>If a sync client needs any kind of special conversion of the data sent to it
or received from it, this is done here. There are two sources of information
to identify an device: The first (and better) one is the DevInf device info
sent by the device during a request. If DevInf is not supported or sent by
the client, the Source/LocURI of the device request might be sufficent to
identify it.</p>

<p>Copyright 2005-2012 Horde LLC (http://www.horde.org/)</p>

<p>See the enclosed file COPYING for license information (LGPL). If you
did not receive this file, see http://www.horde.org/licenses/lgpl21.</p>

	</div>



	<div>
		<h4>Direct known subclasses</h4>
			<a href="class-Horde_SyncMl_Device_Nokia.html">Horde_SyncMl_Device_Nokia</a>, 
			<a href="class-Horde_SyncMl_Device_P800.html">Horde_SyncMl_Device_P800</a>, 
			<a href="class-Horde_SyncMl_Device_sync4j.html">Horde_SyncMl_Device_sync4j</a>, 
			<a href="class-Horde_SyncMl_Device_Sync4JMozilla.html">Horde_SyncMl_Device_Sync4JMozilla</a>, 
			<a href="class-Horde_SyncMl_Device_Synthesis.html">Horde_SyncMl_Device_Synthesis</a>
	</div>






	<div class="info">
		
		
		
		<b>Package:</b> SyncMl<br>

				<b>Author:</b>
				Karsten Fourmont <a href="mail&#116;&#111;&#58;&#107;&#97;&#114;&#115;&#116;&#101;&#110;&#64;&#104;&#111;&#114;&#100;&#101;&#46;&#111;&#114;&#103;">&#107;&#97;&#114;&#115;&#116;&#101;&#110;&#64;&#104;&#111;&#114;&#100;&#101;&#46;&#111;&#114;&#103;</a>
<br>
		<b>Located at</b> <a href="source-class-Horde_SyncMl_Device.html#2-282" title="Go to source code">Horde/SyncMl/Device.php</a><br>
	</div>



	<table class="summary methods" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="factory" id="_factory">

		<td class="attributes"><code>
			 public 

			<code><a href="class-Horde_SyncMl_Device.html">Horde_SyncMl_Device</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_factory">#</a>
		<code><a href="source-class-Horde_SyncMl_Device.html#31-58" title="Go to source code">factory</a>( <span>string <var>$driver</var></span> )</code>

		<div class="description short">
			<p>Attempts to return a concrete Horde_SyncMl_Device instance based on $driver.</p>

		</div>

		<div class="description detailed hidden">
			<p>Attempts to return a concrete Horde_SyncMl_Device instance based on $driver.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$driver</var></dt>
					<dd>&lt;p&gt;The type of concrete Horde_SyncMl_Device subclass to
                       return.&lt;/p&gt;
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code><code><a href="class-Horde_SyncMl_Device.html">Horde_SyncMl_Device</a></code></code><br><p>The newly created concrete Horde_SyncMl_Device
                       instance, or false on error.</p>

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getPreferredContentType" id="_getPreferredContentType">

		<td class="attributes"><code>
			 public 

			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getPreferredContentType">#</a>
		<code><a href="source-class-Horde_SyncMl_Device.html#60-87" title="Go to source code">getPreferredContentType</a>( <span>string <var>$database</var></span> )</code>

		<div class="description short">
			<p>Returns the guessed content type for a database URI.</p>

		</div>

		<div class="description detailed hidden">
			<p>Returns the guessed content type for a database URI.</p>

<p>When a client sends data during a sync but does not provide information
about the MIME content type with this individual item, this function
returns the content type the item is supposed to be in.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$database</var></dt>
					<dd>A database URI.
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>string</code><br>A MIME type that might match the database URI.

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getPreferredContentTypeClient" id="_getPreferredContentTypeClient">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getPreferredContentTypeClient">#</a>
		<code><a href="source-class-Horde_SyncMl_Device.html#89-140" title="Go to source code">getPreferredContentTypeClient</a>( <span>string <var>$serverSyncURI</var></span>, <span>string <var>$sourceSyncURI</var></span> )</code>

		<div class="description short">
			<p>Returns the preferrred MIME content type of the client for the given
sync data type (contacts/tasks/notes/calendar).</p>

		</div>

		<div class="description detailed hidden">
			<p>Returns the preferrred MIME content type of the client for the given
sync data type (contacts/tasks/notes/calendar).</p>

<p>The result is passed as an option to the backend export functions.
This is not the content type ultimately passed to the client but rather
the content type presented to the backend export functions.</p>

<p>After the data is retrieved from the backend, convertServer2Client()
can do some post-processing and set the correct content type acceptable
for the client if necessary.</p>

<p>The default implementation tries to extract the content type from the
device info. If this does not work, some defaults are used.</p>

<p>If the client does not provice proper DevInf data, this public function may
have to be overwritten to return the correct values.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$serverSyncURI</var></dt>
					<dd>&lt;p&gt;The URI for the server database: contacts,
                              notes, calendar or tasks.&lt;/p&gt;
</dd>
					<dt><var>$sourceSyncURI</var></dt>
					<dd>&lt;p&gt;The URI for the client database. This is
                              needed as the DevInf is grouped by
                              sourceSyncURIs.&lt;/p&gt;
</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="convertClient2Server" id="_convertClient2Server">

		<td class="attributes"><code>
			 public 

			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_convertClient2Server">#</a>
		<code><a href="source-class-Horde_SyncMl_Device.html#142-169" title="Go to source code">convertClient2Server</a>( <span>string <var>$content</var></span>, <span>string <var>$contentType</var></span> )</code>

		<div class="description short">
			<p>Converts the content received from the client for the backend.</p>

		</div>

		<div class="description detailed hidden">
			<p>Converts the content received from the client for the backend.</p>

<p>Currently strips UID (primary key) information as client and server
might use different ones.</p>

<p>Charset conversions might be added here too.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$content</var></dt>
					<dd>The content to convert.
</dd>
					<dt><var>$contentType</var></dt>
					<dd>The content type of the content.
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br><p>Two-element array with the converted content and the
               (possibly changed) new content type.</p>

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="convertServer2Client" id="_convertServer2Client">

		<td class="attributes"><code>
			 public 

			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_convertServer2Client">#</a>
		<code><a href="source-class-Horde_SyncMl_Device.html#171-212" title="Go to source code">convertServer2Client</a>( <span>string <var>$content</var></span>, <span>string <var>$contentType</var></span>, <span>string <var>$database</var></span> )</code>

		<div class="description short">
			<p>Converts the content from the backend to a format suitable for the
client device.</p>

		</div>

		<div class="description detailed hidden">
			<p>Converts the content from the backend to a format suitable for the
client device.</p>

<p>Strips the UID (primary key) information as client and server might use
different ones.</p>

<p>Charset conversions might be added here too.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$content</var></dt>
					<dd>The content to convert
</dd>
					<dt><var>$contentType</var></dt>
					<dd>&lt;p&gt;The content type of content as returned
                            from the backend&lt;/p&gt;
</dd>
					<dt><var>$database</var></dt>
					<dd>The server database URI.
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br><p>Three-element array with the converted content, the
               (possibly changed) new content type, and encoding type
               (like b64 as used by Funambol).</p>

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="handleTasksInCalendar" id="_handleTasksInCalendar">

		<td class="attributes"><code>
			 public 

			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_handleTasksInCalendar">#</a>
		<code><a href="source-class-Horde_SyncMl_Device.html#214-227" title="Go to source code">handleTasksInCalendar</a>( )</code>

		<div class="description short">
			<p>Returns whether the device handles tasks and events in a single
"calendar" sync.</p>

		</div>

		<div class="description detailed hidden">
			<p>Returns whether the device handles tasks and events in a single
"calendar" sync.</p>

<p>This requires special actions on our side as we store this in different
backend databases.</p>




				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code><br><p>True if tasks and events are processed in a single
                 request.</p>

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="omitIndividualSyncStatus" id="_omitIndividualSyncStatus">

		<td class="attributes"><code>
			 public 

			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_omitIndividualSyncStatus">#</a>
		<code><a href="source-class-Horde_SyncMl_Device.html#229-238" title="Go to source code">omitIndividualSyncStatus</a>( )</code>

		<div class="description short">
			<p>Returns whether to send individual status response for each Add, Delete
and Replace.</p>

		</div>

		<div class="description detailed hidden">
			<p>Returns whether to send individual status response for each Add, Delete
and Replace.</p>




				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code><br>False if individual status responses should be send.

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="useCdataTag" id="_useCdataTag">

		<td class="attributes"><code>
			 public 

			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_useCdataTag">#</a>
		<code><a href="source-class-Horde_SyncMl_Device.html#240-254" title="Go to source code">useCdataTag</a>( )</code>

		<div class="description short">
			<p>Returns whether the payload data should be enclosed in a [CDATA[
section when sending via XML.</p>

		</div>

		<div class="description detailed hidden">
			<p>Returns whether the payload data should be enclosed in a [CDATA[
section when sending via XML.</p>

<p>The synchronized data may contain XML special characters like &amp;,
&lt; or &gt;. Clients might choke when sending these embedded in XML.
The data should be enclosed in [CDATA[ in these cases.  This applies
only to XML, not to WBXML devices.</p>




				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code><br>True if the data should be enclosed in [CDATA[.

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="useLocalTime" id="_useLocalTime">

		<td class="attributes"><code>
			 public 

			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_useLocalTime">#</a>
		<code><a href="source-class-Horde_SyncMl_Device.html#256-266" title="Go to source code">useLocalTime</a>( )</code>

		<div class="description short">
			<p>Returns whether the device accepts datetimes only in local time format
(DTSTART:20061222T130000) instead of the more robust UTC time
(DTSTART:20061222T110000Z).</p>

		</div>

		<div class="description detailed hidden">
			<p>Returns whether the device accepts datetimes only in local time format
(DTSTART:20061222T130000) instead of the more robust UTC time
(DTSTART:20061222T110000Z).</p>




				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code><br>True if the client doesn't accept UTC datetimes.

				</div>




		</div>
		</div></td>
	</tr>
	</table>












	<table class="summary properties" id="properties">
	<caption>Properties summary</caption>
	<tr data-order="requestedContentType" id="$requestedContentType">
		<td class="attributes"><code>
			public  
			string
		</code></td>

		<td class="name">
				<a href="source-class-Horde_SyncMl_Device.html#23-29" title="Go to source code"><var>$requestedContentType</var></a>

			<div class="description short">
				<p>The original preferred content type of the client, if provided through
DevInf.</p>

			</div>

			<div class="description detailed hidden">
				<p>The original preferred content type of the client, if provided through
DevInf.</p>


			</div>
		</td>
		<td class="value">
			<div>
				<a href="#$requestedContentType" class="anchor">#</a>
				<code></code>
			</div>
		</td>
	</tr>
	</table>






</div>

	<div id="footer">
		 API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
</div>
<script src="resources/combined.js?721046668"></script>
<script src="elementlist.js?3178761201"></script>
</body>
</html>
