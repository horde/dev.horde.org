<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Class Horde_SyncMl_Backend_Sql</title>

	<link rel="stylesheet" href="resources/style.css?1648332946">

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
			<h3>Packages</h3>
			<ul>
				<li class="active"><a href="namespace-None.html">None</a>
						</li>
				<li><a href="namespace-SyncMl.html">SyncMl</a>
						</li>
			</ul>
		</div>

		<hr>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li class="active"><a href="class-Horde_SyncMl_Backend_Sql.html">Horde_SyncMl_Backend_Sql</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="">
		<input type="hidden" name="ie" value="UTF-8">
		<input type="text" name="q" class="text" placeholder="Search">
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="package-None.html" title="Summary of None"><span>Package</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class Horde_SyncMl_Backend_Sql</h1>


	<div class="description">
	

	</div>

	<dl class="tree">
		<dd style="padding-left:0px">
			<a href="class-Horde_SyncMl_Backend.html"><span>Horde_SyncMl_Backend</span></a>
			
			
			
		</dd>
		<dd style="padding-left:30px">
			<img src="resources/inherit.png" alt="Extended by">
<b><span>Horde_SyncMl_Backend_Sql</span></b>			
			
			
		</dd>
	</dl>








	<div class="info">
		
		
		
		

		<b>Located at</b> <a href="source-class-Horde_SyncMl_Backend_Sql.html#70-1145" title="Go to source code">Horde/SyncMl/Backend/Sql.php</a><br>
	</div>



	<table class="summary methods" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="__construct" id="___construct">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#___construct">#</a>
		<code><a href="source-class-Horde_SyncMl_Backend_Sql.html#81-97" title="Go to source code">__construct</a>( <span>array <var>$params</var></span> )</code>

		<div class="description short">
			<p>Constructor.</p>

		</div>

		<div class="description detailed hidden">
			<p>Constructor.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$params</var></dt>
					<dd>&lt;p&gt;A hash with parameters. In addition to those
                      supported by the Horde_SyncMl_Backend class one more
                      parameter is required for the database connection:
                      'dsn' =&gt; connection DSN.&lt;/p&gt;
</dd>
				</dl></div>




				<h4>Overrides</h4>
				<div class="list"><code><a href="class-Horde_SyncMl_Backend.html#___construct">Horde_SyncMl_Backend::__construct()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="isValidDatabaseURI" id="_isValidDatabaseURI">

		<td class="attributes"><code>
			 public 

			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_isValidDatabaseURI">#</a>
		<code><a href="source-class-Horde_SyncMl_Backend_Sql.html#99-127" title="Go to source code">isValidDatabaseURI</a>( <span>string <var>$databaseURI</var></span> )</code>

		<div class="description short">
			<p>Returns whether a database URI is valid to be synced with this backend.</p>

		</div>

		<div class="description detailed hidden">
			<p>Returns whether a database URI is valid to be synced with this backend.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$databaseURI</var></dt>
					<dd>&lt;p&gt;URI of a database. Like calendar, tasks,
                            contacts or notes. May include optional
                            parameters:
                            tasks?options=ignorecompleted.&lt;/p&gt;
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code><br>True if a valid URI.

				</div>



				<h4>Overrides</h4>
				<div class="list"><code><a href="class-Horde_SyncMl_Backend.html#_isValidDatabaseURI">Horde_SyncMl_Backend::isValidDatabaseURI()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="getServerChanges" id="_getServerChanges">

		<td class="attributes"><code>
			 public 

			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getServerChanges">#</a>
		<code><a href="source-class-Horde_SyncMl_Backend_Sql.html#129-255" title="Go to source code">getServerChanges</a>( <span>string <var>$databaseURI</var></span>, <span>integer <var>$from_ts</var></span>, <span>integer <var>$to_ts</var></span>, <span>array <var>&amp; $adds</var></span>, <span>array <var>&amp; $mods</var></span>, <span>array <var>&amp; $dels</var></span> )</code>

		<div class="description short">
			<p>Returns entries that have been modified in the server database.</p>

		</div>

		<div class="description detailed hidden">
			<p>Returns entries that have been modified in the server database.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$databaseURI</var></dt>
					<dd>&lt;p&gt;URI of Database to sync. Like calendar,
                            tasks, contacts or notes. May include
                            optional parameters:
                            tasks?options=ignorecompleted.&lt;/p&gt;
</dd>
					<dt><var>$from_ts</var></dt>
					<dd>Start timestamp.
</dd>
					<dt><var>$to_ts</var></dt>
					<dd>&lt;p&gt;Exclusive end timestamp. Not yet
                            implemented.&lt;/p&gt;
</dd>
					<dt><var>$adds</var></dt>
					<dd>$adds         Output array: hash of adds suid =&gt; 0
</dd>
					<dt><var>$mods</var></dt>
					<dd>&lt;p&gt;$mods         Output array: hash of modifications
                            suid =&gt; cuid&lt;/p&gt;
</dd>
					<dt><var>$dels</var></dt>
					<dd>$dels         Output array: hash of deletions suid =&gt; cuid
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br>True on success or a PEAR_Error object.

				</div>



				<h4>Overrides</h4>
				<div class="list"><code><a href="class-Horde_SyncMl_Backend.html#_getServerChanges">Horde_SyncMl_Backend::getServerChanges()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="retrieveEntry" id="_retrieveEntry">

		<td class="attributes"><code>
			 public 

			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_retrieveEntry">#</a>
		<code><a href="source-class-Horde_SyncMl_Backend_Sql.html#257-285" title="Go to source code">retrieveEntry</a>( <span>string <var>$databaseURI</var></span>, <span>string <var>$suid</var></span>, <span>string <var>$contentType</var></span>, <span>array <var>$fields</var></span> )</code>

		<div class="description short">
			<p>Retrieves an entry from the backend.</p>

		</div>

		<div class="description detailed hidden">
			<p>Retrieves an entry from the backend.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$databaseURI</var></dt>
					<dd>&lt;p&gt;URI of Database to sync. Like calendar,
                            tasks, contacts or notes. May include
                            optional parameters:
                            tasks?options=ignorecompleted.&lt;/p&gt;
</dd>
					<dt><var>$suid</var></dt>
					<dd>&lt;p&gt;Server unique id of the entry: for horde
                            this is the guid.&lt;/p&gt;
</dd>
					<dt><var>$contentType</var></dt>
					<dd>&lt;p&gt;Content-Type: the MIME type in which the
                            public function should return the data.&lt;/p&gt;
</dd>
					<dt><var>$fields</var></dt>
					<dd>&lt;p&gt;Hash of field names and Horde_SyncMl_Property
                            properties with the requested fields.&lt;/p&gt;
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br>A string with the data entry or a PEAR_Error object.

				</div>



				<h4>Overrides</h4>
				<div class="list"><code><a href="class-Horde_SyncMl_Backend.html#_retrieveEntry">Horde_SyncMl_Backend::retrieveEntry()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="addEntry" id="_addEntry">

		<td class="attributes"><code>
			 public 

			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_addEntry">#</a>
		<code><a href="source-class-Horde_SyncMl_Backend_Sql.html#287-329" title="Go to source code">addEntry</a>( <span>string <var>$databaseURI</var></span>, <span>string <var>$content</var></span>, <span>string <var>$contentType</var></span>, <span>string <var>$cuid</var> = <span class="php-keyword1">null</span></span> )</code>

		<div class="description short">
			<p>Adds an entry into the server database.</p>

		</div>

		<div class="description detailed hidden">
			<p>Adds an entry into the server database.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$databaseURI</var></dt>
					<dd>&lt;p&gt;URI of Database to sync. Like calendar,
                            tasks, contacts or notes. May include
                            optional parameters:
                            tasks?options=ignorecompleted.&lt;/p&gt;
</dd>
					<dt><var>$content</var></dt>
					<dd>The actual data.
</dd>
					<dt><var>$contentType</var></dt>
					<dd>MIME type of the content.
</dd>
					<dt><var>$cuid</var></dt>
					<dd>Client ID of this entry.
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br>PEAR_Error or suid (Horde guid) of new entry

				</div>



				<h4>Overrides</h4>
				<div class="list"><code><a href="class-Horde_SyncMl_Backend.html#_addEntry">Horde_SyncMl_Backend::addEntry()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="replaceEntry" id="_replaceEntry">

		<td class="attributes"><code>
			 public 

			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_replaceEntry">#</a>
		<code><a href="source-class-Horde_SyncMl_Backend_Sql.html#331-384" title="Go to source code">replaceEntry</a>( <span>string <var>$databaseURI</var></span>, <span>string <var>$content</var></span>, <span>string <var>$contentType</var></span>, <span>string <var>$cuid</var></span> )</code>

		<div class="description short">
			<p>Replaces an entry in the server database.</p>

		</div>

		<div class="description detailed hidden">
			<p>Replaces an entry in the server database.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$databaseURI</var></dt>
					<dd>&lt;p&gt;URI of Database to sync. Like calendar,
                            tasks, contacts or notes. May include
                            optional parameters:
                            tasks?options=ignorecompleted.&lt;/p&gt;
</dd>
					<dt><var>$content</var></dt>
					<dd>The actual data.
</dd>
					<dt><var>$contentType</var></dt>
					<dd>MIME type of the content.
</dd>
					<dt><var>$cuid</var></dt>
					<dd>Client ID of this entry.
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>string</code><br>PEAR_Error or server ID (Horde GUID) of modified entry.

				</div>



				<h4>Overrides</h4>
				<div class="list"><code><a href="class-Horde_SyncMl_Backend.html#_replaceEntry">Horde_SyncMl_Backend::replaceEntry()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="deleteEntry" id="_deleteEntry">

		<td class="attributes"><code>
			 public 

			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_deleteEntry">#</a>
		<code><a href="source-class-Horde_SyncMl_Backend_Sql.html#386-442" title="Go to source code">deleteEntry</a>( <span>string <var>$databaseURI</var></span>, <span>string <var>$cuid</var></span> )</code>

		<div class="description short">
			<p>Deletes an entry from the server database.</p>

		</div>

		<div class="description detailed hidden">
			<p>Deletes an entry from the server database.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$databaseURI</var></dt>
					<dd>&lt;p&gt;URI of Database to sync. Like calendar,
                            tasks, contacts or notes. May include
                            optional parameters:
                            tasks?options=ignorecompleted.&lt;/p&gt;
</dd>
					<dt><var>$cuid</var></dt>
					<dd>Client ID of the entry.
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code><br>True on success or false on failed (item not found).

				</div>



				<h4>Overrides</h4>
				<div class="list"><code><a href="class-Horde_SyncMl_Backend.html#_deleteEntry">Horde_SyncMl_Backend::deleteEntry()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="writeSyncAnchors" id="_writeSyncAnchors">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_writeSyncAnchors">#</a>
		<code><a href="source-class-Horde_SyncMl_Backend_Sql.html#490-543" title="Go to source code">writeSyncAnchors</a>( <span>string <var>$databaseURI</var></span>, <span>string <var>$clientAnchorNext</var></span>, <span>string <var>$serverAnchorNext</var></span> )</code>

		<div class="description short">
			<p>Stores Sync anchors after a successful synchronization to allow two-way
synchronization next time.</p>

		</div>

		<div class="description detailed hidden">
			<p>Stores Sync anchors after a successful synchronization to allow two-way
synchronization next time.</p>

<p>The backend has to store the parameters in its persistence engine
where user, syncDeviceID and database are the keys while client and
server anchor ar the payload. See readSyncAnchors() for retrieval.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$databaseURI</var></dt>
					<dd>&lt;p&gt;URI of database to sync. Like calendar,
                                 tasks, contacts or notes. May include
                                 optional parameters:
                                 tasks?options=ignorecompleted.&lt;/p&gt;
</dd>
					<dt><var>$clientAnchorNext</var></dt>
					<dd>&lt;p&gt;The client anchor as sent by the
                                 client.&lt;/p&gt;
</dd>
					<dt><var>$serverAnchorNext</var></dt>
					<dd>&lt;p&gt;The anchor as used internally by the
                                 server.&lt;/p&gt;
</dd>
				</dl></div>




				<h4>Overrides</h4>
				<div class="list"><code><a href="class-Horde_SyncMl_Backend.html#_writeSyncAnchors">Horde_SyncMl_Backend::writeSyncAnchors()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="readSyncAnchors" id="_readSyncAnchors">

		<td class="attributes"><code>
			 public 

			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_readSyncAnchors">#</a>
		<code><a href="source-class-Horde_SyncMl_Backend_Sql.html#545-576" title="Go to source code">readSyncAnchors</a>( <span>string <var>$databaseURI</var></span> )</code>

		<div class="description short">
			<p>Reads the previously written sync anchors from the database.</p>

		</div>

		<div class="description detailed hidden">
			<p>Reads the previously written sync anchors from the database.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$databaseURI</var></dt>
					<dd>&lt;p&gt;URI of database to sync. Like calendar,
                            tasks, contacts or notes. May include
                            optional parameters:
                            tasks?options=ignorecompleted.&lt;/p&gt;
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br><p>Two-element array with client anchor and server anchor as
               stored in previous writeSyncAnchor() calls. False if no
               data found.</p>

				</div>



				<h4>Overrides</h4>
				<div class="list"><code><a href="class-Horde_SyncMl_Backend.html#_readSyncAnchors">Horde_SyncMl_Backend::readSyncAnchors()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="createUidMap" id="_createUidMap">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_createUidMap">#</a>
		<code><a href="source-class-Horde_SyncMl_Backend_Sql.html#578-634" title="Go to source code">createUidMap</a>( <span>string <var>$databaseURI</var></span>, <span>string <var>$cuid</var></span>, <span>string <var>$suid</var></span>, <span>integer <var>$timestamp</var> = <span class="php-num">0</span></span> )</code>

		<div class="description short">
			<p>Creates a map entry to map between server and client IDs.</p>

		</div>

		<div class="description detailed hidden">
			<p>Creates a map entry to map between server and client IDs.</p>

<p>If an entry already exists, it is overwritten.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$databaseURI</var></dt>
					<dd>&lt;p&gt;URI of database to sync. Like calendar,
                            tasks, contacts or notes. May include
                            optional parameters:
                            tasks?options=ignorecompleted.&lt;/p&gt;
</dd>
					<dt><var>$cuid</var></dt>
					<dd>Client ID of the entry.
</dd>
					<dt><var>$suid</var></dt>
					<dd>Server ID of the entry.
</dd>
					<dt><var>$timestamp</var></dt>
					<dd>&lt;p&gt;Optional timestamp. This can be used to
                            'tag' changes made in the backend during the
                            sync process. This allows to identify these,
                            and ensure that these changes are not
                            replicated back to the client (and thus
                            duplicated). See key concept "Changes and
                            timestamps".&lt;/p&gt;
</dd>
				</dl></div>




				<h4>Overrides</h4>
				<div class="list"><code><a href="class-Horde_SyncMl_Backend.html#_createUidMap">Horde_SyncMl_Backend::createUidMap()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="eraseMap" id="_eraseMap">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_eraseMap">#</a>
		<code><a href="source-class-Horde_SyncMl_Backend_Sql.html#749-789" title="Go to source code">eraseMap</a>( <span>string <var>$databaseURI</var></span> )</code>

		<div class="description short">
			<p>Erases all mapping entries for one combination of user, device ID.</p>

		</div>

		<div class="description detailed hidden">
			<p>Erases all mapping entries for one combination of user, device ID.</p>

<p>This is used during SlowSync so that we really sync everything properly
and no old mapping entries remain.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$databaseURI</var></dt>
					<dd>&lt;p&gt;URI of database to sync. Like calendar,
                            tasks, contacts or notes. May include
                            optional parameters:
                            tasks?options=ignorecompleted.&lt;/p&gt;
</dd>
				</dl></div>




				<h4>Overrides</h4>
				<div class="list"><code><a href="class-Horde_SyncMl_Backend.html#_eraseMap">Horde_SyncMl_Backend::eraseMap()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="close" id="_close">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_close">#</a>
		<code><a href="source-class-Horde_SyncMl_Backend_Sql.html#791-801" title="Go to source code">close</a>( )</code>

		<div class="description short">
			<p>Cleanup public function called after all message processing is finished.</p>

		</div>

		<div class="description detailed hidden">
			<p>Cleanup public function called after all message processing is finished.</p>

<p>Allows for things like closing databases or flushing logs.  When
running in test mode, tearDown() must be called rather than close.</p>







				<h4>Overrides</h4>
				<div class="list"><code><a href="class-Horde_SyncMl_Backend.html#_close">Horde_SyncMl_Backend::close()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="testSetup" id="_testSetup">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_testSetup">#</a>
		<code><a href="source-class-Horde_SyncMl_Backend_Sql.html#947-968" title="Go to source code">testSetup</a>( <span>string <var>$user</var></span>, <span>string <var>$pwd</var></span> )</code>

		<div class="description short">
			<p>Creates a clean test environment in the backend.</p>

		</div>

		<div class="description detailed hidden">
			<p>Creates a clean test environment in the backend.</p>

<p>Ensures there's a user with the given credentials and an empty data
store.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$user</var></dt>
					<dd>This user accout has to be created in the backend.
</dd>
					<dt><var>$pwd</var></dt>
					<dd>The password for user $user.
</dd>
				</dl></div>




				<h4>Overrides</h4>
				<div class="list"><code><a href="class-Horde_SyncMl_Backend.html#_testSetup">Horde_SyncMl_Backend::testSetup()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="testStart" id="_testStart">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_testStart">#</a>
		<code><a href="source-class-Horde_SyncMl_Backend_Sql.html#970-979" title="Go to source code">testStart</a>( <span>string <var>$user</var></span> )</code>

		<div class="description short">
			<p>Prepares the test start.</p>

		</div>

		<div class="description detailed hidden">
			<p>Prepares the test start.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$user</var></dt>
					<dd>This user accout has to be created in the backend.
</dd>
				</dl></div>




				<h4>Overrides</h4>
				<div class="list"><code><a href="class-Horde_SyncMl_Backend.html#_testStart">Horde_SyncMl_Backend::testStart()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="testTearDown" id="_testTearDown">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_testTearDown">#</a>
		<code><a href="source-class-Horde_SyncMl_Backend_Sql.html#981-990" title="Go to source code">testTearDown</a>( )</code>

		<div class="description short">
			<p>Tears down the test environment after the test is run.</p>

		</div>

		<div class="description detailed hidden">
			<p>Tears down the test environment after the test is run.</p>

<p>Should remove the testuser created during testSetup and all its data.</p>







				<h4>Overrides</h4>
				<div class="list"><code><a href="class-Horde_SyncMl_Backend.html#_testTearDown">Horde_SyncMl_Backend::testTearDown()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="addEntry_backend" id="_addEntry_backend">

		<td class="attributes"><code>
			 public 

			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_addEntry_backend">#</a>
		<code><a href="source-class-Horde_SyncMl_Backend_Sql.html#1000-1042" title="Go to source code">addEntry_backend</a>( <span>string <var>$user</var></span>, <span>string <var>$databaseURI</var></span>, <span>string <var>$content</var></span>, <span>string <var>$contentType</var></span> )</code>

		<div class="description short">
			<p>Adds an entry into the server database.</p>

		</div>

		<div class="description detailed hidden">
			<p>Adds an entry into the server database.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$user</var></dt>
					<dd>&lt;p&gt;The username to use. Not strictly necessery
                            to store this, but it helps for the test
                            environment to clean up all entries for a
                            test user.&lt;/p&gt;
</dd>
					<dt><var>$databaseURI</var></dt>
					<dd>&lt;p&gt;URI of Database to sync. Like calendar,
                            tasks, contacts or notes. May include
                            optional parameters:
                            tasks?options=ignorecompleted.&lt;/p&gt;
</dd>
					<dt><var>$content</var></dt>
					<dd>The actual data.
</dd>
					<dt><var>$contentType</var></dt>
					<dd>MIME type of the content.
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br>PEAR_Error or suid of new entry.

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="replaceEntry_backend" id="_replaceEntry_backend">

		<td class="attributes"><code>
			 public 

			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_replaceEntry_backend">#</a>
		<code><a href="source-class-Horde_SyncMl_Backend_Sql.html#1044-1087" title="Go to source code">replaceEntry_backend</a>( <span>string <var>$user</var></span>, <span>string <var>$databaseURI</var></span>, <span>string <var>$content</var></span>, <span>string <var>$contentType</var></span>, <span>string <var>$suid</var></span> )</code>

		<div class="description short">
			<p>Replaces an entry in the server database.</p>

		</div>

		<div class="description detailed hidden">
			<p>Replaces an entry in the server database.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$user</var></dt>
					<dd>&lt;p&gt;The username to use. Not strictly necessery
                            to store this but, it helps for the test
                            environment to clean up all entries for a
                            test user.&lt;/p&gt;
</dd>
					<dt><var>$databaseURI</var></dt>
					<dd>&lt;p&gt;URI of Database to sync. Like calendar,
                            tasks, contacts or notes. May include
                            optional parameters:
                            tasks?options=ignorecompleted.&lt;/p&gt;
</dd>
					<dt><var>$content</var></dt>
					<dd>The actual data.
</dd>
					<dt><var>$contentType</var></dt>
					<dd>MIME type of the content.
</dd>
					<dt><var>$suid</var></dt>
					<dd>Server ID of this entry.
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>string</code><br>PEAR_Error or suid of modified entry.

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="deleteEntry_backend" id="_deleteEntry_backend">

		<td class="attributes"><code>
			 public 

			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_deleteEntry_backend">#</a>
		<code><a href="source-class-Horde_SyncMl_Backend_Sql.html#1089-1121" title="Go to source code">deleteEntry_backend</a>( <span>string <var>$user</var></span>, <span>string <var>$databaseURI</var></span>, <span>string <var>$suid</var></span> )</code>

		<div class="description short">
			<p>Deletes an entry from the server database.</p>

		</div>

		<div class="description detailed hidden">
			<p>Deletes an entry from the server database.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$user</var></dt>
					<dd>&lt;p&gt;The username to use. Not strictly necessery
                            to store this, but it helps for the test
                            environment to clean up all entries for a
                            test user.&lt;/p&gt;
</dd>
					<dt><var>$databaseURI</var></dt>
					<dd>&lt;p&gt;URI of Database to sync. Like calendar,
                            tasks, contacts or notes. May include
                            optional parameters:
                            tasks?options=ignorecompleted.&lt;/p&gt;
</dd>
					<dt><var>$suid</var></dt>
					<dd>Server ID of the entry.
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code><br>True on success or false on failed (item not found).

				</div>




		</div>
		</div></td>
	</tr>
	</table>

	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-Horde_SyncMl_Backend.html#methods">Horde_SyncMl_Backend</a></caption>
	<tr>
		<td><code>
			<a href="class-Horde_SyncMl_Backend.html#_checkAuthentication">checkAuthentication()</a>, 
			<a href="class-Horde_SyncMl_Backend.html#_factory">factory()</a>, 
			<a href="class-Horde_SyncMl_Backend.html#_getCharset">getCharset()</a>, 
			<a href="class-Horde_SyncMl_Backend.html#_getCurrentTimeStamp">getCurrentTimeStamp()</a>, 
			<a href="class-Horde_SyncMl_Backend.html#_getParameter">getParameter()</a>, 
			<a href="class-Horde_SyncMl_Backend.html#_getSyncDeviceID">getSyncDeviceID()</a>, 
			<a href="class-Horde_SyncMl_Backend.html#_getUser">getUser()</a>, 
			<a href="class-Horde_SyncMl_Backend.html#_logFile">logFile()</a>, 
			<a href="class-Horde_SyncMl_Backend.html#_logMessage">logMessage()</a>, 
			<a href="class-Horde_SyncMl_Backend.html#_normalize">normalize()</a>, 
			<a href="class-Horde_SyncMl_Backend.html#_sessionClose">sessionClose()</a>, 
			<a href="class-Horde_SyncMl_Backend.html#_sessionStart">sessionStart()</a>, 
			<a href="class-Horde_SyncMl_Backend.html#_setCharset">setCharset()</a>, 
			<a href="class-Horde_SyncMl_Backend.html#_setUser">setUser()</a>, 
			<a href="class-Horde_SyncMl_Backend.html#_setupState">setupState()</a>
		</code></td>
	</tr>
	</table>








	<table class="summary inherited">
	<caption>Constants inherited from <a href="class-Horde_SyncMl_Backend.html#constants">Horde_SyncMl_Backend</a></caption>
	<tr>
		<td><code>
			<a href="class-Horde_SyncMl_Backend.html#LOGFILE_CLIENTMESSAGE"><b>LOGFILE_CLIENTMESSAGE</b></a>, 
			<a href="class-Horde_SyncMl_Backend.html#LOGFILE_DATA"><b>LOGFILE_DATA</b></a>, 
			<a href="class-Horde_SyncMl_Backend.html#LOGFILE_DEVINF"><b>LOGFILE_DEVINF</b></a>, 
			<a href="class-Horde_SyncMl_Backend.html#LOGFILE_SERVERMESSAGE"><b>LOGFILE_SERVERMESSAGE</b></a>, 
			<a href="class-Horde_SyncMl_Backend.html#MODE_CLIENT"><b>MODE_CLIENT</b></a>, 
			<a href="class-Horde_SyncMl_Backend.html#MODE_SERVER"><b>MODE_SERVER</b></a>, 
			<a href="class-Horde_SyncMl_Backend.html#MODE_TEST"><b>MODE_TEST</b></a>
		</code></td>
	</tr>
	</table>




	<table class="summary inherited">
	<caption>Properties inherited from <a href="class-Horde_SyncMl_Backend.html#properties">Horde_SyncMl_Backend</a></caption>
	<tr>
		<td><code>
			<a href="class-Horde_SyncMl_Backend.html#$state"><var>$state</var></a>
		</code></td>
	</tr>
	</table>





</div>

	<div id="footer">
		 API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
</div>
<script src="resources/combined.js?721046668"></script>
<script src="elementlist.js?3178761201"></script>
</body>
</html>
