<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Class Agora_Api</title>

	<link rel="stylesheet" href="resources/style.css?1648332946">

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
			<h3>Packages</h3>
			<ul>
				<li class="active"><a href="namespace-Agora.html">Agora</a>
						</li>
				<li><a href="namespace-None.html">None</a>
						</li>
			</ul>
		</div>

		<hr>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-Agora.html">Agora</a></li>
				<li class="active"><a href="class-Agora_Api.html">Agora_Api</a></li>
				<li><a href="class-Agora_Driver.html">Agora_Driver</a></li>
				<li><a href="class-Agora_Driver_SplitSql.html">Agora_Driver_SplitSql</a></li>
				<li><a href="class-Agora_Driver_Sql.html">Agora_Driver_Sql</a></li>
				<li><a href="class-Agora_Exception.html">Agora_Exception</a></li>
				<li><a href="class-Agora_Factory_Driver.html">Agora_Factory_Driver</a></li>
				<li><a href="class-Agora_Form_Forum.html">Agora_Form_Forum</a></li>
				<li><a href="class-Agora_Form_Message.html">Agora_Form_Message</a></li>
				<li><a href="class-Agora_Form_Search.html">Agora_Form_Search</a></li>
				<li><a href="class-Agora_View.html">Agora_View</a></li>
				<li><a href="class-Horde_Form_Renderer_MessageForm.html">Horde_Form_Renderer_MessageForm</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="">
		<input type="hidden" name="ie" value="UTF-8">
		<input type="text" name="q" class="text" placeholder="Search">
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="package-Agora.html" title="Summary of Agora"><span>Package</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class Agora_Api</h1>


	<div class="description">
	<p>Agora external API interface.</p>

<p>This file defines Agora's external API interface. Other
applications can interact with Agora through this API.</p>

<p>Copyright 2003-2012 Horde LLC (http://www.horde.org/)</p>

<p>See the enclosed file COPYING for license information (GPL). If you
did not receive this file, see http://www.horde.org/licenses/gpl.</p>

	</div>

	<dl class="tree">
		<dd style="padding-left:0px">
Horde_Registry_Api
			
			
		</dd>
		<dd style="padding-left:30px">
			<img src="resources/inherit.png" alt="Extended by">
<b><span>Agora_Api</span></b>			
			
			
		</dd>
	</dl>








	<div class="info">
		
		
		
		<b>Package:</b> Agora<br>

				<b>Author:</b>
				Marko Djukic <a href="&#x6d;&#97;&#x69;&#x6c;&#116;&#x6f;&#x3a;&#109;&#x61;&#x72;&#107;&#x6f;&#x40;&#111;&#x62;&#x6c;&#111;&#x2e;&#99;&#111;&#x6d;">&#109;&#x61;&#x72;&#107;&#x6f;&#x40;&#111;&#x62;&#x6c;&#111;&#x2e;&#99;&#111;&#x6d;</a>
<br>
				<b>Author:</b>
				Duck <a href="&#109;&#x61;&#105;&#x6c;&#116;&#x6f;&#58;&#x64;&#117;&#x63;&#107;&#x40;&#111;&#x62;&#97;&#x6c;&#97;&#x2e;&#110;&#x65;&#116;">&#x64;&#117;&#x63;&#107;&#x40;&#111;&#x62;&#97;&#x6c;&#97;&#x2e;&#110;&#x65;&#116;</a>
<br>
		<b>Located at</b> <a href="source-class-Agora_Api.html#3-800" title="Go to source code">Api.php</a><br>
	</div>



	<table class="summary methods" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="listForums" id="_listForums">

		<td class="attributes"><code>
			 public 

			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_listForums">#</a>
		<code><a href="source-class-Agora_Api.html#20-33" title="Go to source code">listForums</a>( <span>integer <var>$forum_id</var> = <span class="php-num">0</span></span>, <span>string <var>$scope</var> = <span class="php-keyword1">null</span></span> )</code>

		<div class="description short">
			<p>Get back a list of available forums.</p>

		</div>

		<div class="description detailed hidden">
			<p>Get back a list of available forums.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$forum_id</var></dt>
					<dd>&lt;p&gt;Supplying this parameter will return a list of
                          child forums of the requested forum id.&lt;/p&gt;
</dd>
					<dt><var>$scope</var></dt>
					<dd>If set, limit the forums to requested application.
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br>The list of available forums.

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getForumName" id="_getForumName">

		<td class="attributes"><code>
			 public 

			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getForumName">#</a>
		<code><a href="source-class-Agora_Api.html#35-52" title="Go to source code">getForumName</a>( <span>string <var>$scope</var></span>, <span>integer <var>$forum_id</var></span> )</code>

		<div class="description short">
			<p>Retrieve the name of a forum</p>

		</div>

		<div class="description detailed hidden">
			<p>Retrieve the name of a forum</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$scope</var></dt>
					<dd>Scope which form belongs to
</dd>
					<dt><var>$forum_id</var></dt>
					<dd>The forum id to fetch the name for.
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br>The forum name | Pear_Error

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="saveForum" id="_saveForum">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_saveForum">#</a>
		<code><a href="source-class-Agora_Api.html#54-73" title="Go to source code">saveForum</a>( <span>string <var>$scope</var></span>, <span>string <var>$parent</var></span>, <span>array <var>$info</var></span> )</code>

		<div class="description short">
			<p>Create or modify an agora forum. This is used for apps to create
forums for their own use. They will not show up in the regular
agora forum view since they will be using a datatree group
'agora.forums.<sope>'.</p>

		</div>

		<div class="description detailed hidden">
			<p>Create or modify an agora forum. This is used for apps to create
forums for their own use. They will not show up in the regular
agora forum view since they will be using a datatree group
'agora.forums.<sope>'.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$scope</var></dt>
					<dd>The Horde application that is saving this forum.
</dd>
					<dt><var>$parent</var></dt>
					<dd>The parent forum.
</dd>
					<dt><var>$info</var></dt>
					<dd>The forum information to save
</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="deleteForum" id="_deleteForum">

		<td class="attributes"><code>
			 public 

			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_deleteForum">#</a>
		<code><a href="source-class-Agora_Api.html#75-100" title="Go to source code">deleteForum</a>( <span>string <var>$scope</var></span>, <span>string <var>$forum_name</var></span> )</code>

		<div class="description short">
			<p>Allow other applications to delete forums. Used when an object that
has been commented on has been deleted.</p>

		</div>

		<div class="description detailed hidden">
			<p>Allow other applications to delete forums. Used when an object that
has been commented on has been deleted.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$scope</var></dt>
					<dd>The Horde application that the forum belongs to.
</dd>
					<dt><var>$forum_name</var></dt>
					<dd>The unique forum name to delete.
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code><br>True on success.

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getThreads" id="_getThreads">

		<td class="attributes"><code>
			 public 

			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getThreads">#</a>
		<code><a href="source-class-Agora_Api.html#102-138" title="Go to source code">getThreads</a>( <span>string <var>$forum_name</var></span>, <span>boolean <var>$sort_by</var> = <span class="php-quote">'message_timestamp'</span></span>, <span>string <var>$sort_dir</var> = <span class="php-num">0</span></span>, <span>integer <var>$bodies</var> = <span class="php-keyword1">false</span></span>, <span>string <var>$scope</var> = <span class="php-quote">'agora'</span></span>, <span>string <var>$base_url</var> = <span class="php-keyword1">null</span></span>, <span>string <var>$from</var> = <span class="php-num">0</span></span>, <span>string <var>$count</var> = <span class="php-num">0</span></span> )</code>

		<div class="description short">
			<p>Returns all messages of a forum, in a threaded order.</p>

		</div>

		<div class="description detailed hidden">
			<p>Returns all messages of a forum, in a threaded order.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$forum_name</var></dt>
					<dd>The unique name for the forum.
</dd>
					<dt><var>$sort_by</var></dt>
					<dd>$bodies      Whether to include message bodies in the view.
</dd>
					<dt><var>$sort_dir</var></dt>
					<dd>$sort_by     Return messages sorted by this property.
</dd>
					<dt><var>$bodies</var></dt>
					<dd>&lt;p&gt;$sort_dir    The direction by which to sort:
                               0 - ascending
                               1 - descending&lt;/p&gt;
</dd>
					<dt><var>$scope</var></dt>
					<dd>&lt;p&gt;The application that the specified forum belongs
                            to.&lt;/p&gt;
</dd>
					<dt><var>$base_url</var></dt>
					<dd>&lt;p&gt;An alternate link where edit/delete/reply links
                            point to.&lt;/p&gt;
</dd>
					<dt><var>$from</var></dt>
					<dd>The thread to begin listing at.
</dd>
					<dt><var>$count</var></dt>
					<dd>The number of threads to return.
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br>All messages of the specified forum.

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getThreadsBatch" id="_getThreadsBatch">

		<td class="attributes"><code>
			 public 

			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getThreadsBatch">#</a>
		<code><a href="source-class-Agora_Api.html#140-176" title="Go to source code">getThreadsBatch</a>( <span>array <var>$forum_names</var></span>, <span>boolean <var>$sort_by</var> = <span class="php-quote">'message_timestamp'</span></span>, <span>string <var>$sort_dir</var> = <span class="php-num">0</span></span>, <span>integer <var>$bodies</var> = <span class="php-keyword1">false</span></span>, <span>string <var>$scope</var> = <span class="php-quote">'agora'</span></span>, <span>string <var>$base_url</var> = <span class="php-keyword1">null</span></span>, <span>string <var>$from</var> = <span class="php-num">0</span></span>, <span>string <var>$count</var> = <span class="php-num">0</span></span> )</code>

		<div class="description short">
			<p>Returns all messages for the forums requested, in a threaded order.</p>

		</div>

		<div class="description detailed hidden">
			<p>Returns all messages for the forums requested, in a threaded order.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$forum_names</var></dt>
					<dd>An array of unique forum names.
</dd>
					<dt><var>$sort_by</var></dt>
					<dd>$bodies       Whether to include message bodies in the view.
</dd>
					<dt><var>$sort_dir</var></dt>
					<dd>$sort_by      Return messages sorted by this property.
</dd>
					<dt><var>$bodies</var></dt>
					<dd>&lt;p&gt;$sort_dir     The direction by which to sort:
                               0 - ascending
                               1 - descending&lt;/p&gt;
</dd>
					<dt><var>$scope</var></dt>
					<dd>&lt;p&gt;The application that the specified forum belongs
                             to.&lt;/p&gt;
</dd>
					<dt><var>$base_url</var></dt>
					<dd>&lt;p&gt;An alternate link where edit/delete/reply links
                             point to.&lt;/p&gt;
</dd>
					<dt><var>$from</var></dt>
					<dd>The thread to begin listing at.
</dd>
					<dt><var>$count</var></dt>
					<dd>The number of threads to return.
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br>An array of message arrays of the specified forum.

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getThreadsByForumOwner" id="_getThreadsByForumOwner">

		<td class="attributes"><code>
			 public 

			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getThreadsByForumOwner">#</a>
		<code><a href="source-class-Agora_Api.html#178-200" title="Go to source code">getThreadsByForumOwner</a>( <span>string <var>$owner</var></span>, <span>boolean <var>$sort_by</var> = <span class="php-quote">'message_timestamp'</span></span>, <span>string <var>$sort_dir</var> = <span class="php-num">0</span></span>, <span>integer <var>$bodies</var> = <span class="php-keyword1">false</span></span>, <span>string <var>$scope</var> = <span class="php-quote">'agora'</span></span>, <span>string <var>$from</var> = <span class="php-num">0</span></span>, <span>string <var>$count</var> = <span class="php-num">0</span></span> )</code>

		<div class="description short">
			<p>Returns all messages of a forum, in a threaded order.</p>

		</div>

		<div class="description detailed hidden">
			<p>Returns all messages of a forum, in a threaded order.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$owner</var></dt>
					<dd>$forum_owner   Forum owner
</dd>
					<dt><var>$sort_by</var></dt>
					<dd>$bodies      Whether to include message bodies in the view.
</dd>
					<dt><var>$sort_dir</var></dt>
					<dd>$sort_by     Return messages sorted by this property.
</dd>
					<dt><var>$bodies</var></dt>
					<dd>&lt;p&gt;$sort_dir    The direction by which to sort:
                               0 - ascending
                               1 - descending&lt;/p&gt;
</dd>
					<dt><var>$scope</var></dt>
					<dd>&lt;p&gt;The application that the specified forum belongs
                            to.&lt;/p&gt;
</dd>
					<dt><var>$from</var></dt>
					<dd>The thread to begin listing at.
</dd>
					<dt><var>$count</var></dt>
					<dd>The number of threads to return.
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br>All messages of the specified forum.

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="numMessages" id="_numMessages">

		<td class="attributes"><code>
			 public 

			integer
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_numMessages">#</a>
		<code><a href="source-class-Agora_Api.html#202-228" title="Go to source code">numMessages</a>( <span>string <var>$forum_name</var></span>, <span>string <var>$scope</var> = <span class="php-quote">'agora'</span></span>, <span>integer <var>$thread_id</var> = <span class="php-keyword1">null</span></span> )</code>

		<div class="description short">
			<p>Returns the number of messages in a forum.</p>

		</div>

		<div class="description detailed hidden">
			<p>Returns the number of messages in a forum.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$forum_name</var></dt>
					<dd>The unique name for the forum.
</dd>
					<dt><var>$scope</var></dt>
					<dd>&lt;p&gt;The application that the specified forum
                            belongs to.&lt;/p&gt;
</dd>
					<dt><var>$thread_id</var></dt>
					<dd>&lt;p&gt;The thread to count, if not supplied it
                            will count all messages&lt;/p&gt;
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>integer</code><br>The number of messages in the specified forum.

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="numMessagesBatch" id="_numMessagesBatch">

		<td class="attributes"><code>
			 public 

			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_numMessagesBatch">#</a>
		<code><a href="source-class-Agora_Api.html#230-268" title="Go to source code">numMessagesBatch</a>( <span>array <var>$forum_name</var></span>, <span>string <var>$scope</var> = <span class="php-quote">'agora'</span></span>, <span>integer <var>$thread_id</var> = <span class="php-keyword1">null</span></span> )</code>

		<div class="description short">
			<p>Returns the number of messages for the requested forums.
All requested forums must belong to the same scope.</p>

		</div>

		<div class="description detailed hidden">
			<p>Returns the number of messages for the requested forums.
All requested forums must belong to the same scope.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$forum_name</var></dt>
					<dd>An array of unique forum names.
</dd>
					<dt><var>$scope</var></dt>
					<dd>&lt;p&gt;The application that the specified forum
                            belongs to.&lt;/p&gt;
</dd>
					<dt><var>$thread_id</var></dt>
					<dd>&lt;p&gt;The thread to count, if not supplied it
                            will count all messages&lt;/p&gt;
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br><p>An array containing the message counts with the forum name as
               the key | PEAR_Error</p>

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="renderThreads" id="_renderThreads">

		<td class="attributes"><code>
			 public 

			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_renderThreads">#</a>
		<code><a href="source-class-Agora_Api.html#270-313" title="Go to source code">renderThreads</a>( <span>string <var>$forum_name</var></span>, <span>boolean <var>$bodies</var> = <span class="php-keyword1">false</span></span>, <span>string <var>$scope</var> = <span class="php-quote">'agora'</span></span>, <span>string <var>$base_url</var> = <span class="php-keyword1">null</span></span>, <span>string <var>$template_file</var> = <span class="php-keyword1">false</span></span> )</code>

		<div class="description short">
			<p>Returns all threads of a forum in a threaded view.</p>

		</div>

		<div class="description detailed hidden">
			<p>Returns all threads of a forum in a threaded view.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$forum_name</var></dt>
					<dd>The unique name for the forum.
</dd>
					<dt><var>$bodies</var></dt>
					<dd>Whether to include message bodies in the view.
</dd>
					<dt><var>$scope</var></dt>
					<dd>The application that the specified forum belongs to.
</dd>
					<dt><var>$base_url</var></dt>
					<dd>&lt;p&gt;An alternate link where edit/delete/reply links
                               point to.&lt;/p&gt;
</dd>
					<dt><var>$template_file</var></dt>
					<dd>Template file to use.
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>string</code><br>The HTML code of the thread view.

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="addMessage" id="_addMessage">

		<td class="attributes"><code>
			 public 

			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_addMessage">#</a>
		<code><a href="source-class-Agora_Api.html#316-375" title="Go to source code">addMessage</a>( <span>string <var>$scope</var></span>, <span>string <var>$forum_name</var></span>, <span>string <var>$callback</var></span>, <span>array <var>$params</var> = <span class="php-keyword1">array</span>()</span> )</code>

		<div class="description short">
			<p>Allows other Horde apps to add/edit messages.</p>

		</div>

		<div class="description detailed hidden">
			<p>Allows other Horde apps to add/edit messages.</p>

<p>The forum name is constructed by just the $forum_name variable
under the data root 'agora.forums.<app>'. It is up to the apps
themselves to make sure that the forum name is unique.</p>

<p>If the forum does not exist, it will be automatically created by
Agora.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$scope</var></dt>
					<dd>The application which is posting this message.
</dd>
					<dt><var>$forum_name</var></dt>
					<dd>The unique name for the forum.
</dd>
					<dt><var>$callback</var></dt>
					<dd>&lt;p&gt;A callback method of the specified application
                           that gets called to make sure that posting to
                           this forum is allowed.&lt;/p&gt;
</dd>
					<dt><var>$params</var></dt>
					<dd>Any parameters for the forum message posting.

&lt;pre&gt;message_id        - An existing message to edit
message_parent_id - The ID of the parent message
message_body      - Message body&lt;/pre&gt;
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br><p>Returns message id if the message was posted
               or PEAR_Error object on error</p>

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="postMessage" id="_postMessage">

		<td class="attributes"><code>
			 public 

			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_postMessage">#</a>
		<code><a href="source-class-Agora_Api.html#377-531" title="Go to source code">postMessage</a>( <span>string <var>$scope</var></span>, <span>string <var>$forum_name</var></span>, <span>string <var>$callback</var></span>, <span>array <var>$params</var> = <span class="php-keyword1">array</span>()</span>, <span>string <var>$url</var> = <span class="php-keyword1">null</span></span>, <span>array <var>$variables</var> = <span class="php-keyword1">null</span></span> )</code>

		<div class="description short">
			<p>Allows other Horde apps to post messages.</p>

		</div>

		<div class="description detailed hidden">
			<p>Allows other Horde apps to post messages.</p>

<p>The forum name is constructed by just the $forum_name variable under the
data root 'agora.forums.<app>'. It is up to the apps themselves to make
sure that the forum name is unique.</p>

<p>If the forum does not exist, it will be automatically created by Agora.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$scope</var></dt>
					<dd>The application which is posting this message.
</dd>
					<dt><var>$forum_name</var></dt>
					<dd>The unique name for the forum.
</dd>
					<dt><var>$callback</var></dt>
					<dd>&lt;p&gt;A callback method of the specified application
                           that gets called to make sure that posting to
                           this forum is allowed.&lt;/p&gt;
</dd>
					<dt><var>$params</var></dt>
					<dd>Any parameters for the forum message posting.

&lt;pre&gt;message_id        - An existing message to edit
message_parent_id - The ID of the parent message
title             - Posting title&lt;/pre&gt;
</dd>
					<dt><var>$url</var></dt>
					<dd>&lt;p&gt;If specified, the form gets submitted to this URL
                           instead of the current page.&lt;/p&gt;
</dd>
					<dt><var>$variables</var></dt>
					<dd>&lt;p&gt;A hash with all variables of a submitted form
                           generated by this method.&lt;/p&gt;
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br><p>Returns either the rendered Horde_Form for posting a message
               or PEAR_Error object on error, or true in case of a
               successful post.</p>

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="removeMessage" id="_removeMessage">

		<td class="attributes"><code>
			 public 

			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_removeMessage">#</a>
		<code><a href="source-class-Agora_Api.html#533-626" title="Go to source code">removeMessage</a>( <span>string <var>$scope</var></span>, <span>string <var>$forum_name</var></span>, <span>string <var>$callback</var></span>, <span>array <var>$params</var> = <span class="php-keyword1">array</span>()</span>, <span>array <var>$variables</var> = <span class="php-keyword1">null</span></span> )</code>

		<div class="description short">
			<p>Allows other Horde apps to remove messages.</p>

		</div>

		<div class="description detailed hidden">
			<p>Allows other Horde apps to remove messages.</p>

<p>The forum name is constructed by just the $forum_name variable
under the data root 'agora.forums.<app>'. It is up to the apps
themselves to make sure that the forum name is unique.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$scope</var></dt>
					<dd>The application which is posting this message.
</dd>
					<dt><var>$forum_name</var></dt>
					<dd>The unique name for the forum.
</dd>
					<dt><var>$callback</var></dt>
					<dd>&lt;p&gt;A callback method of the specified application
                           that gets called to make sure that posting to
                           this forum is allowed.&lt;/p&gt;
</dd>
					<dt><var>$params</var></dt>
					<dd>Any parameters for the forum message posting.

message_id        - An existing message to &lt;span class="php-keyword2"&gt;delete&lt;/span&gt;
</dd>
					<dt><var>$variables</var></dt>
					<dd>&lt;p&gt;A hash with all variables of a submitted form
                           generated by this method.&lt;/p&gt;
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br><p>Returns either the rendered Horde_Form for posting a message
               or PEAR_Error object on error, or true in case of a
               successful post.</p>

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="doComments" id="_doComments">

		<td class="attributes"><code>
			 public 

			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_doComments">#</a>
		<code><a href="source-class-Agora_Api.html#628-707" title="Go to source code">doComments</a>( <span>string <var>$scope</var></span>, <span>string <var>$key</var></span>, <span>string <var>$callback</var></span>, <span>boolean <var>$bodies</var> = <span class="php-keyword1">true</span></span>, <span>string <var>$base_url</var> = <span class="php-keyword1">null</span></span>, <span>string <var>$url</var> = <span class="php-keyword1">null</span></span>, <span>array <var>$variables</var> = <span class="php-keyword1">null</span></span>, <span>string <var>$template_file</var> = <span class="php-keyword1">false</span></span> )</code>

		<div class="description short">
			<p>Allows other Horde apps to post messages.</p>

		</div>

		<div class="description detailed hidden">
			<p>Allows other Horde apps to post messages.</p>

<p>In most apps we use the same code to make comments possible. This function
does most of that. Allow comments to be added to any app. The app itself
should check if the agora api is present, determine a key and call this
function before app::menu is called (before any output has started. At the
end of its output it can print the array returned to show the comments.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$scope</var></dt>
					<dd>The application which is posting this message.
</dd>
					<dt><var>$key</var></dt>
					<dd>&lt;p&gt;Unique key from the object (picture etc we're
                              viewing. It will be used as the forum name.&lt;/p&gt;
</dd>
					<dt><var>$callback</var></dt>
					<dd>&lt;p&gt;A callback method of the specified application
                              that gets called to make sure that posting to
                              this forum is allowed.&lt;/p&gt;
</dd>
					<dt><var>$bodies</var></dt>
					<dd>&lt;p&gt;$body          Show the comment bodies in the thread view or
                              not.&lt;/p&gt;
</dd>
					<dt><var>$base_url</var></dt>
					<dd>&lt;p&gt;Base URL the edit/delete/reply links should
                              point to.&lt;/p&gt;
</dd>
					<dt><var>$url</var></dt>
					<dd>&lt;p&gt;If specified, the form gets submitted to this
                              URL instead of the current page.&lt;/p&gt;
</dd>
					<dt><var>$variables</var></dt>
					<dd>&lt;p&gt;A hash with all variables of a submitted form
                              generated by this method.&lt;/p&gt;
</dd>
					<dt><var>$template_file</var></dt>
					<dd>Template file to use.
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br><p>array  Returns either the rendered Horde_Form for comments
                     and threads for posting/viewing a message or PEAR
                     objects on error.</p>

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="prepareFormData" id="_prepareFormData">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_prepareFormData">#</a>
		<code><a href="source-class-Agora_Api.html#709-785" title="Go to source code">prepareFormData</a>( <span>string <var>$scope</var></span>, <span>string <var>$parent</var> = <span class="php-keyword1">false</span></span>, <span>array <var>$info</var> = <span class="php-keyword1">array</span>()</span>, <span>string <var>$callback</var> = <span class="php-keyword1">null</span></span> )</code>

		<div class="description short">
			<p>Fill up a form data array.</p>

		</div>

		<div class="description detailed hidden">
			<p>Fill up a form data array.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$scope</var></dt>
					<dd>The Horde application that is saving this forum.
</dd>
					<dt><var>$parent</var></dt>
					<dd>The parent forum.
</dd>
					<dt><var>$info</var></dt>
					<dd>&lt;p&gt;The forum information to consisting of:
                             forum_parent_id
                             forum_name
                             forum_description
                             forum_moderated
                             forum_attachments&lt;/p&gt;
</dd>
					<dt><var>$callback</var></dt>
					<dd>&lt;p&gt;A callback method of the specified application
                         that gets called to make sure that posting to
                         this forum is allowed.&lt;/p&gt;
</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="moderateForm" id="_moderateForm">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_moderateForm">#</a>
		<code><a href="source-class-Agora_Api.html#787-799" title="Go to source code">moderateForm</a>( <span>string <var>$scope</var></span> )</code>

		<div class="description short">
			<p>Prepare the moderate form</p>

		</div>

		<div class="description detailed hidden">
			<p>Prepare the moderate form</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$scope</var></dt>
					<dd>The Horde application that is saving this forum.
</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	</table>


















</div>

	<div id="footer">
		 API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
</div>
<script src="resources/combined.js?721046668"></script>
<script src="elementlist.js?2471751124"></script>
</body>
</html>
