<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="robots" content="noindex">

	<title>File Test.php</title>

	<link rel="stylesheet" href="resources/style.css?1648332946">

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
			<h3>Packages</h3>
			<ul>
				<li><a href="namespace-Horde.html">Horde</a>
						</li>
				<li class="active"><a href="namespace-None.html">None</a>
						</li>
			</ul>
		</div>

		<hr>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-Horde_Application.html">Horde_Application</a></li>
				<li><a href="class-Horde_Test.html">Horde_Test</a></li>
			</ul>





			<h3>Functions</h3>
			<ul>
				<li class="active"><a href="function-_.html">_</a></li>
			</ul>
		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="">
		<input type="hidden" name="ie" value="UTF-8">
		<input type="text" name="q" class="text" placeholder="Search">
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="package-None.html" title="Summary of None"><span>Package</span></a>
			</li>
			<li>
				<a href="function-_.html" title="Summary of _"><span>Function</span></a>
			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<pre><code><span id="1" class="l"><a class="l" href="#1">  1: </a><span class="xlang">&lt;?php</span>
</span><span id="2" class="l"><a class="l" href="#2">  2: </a><span class="php-comment">/**
</span></span><span id="3" class="l"><a class="l" href="#3">  3: </a><span class="php-comment"> * The Horde_Test:: class provides functions used in the test scripts
</span></span><span id="4" class="l"><a class="l" href="#4">  4: </a><span class="php-comment"> * used in the various applications (test.php).
</span></span><span id="5" class="l"><a class="l" href="#5">  5: </a><span class="php-comment"> *
</span></span><span id="6" class="l"><a class="l" href="#6">  6: </a><span class="php-comment"> * Copyright 1999-2012 Horde LLC (http://www.horde.org/)
</span></span><span id="7" class="l"><a class="l" href="#7">  7: </a><span class="php-comment"> *
</span></span><span id="8" class="l"><a class="l" href="#8">  8: </a><span class="php-comment"> * See the enclosed file COPYING for license information (LGPL). If you
</span></span><span id="9" class="l"><a class="l" href="#9">  9: </a><span class="php-comment"> * did not receive this file, see http://www.horde.org/licenses/lgpl21.
</span></span><span id="10" class="l"><a class="l" href="#10"> 10: </a><span class="php-comment"> *
</span></span><span id="11" class="l"><a class="l" href="#11"> 11: </a><span class="php-comment"> * @author   Chuck Hagenbuch &lt;chuck@horde.org&gt;
</span></span><span id="12" class="l"><a class="l" href="#12"> 12: </a><span class="php-comment"> * @author   Jon Parise &lt;jon@horde.org&gt;
</span></span><span id="13" class="l"><a class="l" href="#13"> 13: </a><span class="php-comment"> * @author   Brent J. Nordquist &lt;bjn@horde.org&gt;
</span></span><span id="14" class="l"><a class="l" href="#14"> 14: </a><span class="php-comment"> * @author   Michael Slusarz &lt;slusarz@horde.org&gt;
</span></span><span id="15" class="l"><a class="l" href="#15"> 15: </a><span class="php-comment"> * @category Horde
</span></span><span id="16" class="l"><a class="l" href="#16"> 16: </a><span class="php-comment"> * @license  http://www.horde.org/licenses/lgpl21 LGPL 2.1
</span></span><span id="17" class="l"><a class="l" href="#17"> 17: </a><span class="php-comment"> * @package  Horde
</span></span><span id="18" class="l"><a class="l" href="#18"> 18: </a><span class="php-comment"> */</span>
</span><span id="19" class="l"><a class="l" href="#19"> 19: </a>
</span><span id="20" class="l"><a class="l" href="#20"> 20: </a><span class="php-comment">/* If gettext is not loaded, define a dummy _() function so that
</span></span><span id="21" class="l"><a class="l" href="#21"> 21: </a><span class="php-comment"> * including any file with gettext strings won't cause a fatal error,
</span></span><span id="22" class="l"><a class="l" href="#22"> 22: </a><span class="php-comment"> * causing test.php to return a blank page. */</span>
</span><span id="23" class="l"><a class="l" href="#23"> 23: </a><span class="php-keyword1">if</span> (!<span class="php-keyword2">function_exists</span>(<span class="php-quote">'_'</span>)) {
</span><span id="24" class="l"><a class="l" href="#24"> 24: </a>    <span class="php-keyword1">function</span> <a id="__" href="#__">_</a>(<span class="php-var">$s</span>) { <span class="php-keyword1">return</span> <span class="php-var">$s</span>; }
</span><span id="25" class="l"><a class="l" href="#25"> 25: </a>}
</span><span id="26" class="l"><a class="l" href="#26"> 26: </a>
</span><span id="27" class="l"><a class="l" href="#27"> 27: </a><span class="php-keyword1">class</span> <a id="Horde_Test" href="#Horde_Test">Horde_Test</a>
</span><span id="28" class="l"><a class="l" href="#28"> 28: </a>{
</span><span id="29" class="l"><a class="l" href="#29"> 29: </a>    <span class="php-comment">/**
</span></span><span id="30" class="l"><a class="l" href="#30"> 30: </a><span class="php-comment">     * The PHP version of the system.
</span></span><span id="31" class="l"><a class="l" href="#31"> 31: </a><span class="php-comment">     *
</span></span><span id="32" class="l"><a class="l" href="#32"> 32: </a><span class="php-comment">     * @var array
</span></span><span id="33" class="l"><a class="l" href="#33"> 33: </a><span class="php-comment">     */</span>
</span><span id="34" class="l"><a class="l" href="#34"> 34: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$_phpver" href="#$_phpver">$_phpver</a></span>;
</span><span id="35" class="l"><a class="l" href="#35"> 35: </a>
</span><span id="36" class="l"><a class="l" href="#36"> 36: </a>    <span class="php-comment">/**
</span></span><span id="37" class="l"><a class="l" href="#37"> 37: </a><span class="php-comment">     * Supported versions of PHP.
</span></span><span id="38" class="l"><a class="l" href="#38"> 38: </a><span class="php-comment">     *
</span></span><span id="39" class="l"><a class="l" href="#39"> 39: </a><span class="php-comment">     * @var array
</span></span><span id="40" class="l"><a class="l" href="#40"> 40: </a><span class="php-comment">     */</span>
</span><span id="41" class="l"><a class="l" href="#41"> 41: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$_supported" href="#$_supported">$_supported</a></span> = <span class="php-keyword1">array</span>(
</span><span id="42" class="l"><a class="l" href="#42"> 42: </a>        <span class="php-quote">'5.2'</span>, <span class="php-quote">'5.3'</span>
</span><span id="43" class="l"><a class="l" href="#43"> 43: </a>    );
</span><span id="44" class="l"><a class="l" href="#44"> 44: </a>
</span><span id="45" class="l"><a class="l" href="#45"> 45: </a>    <span class="php-comment">/**
</span></span><span id="46" class="l"><a class="l" href="#46"> 46: </a><span class="php-comment">     * The module list
</span></span><span id="47" class="l"><a class="l" href="#47"> 47: </a><span class="php-comment">     * &lt;pre&gt;
</span></span><span id="48" class="l"><a class="l" href="#48"> 48: </a><span class="php-comment">     * KEY:   module name
</span></span><span id="49" class="l"><a class="l" href="#49"> 49: </a><span class="php-comment">     * VALUE: Either the description or an array with the following entries:
</span></span><span id="50" class="l"><a class="l" href="#50"> 50: </a><span class="php-comment">     *        descrip: (string) Module description
</span></span><span id="51" class="l"><a class="l" href="#51"> 51: </a><span class="php-comment">     *        error: (string) Error message
</span></span><span id="52" class="l"><a class="l" href="#52"> 52: </a><span class="php-comment">     *        fatal: (boolean) Is missing module fatal?
</span></span><span id="53" class="l"><a class="l" href="#53"> 53: </a><span class="php-comment">     *        function: (string) Reference to function to run. If function
</span></span><span id="54" class="l"><a class="l" href="#54"> 54: </a><span class="php-comment">     *                  returns boolean true, error message will be output.
</span></span><span id="55" class="l"><a class="l" href="#55"> 55: </a><span class="php-comment">     *                  If function returns a string, this error message
</span></span><span id="56" class="l"><a class="l" href="#56"> 56: </a><span class="php-comment">     *                  will be used.
</span></span><span id="57" class="l"><a class="l" href="#57"> 57: </a><span class="php-comment">     *        phpver: (string) The PHP version above which to do the test
</span></span><span id="58" class="l"><a class="l" href="#58"> 58: </a><span class="php-comment">     * &lt;/pre&gt;
</span></span><span id="59" class="l"><a class="l" href="#59"> 59: </a><span class="php-comment">     *
</span></span><span id="60" class="l"><a class="l" href="#60"> 60: </a><span class="php-comment">     * @var array
</span></span><span id="61" class="l"><a class="l" href="#61"> 61: </a><span class="php-comment">     */</span>
</span><span id="62" class="l"><a class="l" href="#62"> 62: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$_moduleList" href="#$_moduleList">$_moduleList</a></span> = <span class="php-keyword1">array</span>(
</span><span id="63" class="l"><a class="l" href="#63"> 63: </a>        <span class="php-quote">'ctype'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="64" class="l"><a class="l" href="#64"> 64: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'Ctype Support'</span>,
</span><span id="65" class="l"><a class="l" href="#65"> 65: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'The ctype functions are required by the help system, the weather portal blocks, and a few Horde applications.'</span>
</span><span id="66" class="l"><a class="l" href="#66"> 66: </a>        ),
</span><span id="67" class="l"><a class="l" href="#67"> 67: </a>        <span class="php-quote">'dom'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="68" class="l"><a class="l" href="#68"> 68: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'DOM XML Support'</span>,
</span><span id="69" class="l"><a class="l" href="#69"> 69: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Horde will not run without the dom extension. Don\'t compile PHP with &lt;code&gt;--disable-all/--disable-dom&lt;/code&gt;, or enable the dom extension individually before continuing.'</span>,
</span><span id="70" class="l"><a class="l" href="#70"> 70: </a>            <span class="php-quote">'fatal'</span> =&gt; <span class="php-keyword1">true</span>
</span><span id="71" class="l"><a class="l" href="#71"> 71: </a>        ),
</span><span id="72" class="l"><a class="l" href="#72"> 72: </a>        <span class="php-quote">'fileinfo'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="73" class="l"><a class="l" href="#73"> 73: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'MIME Magic Support (fileinfo)'</span>,
</span><span id="74" class="l"><a class="l" href="#74"> 74: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'The fileinfo PECL module is used to provide MIME Magic scanning on unknown data. See horde/docs/INSTALL for information on how to install PECL extensions.'</span>
</span><span id="75" class="l"><a class="l" href="#75"> 75: </a>        ),
</span><span id="76" class="l"><a class="l" href="#76"> 76: </a>        <span class="php-quote">'fileinfo_check'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="77" class="l"><a class="l" href="#77"> 77: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'MIME Magic Support (fileinfo) - Configuration'</span>,
</span><span id="78" class="l"><a class="l" href="#78"> 78: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'The fileinfo module could not open the default MIME Magic database location. You will need to manually specify the MIME Magic database location in the config file.'</span>,
</span><span id="79" class="l"><a class="l" href="#79"> 79: </a>            <span class="php-quote">'function'</span> =&gt; <span class="php-quote">'_checkFileinfo'</span>
</span><span id="80" class="l"><a class="l" href="#80"> 80: </a>        ),
</span><span id="81" class="l"><a class="l" href="#81"> 81: </a>        <span class="php-quote">'ftp'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="82" class="l"><a class="l" href="#82"> 82: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'FTP Support'</span>,
</span><span id="83" class="l"><a class="l" href="#83"> 83: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'FTP support is only required if you want to authenticate against an FTP server, upload your configuration files with FTP, or use an FTP server for file storage.'</span>
</span><span id="84" class="l"><a class="l" href="#84"> 84: </a>        ),
</span><span id="85" class="l"><a class="l" href="#85"> 85: </a>        <span class="php-quote">'gd'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="86" class="l"><a class="l" href="#86"> 86: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'GD Support'</span>,
</span><span id="87" class="l"><a class="l" href="#87"> 87: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Horde will use the GD extension to perform manipulations on image data. You can also use either the ImageMagick software or Imagick extension to do these manipulations instead.'</span>
</span><span id="88" class="l"><a class="l" href="#88"> 88: </a>        ),
</span><span id="89" class="l"><a class="l" href="#89"> 89: </a>        <span class="php-quote">'gettext'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="90" class="l"><a class="l" href="#90"> 90: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'Gettext Support'</span>,
</span><span id="91" class="l"><a class="l" href="#91"> 91: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Horde will not run without gettext support. Compile PHP with &lt;code&gt;--with-gettext&lt;/code&gt; before continuing.'</span>,
</span><span id="92" class="l"><a class="l" href="#92"> 92: </a>            <span class="php-quote">'fatal'</span> =&gt; <span class="php-keyword1">true</span>
</span><span id="93" class="l"><a class="l" href="#93"> 93: </a>        ),
</span><span id="94" class="l"><a class="l" href="#94"> 94: </a>        <span class="php-quote">'geoip'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="95" class="l"><a class="l" href="#95"> 95: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'GeoIP Support (PECL extension)'</span>,
</span><span id="96" class="l"><a class="l" href="#96"> 96: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Horde can optionally use the GeoIP extension to provide faster country name lookups.'</span>
</span><span id="97" class="l"><a class="l" href="#97"> 97: </a>        ),
</span><span id="98" class="l"><a class="l" href="#98"> 98: </a>        <span class="php-quote">'hash'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="99" class="l"><a class="l" href="#99"> 99: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'Hash Support'</span>,
</span><span id="100" class="l"><a class="l" href="#100">100: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Horde will not run without the hash extension. Don\'t compile PHP with &lt;code&gt;--disable-all/--disable-hash&lt;/code&gt;, or enable the hash extension individually before continuing.'</span>,
</span><span id="101" class="l"><a class="l" href="#101">101: </a>            <span class="php-quote">'fatal'</span> =&gt; <span class="php-keyword1">true</span>
</span><span id="102" class="l"><a class="l" href="#102">102: </a>        ),
</span><span id="103" class="l"><a class="l" href="#103">103: </a>        <span class="php-quote">'iconv'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="104" class="l"><a class="l" href="#104">104: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'Iconv Support'</span>,
</span><span id="105" class="l"><a class="l" href="#105">105: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'If you want to take full advantage of Horde\'s localization features and character set support, you will need the iconv extension.'</span>
</span><span id="106" class="l"><a class="l" href="#106">106: </a>        ),
</span><span id="107" class="l"><a class="l" href="#107">107: </a>        <span class="php-quote">'iconv_libiconv'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="108" class="l"><a class="l" href="#108">108: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'GNU Iconv Support'</span>,
</span><span id="109" class="l"><a class="l" href="#109">109: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'For best results make sure the iconv extension is linked against GNU libiconv.'</span>,
</span><span id="110" class="l"><a class="l" href="#110">110: </a>            <span class="php-quote">'function'</span> =&gt; <span class="php-quote">'_checkIconvImplementation'</span>
</span><span id="111" class="l"><a class="l" href="#111">111: </a>        ),
</span><span id="112" class="l"><a class="l" href="#112">112: </a>        <span class="php-quote">'intl'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="113" class="l"><a class="l" href="#113">113: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'Internationalization Support'</span>,
</span><span id="114" class="l"><a class="l" href="#114">114: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Horde requires the intl module to handle Internationalized Domain Names. This module can either be compiled with PHP 5.3.0+ (requires &lt;code&gt;--enable-intl&lt;/code&gt;) or can be installed via PECL.'</span>
</span><span id="115" class="l"><a class="l" href="#115">115: </a>        ),
</span><span id="116" class="l"><a class="l" href="#116">116: </a>        <span class="php-quote">'imagick'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="117" class="l"><a class="l" href="#117">117: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'Imagick Library'</span>,
</span><span id="118" class="l"><a class="l" href="#118">118: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Horde can make use of the Imagick Library, if it is installed on your system.  It is highly recommended to use either ImageMagick\'s convert utility or the Imagick php library for faster results.'</span>
</span><span id="119" class="l"><a class="l" href="#119">119: </a>        ),
</span><span id="120" class="l"><a class="l" href="#120">120: </a>        <span class="php-quote">'json'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="121" class="l"><a class="l" href="#121">121: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'JSON Support'</span>,
</span><span id="122" class="l"><a class="l" href="#122">122: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Horde will not run without the json extension. Don\'t compile PHP with &lt;code&gt;--disable-all/--disable-json&lt;/code&gt;, or enable the json extension individually before continuing.'</span>,
</span><span id="123" class="l"><a class="l" href="#123">123: </a>            <span class="php-quote">'fatal'</span> =&gt; <span class="php-keyword1">true</span>
</span><span id="124" class="l"><a class="l" href="#124">124: </a>        ),
</span><span id="125" class="l"><a class="l" href="#125">125: </a>        <span class="php-quote">'ldap'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="126" class="l"><a class="l" href="#126">126: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'LDAP Support'</span>,
</span><span id="127" class="l"><a class="l" href="#127">127: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'LDAP support is only required if you want to use an LDAP server for anything like authentication, address books, or preference storage.'</span>
</span><span id="128" class="l"><a class="l" href="#128">128: </a>        ),
</span><span id="129" class="l"><a class="l" href="#129">129: </a>        <span class="php-quote">'lzf'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="130" class="l"><a class="l" href="#130">130: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'LZF Compression Support (PECL extension)'</span>,
</span><span id="131" class="l"><a class="l" href="#131">131: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'If the lzf PECL module is available, Horde can compress some cached data in your session to make your session size smaller.'</span>
</span><span id="132" class="l"><a class="l" href="#132">132: </a>        ),
</span><span id="133" class="l"><a class="l" href="#133">133: </a>        <span class="php-quote">'mbstring'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="134" class="l"><a class="l" href="#134">134: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'Mbstring Support'</span>,
</span><span id="135" class="l"><a class="l" href="#135">135: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'If you want to take full advantage of Horde\'s localization features and character set support, you will need the mbstring extension.'</span>
</span><span id="136" class="l"><a class="l" href="#136">136: </a>        ),
</span><span id="137" class="l"><a class="l" href="#137">137: </a>        <span class="php-quote">'memcache'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="138" class="l"><a class="l" href="#138">138: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'memcached Support (memcache) (PECL extension)'</span>,
</span><span id="139" class="l"><a class="l" href="#139">139: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'The memcache PECL module is only needed if you are using a memcached server for caching or sessions. See horde/docs/INSTALL for information on how to install PECL/PHP extensions.'</span>
</span><span id="140" class="l"><a class="l" href="#140">140: </a>        ),
</span><span id="141" class="l"><a class="l" href="#141">141: </a>        <span class="php-quote">'mysql'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="142" class="l"><a class="l" href="#142">142: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'MySQL Support'</span>,
</span><span id="143" class="l"><a class="l" href="#143">143: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'The MySQL extension is only required if you want to use a MySQL database server for data storage.'</span>
</span><span id="144" class="l"><a class="l" href="#144">144: </a>        ),
</span><span id="145" class="l"><a class="l" href="#145">145: </a>        <span class="php-quote">'openssl'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="146" class="l"><a class="l" href="#146">146: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'OpenSSL Support'</span>,
</span><span id="147" class="l"><a class="l" href="#147">147: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'The OpenSSL extension is required for any kind of S/MIME support.'</span>
</span><span id="148" class="l"><a class="l" href="#148">148: </a>        ),
</span><span id="149" class="l"><a class="l" href="#149">149: </a>        <span class="php-quote">'pam'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="150" class="l"><a class="l" href="#150">150: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'PAM Support'</span>,
</span><span id="151" class="l"><a class="l" href="#151">151: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'The PAM extension is required to allow PAM authentication to be used.'</span>,
</span><span id="152" class="l"><a class="l" href="#152">152: </a>            <span class="php-quote">'function'</span> =&gt; <span class="php-quote">'_checkPam'</span>
</span><span id="153" class="l"><a class="l" href="#153">153: </a>        ),
</span><span id="154" class="l"><a class="l" href="#154">154: </a>        <span class="php-quote">'pcre'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="155" class="l"><a class="l" href="#155">155: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'PCRE Support'</span>,
</span><span id="156" class="l"><a class="l" href="#156">156: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Horde will not run without the pcre extension. Don\'t compile PHP with &lt;code&gt;--disable-all/--without-pcre-regex&lt;/code&gt;, or enable the pcre extension individually before continuing.'</span>,
</span><span id="157" class="l"><a class="l" href="#157">157: </a>            <span class="php-quote">'fatal'</span> =&gt; <span class="php-keyword1">true</span>
</span><span id="158" class="l"><a class="l" href="#158">158: </a>        ),
</span><span id="159" class="l"><a class="l" href="#159">159: </a>        <span class="php-quote">'pdo'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="160" class="l"><a class="l" href="#160">160: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'PDO'</span>,
</span><span id="161" class="l"><a class="l" href="#161">161: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'The PDO extension is required if you plan on using a database backend other than mysql or mysqli with Horde_Db.'</span>,
</span><span id="162" class="l"><a class="l" href="#162">162: </a>        ),
</span><span id="163" class="l"><a class="l" href="#163">163: </a>        <span class="php-quote">'pgsql'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="164" class="l"><a class="l" href="#164">164: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'PostgreSQL Support'</span>,
</span><span id="165" class="l"><a class="l" href="#165">165: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'The PostgreSQL extension is only required if you want to use a PostgreSQL database server for data storage.'</span>
</span><span id="166" class="l"><a class="l" href="#166">166: </a>        ),
</span><span id="167" class="l"><a class="l" href="#167">167: </a>        <span class="php-quote">'session'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="168" class="l"><a class="l" href="#168">168: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'Session Support'</span>,
</span><span id="169" class="l"><a class="l" href="#169">169: </a>            <span class="php-quote">'fatal'</span> =&gt; <span class="php-keyword1">true</span>
</span><span id="170" class="l"><a class="l" href="#170">170: </a>        ),
</span><span id="171" class="l"><a class="l" href="#171">171: </a>        <span class="php-quote">'SimpleXML'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="172" class="l"><a class="l" href="#172">172: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'SimpleXML support'</span>,
</span><span id="173" class="l"><a class="l" href="#173">173: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Horde will not run without the SimpleXML extension. Don\'t compile PHP with &lt;code&gt;--disable-all/--disable-simplexml&lt;/code&gt;, or enable the SimpleXML extension individually before continuing.'</span>,
</span><span id="174" class="l"><a class="l" href="#174">174: </a>            <span class="php-quote">'fatal'</span> =&gt; <span class="php-keyword1">true</span>
</span><span id="175" class="l"><a class="l" href="#175">175: </a>        ),
</span><span id="176" class="l"><a class="l" href="#176">176: </a>        <span class="php-quote">'tidy'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="177" class="l"><a class="l" href="#177">177: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'Tidy support'</span>,
</span><span id="178" class="l"><a class="l" href="#178">178: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'The tidy PHP extension is used to sanitize HTML data.'</span>
</span><span id="179" class="l"><a class="l" href="#179">179: </a>        ),
</span><span id="180" class="l"><a class="l" href="#180">180: </a>        <span class="php-quote">'xml'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="181" class="l"><a class="l" href="#181">181: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'XML Parser support'</span>,
</span><span id="182" class="l"><a class="l" href="#182">182: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Horde will not run without the xml extension. Don\'t compile PHP with &lt;code&gt;--disable-all/--without-xml&lt;/code&gt;, or enable the xml extension individually before continuing.'</span>,
</span><span id="183" class="l"><a class="l" href="#183">183: </a>            <span class="php-quote">'fatal'</span> =&gt; <span class="php-keyword1">true</span>,
</span><span id="184" class="l"><a class="l" href="#184">184: </a>            <span class="php-quote">'function'</span> =&gt; <span class="php-quote">'_checkLibxmlVersion'</span>
</span><span id="185" class="l"><a class="l" href="#185">185: </a>        ),
</span><span id="186" class="l"><a class="l" href="#186">186: </a>        <span class="php-quote">'zlib'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="187" class="l"><a class="l" href="#187">187: </a>            <span class="php-quote">'descrip'</span> =&gt; <span class="php-quote">'Zlib Support'</span>,
</span><span id="188" class="l"><a class="l" href="#188">188: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'The zlib module is highly recommended for use with Horde.  It allows page compression and handling of ZIP and GZ data. Compile PHP with &lt;code&gt;--with-zlib&lt;/code&gt; to activate.'</span>
</span><span id="189" class="l"><a class="l" href="#189">189: </a>        )
</span><span id="190" class="l"><a class="l" href="#190">190: </a>    );
</span><span id="191" class="l"><a class="l" href="#191">191: </a>
</span><span id="192" class="l"><a class="l" href="#192">192: </a>    <span class="php-comment">/**
</span></span><span id="193" class="l"><a class="l" href="#193">193: </a><span class="php-comment">     * PHP settings list.
</span></span><span id="194" class="l"><a class="l" href="#194">194: </a><span class="php-comment">     * &lt;pre&gt;
</span></span><span id="195" class="l"><a class="l" href="#195">195: </a><span class="php-comment">     * KEY:   setting name
</span></span><span id="196" class="l"><a class="l" href="#196">196: </a><span class="php-comment">     * VALUE: An array with the following entries:
</span></span><span id="197" class="l"><a class="l" href="#197">197: </a><span class="php-comment">     *        error: (string) Error message.
</span></span><span id="198" class="l"><a class="l" href="#198">198: </a><span class="php-comment">     *        function: (string) Reference to function to run. If function
</span></span><span id="199" class="l"><a class="l" href="#199">199: </a><span class="php-comment">     *                  returns non-empty value, error message will be output.
</span></span><span id="200" class="l"><a class="l" href="#200">200: </a><span class="php-comment">     *        setting: (mixed) Either a boolean (whether setting should be
</span></span><span id="201" class="l"><a class="l" href="#201">201: </a><span class="php-comment">     *                 on or off) or 'value', which will simply output the
</span></span><span id="202" class="l"><a class="l" href="#202">202: </a><span class="php-comment">     *                 value of the setting.
</span></span><span id="203" class="l"><a class="l" href="#203">203: </a><span class="php-comment">     * &lt;/pre&gt;
</span></span><span id="204" class="l"><a class="l" href="#204">204: </a><span class="php-comment">     *
</span></span><span id="205" class="l"><a class="l" href="#205">205: </a><span class="php-comment">     * @var array
</span></span><span id="206" class="l"><a class="l" href="#206">206: </a><span class="php-comment">     */</span>
</span><span id="207" class="l"><a class="l" href="#207">207: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$_settingsList" href="#$_settingsList">$_settingsList</a></span> = <span class="php-keyword1">array</span>(
</span><span id="208" class="l"><a class="l" href="#208">208: </a>        <span class="php-quote">'allow_url_include'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="209" class="l"><a class="l" href="#209">209: </a>            <span class="php-quote">'setting'</span> =&gt; <span class="php-keyword1">false</span>,
</span><span id="210" class="l"><a class="l" href="#210">210: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'This is a security hazard. Horde will attempt to disable automatically, but it is best to manually disable also.'</span>
</span><span id="211" class="l"><a class="l" href="#211">211: </a>        ),
</span><span id="212" class="l"><a class="l" href="#212">212: </a>        <span class="php-quote">'magic_quotes_runtime'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="213" class="l"><a class="l" href="#213">213: </a>            <span class="php-quote">'setting'</span> =&gt; <span class="php-keyword1">false</span>,
</span><span id="214" class="l"><a class="l" href="#214">214: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'magic_quotes_runtime may cause problems with database inserts, etc. Horde will attempt to disable automatically, but it is best to manually disable also.'</span>
</span><span id="215" class="l"><a class="l" href="#215">215: </a>        ),
</span><span id="216" class="l"><a class="l" href="#216">216: </a>        <span class="php-quote">'magic_quotes_sybase'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="217" class="l"><a class="l" href="#217">217: </a>            <span class="php-quote">'setting'</span> =&gt; <span class="php-keyword1">false</span>,
</span><span id="218" class="l"><a class="l" href="#218">218: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'magic_quotes_sybase may cause problems with database inserts, etc. Horde will attempt to disable automatically, but it is best to manually disable also.'</span>
</span><span id="219" class="l"><a class="l" href="#219">219: </a>        ),
</span><span id="220" class="l"><a class="l" href="#220">220: </a>        <span class="php-quote">'memory_limit'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="221" class="l"><a class="l" href="#221">221: </a>            <span class="php-quote">'setting'</span> =&gt; <span class="php-quote">'value'</span>,
</span><span id="222" class="l"><a class="l" href="#222">222: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'If PHP\'s internal memory limit is not set high enough Horde will not be able to handle large data items. It is recommended to set the value of memory_limit in php.ini to at least 64M.'</span>,
</span><span id="223" class="l"><a class="l" href="#223">223: </a>            <span class="php-quote">'function'</span> =&gt; <span class="php-quote">'_checkMemoryLimit'</span>
</span><span id="224" class="l"><a class="l" href="#224">224: </a>        ),
</span><span id="225" class="l"><a class="l" href="#225">225: </a>        <span class="php-quote">'register_globals'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="226" class="l"><a class="l" href="#226">226: </a>            <span class="php-quote">'setting'</span> =&gt; <span class="php-keyword1">false</span>,
</span><span id="227" class="l"><a class="l" href="#227">227: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Register globals has been deprecated in PHP 5. Horde will fatally exit if it is set. Turn it off.'</span>
</span><span id="228" class="l"><a class="l" href="#228">228: </a>        ),
</span><span id="229" class="l"><a class="l" href="#229">229: </a>        <span class="php-quote">'safe_mode'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="230" class="l"><a class="l" href="#230">230: </a>            <span class="php-quote">'setting'</span> =&gt; <span class="php-keyword1">false</span>,
</span><span id="231" class="l"><a class="l" href="#231">231: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'If safe_mode is enabled, Horde cannot set enviroment variables, which means Horde will be unable to translate the user interface into different languages.'</span>
</span><span id="232" class="l"><a class="l" href="#232">232: </a>        ),
</span><span id="233" class="l"><a class="l" href="#233">233: </a>        <span class="php-quote">'session.auto_start'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="234" class="l"><a class="l" href="#234">234: </a>            <span class="php-quote">'setting'</span> =&gt; <span class="php-keyword1">false</span>,
</span><span id="235" class="l"><a class="l" href="#235">235: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Horde won\'t work with automatically started sessions, because it explicitly creates new session when necessary to protect against session fixations.'</span>
</span><span id="236" class="l"><a class="l" href="#236">236: </a>        ),
</span><span id="237" class="l"><a class="l" href="#237">237: </a>        <span class="php-quote">'session.gc_divisor'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="238" class="l"><a class="l" href="#238">238: </a>            <span class="php-quote">'setting'</span> =&gt; <span class="php-quote">'value'</span>,
</span><span id="239" class="l"><a class="l" href="#239">239: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'PHP automatically garbage collects old session information, as long as this setting (and session.gc_probability) are set to non-zero. It is recommended that this value be &quot;10000&quot; or higher (see docs/INSTALL).'</span>,
</span><span id="240" class="l"><a class="l" href="#240">240: </a>            <span class="php-quote">'function'</span> =&gt; <span class="php-quote">'_checkGcDivisor'</span>
</span><span id="241" class="l"><a class="l" href="#241">241: </a>        ),
</span><span id="242" class="l"><a class="l" href="#242">242: </a>        <span class="php-quote">'session.gc_probability'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="243" class="l"><a class="l" href="#243">243: </a>            <span class="php-quote">'setting'</span> =&gt; <span class="php-quote">'value'</span>,
</span><span id="244" class="l"><a class="l" href="#244">244: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'PHP automatically garbage collects old session information, as long as this setting (and session.gc_divisor) are set to non-zero. It is recommended that this value be &quot;1&quot;.'</span>,
</span><span id="245" class="l"><a class="l" href="#245">245: </a>            <span class="php-quote">'function'</span> =&gt; <span class="php-quote">'_checkGcProbability'</span>
</span><span id="246" class="l"><a class="l" href="#246">246: </a>        ),
</span><span id="247" class="l"><a class="l" href="#247">247: </a>        <span class="php-quote">'session.use_trans_sid'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="248" class="l"><a class="l" href="#248">248: </a>            <span class="php-quote">'setting'</span> =&gt; <span class="php-keyword1">false</span>,
</span><span id="249" class="l"><a class="l" href="#249">249: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Horde will work with session.use_trans_sid turned on, but you may see double session-ids in your URLs, and if the session name in php.ini differs from the session name configured in Horde, you may get two session ids and see other odd behavior. The URL-rewriting that use_trans_sid does also tends to break XHTML compliance. In short, you should really disable this.'</span>
</span><span id="250" class="l"><a class="l" href="#250">250: </a>        ),
</span><span id="251" class="l"><a class="l" href="#251">251: </a>        <span class="php-quote">'tidy.clean_output'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="252" class="l"><a class="l" href="#252">252: </a>            <span class="php-quote">'setting'</span> =&gt; <span class="php-keyword1">false</span>,
</span><span id="253" class="l"><a class="l" href="#253">253: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'This will break output of any dynamically created, non-HTML content. Horde will attempt to disable automatically, but it is best to manually disable also.'</span>
</span><span id="254" class="l"><a class="l" href="#254">254: </a>        ),
</span><span id="255" class="l"><a class="l" href="#255">255: </a>        <span class="php-quote">'zend_accelerator.compress_all'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="256" class="l"><a class="l" href="#256">256: </a>            <span class="php-quote">'setting'</span> =&gt; <span class="php-keyword1">false</span>,
</span><span id="257" class="l"><a class="l" href="#257">257: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'You should not enable output compression unconditionally because some browsers and scripts don\'t work well with output compression. Enable compression in Horde\'s configuration instead, so that we have full control over the conditions where to enable and disable it.'</span>
</span><span id="258" class="l"><a class="l" href="#258">258: </a>        ),
</span><span id="259" class="l"><a class="l" href="#259">259: </a>        <span class="php-quote">'zend.ze1_compatibility_mode'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="260" class="l"><a class="l" href="#260">260: </a>            <span class="php-quote">'setting'</span> =&gt; <span class="php-keyword1">false</span>,
</span><span id="261" class="l"><a class="l" href="#261">261: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Unneeded, deprecated PHP 4 compatibility option. Horde will attempt to disable automatically, but it is best to manually disable also.'</span>
</span><span id="262" class="l"><a class="l" href="#262">262: </a>        ),
</span><span id="263" class="l"><a class="l" href="#263">263: </a>        <span class="php-quote">'zlib.output_compression'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="264" class="l"><a class="l" href="#264">264: </a>            <span class="php-quote">'setting'</span> =&gt; <span class="php-keyword1">false</span>,
</span><span id="265" class="l"><a class="l" href="#265">265: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'You should not enable output compression unconditionally because some browsers and scripts don\'t work well with output compression. Enable compression in Horde\'s configuration instead, so that we have full control over the conditions where to enable and disable it.'</span>
</span><span id="266" class="l"><a class="l" href="#266">266: </a>        )
</span><span id="267" class="l"><a class="l" href="#267">267: </a>    );
</span><span id="268" class="l"><a class="l" href="#268">268: </a>
</span><span id="269" class="l"><a class="l" href="#269">269: </a>    <span class="php-comment">/**
</span></span><span id="270" class="l"><a class="l" href="#270">270: </a><span class="php-comment">     * PEAR modules list.
</span></span><span id="271" class="l"><a class="l" href="#271">271: </a><span class="php-comment">     * &lt;pre&gt;
</span></span><span id="272" class="l"><a class="l" href="#272">272: </a><span class="php-comment">     * KEY:   PEAR class name
</span></span><span id="273" class="l"><a class="l" href="#273">273: </a><span class="php-comment">     * VALUE: An array with the following entries:
</span></span><span id="274" class="l"><a class="l" href="#274">274: </a><span class="php-comment">     *        depends: (?) This module depends on another module.
</span></span><span id="275" class="l"><a class="l" href="#275">275: </a><span class="php-comment">     *        error: (string) Error message.
</span></span><span id="276" class="l"><a class="l" href="#276">276: </a><span class="php-comment">     *        function: (string) Reference to function to run if module is
</span></span><span id="277" class="l"><a class="l" href="#277">277: </a><span class="php-comment">     *                  found.
</span></span><span id="278" class="l"><a class="l" href="#278">278: </a><span class="php-comment">     *        path: (string) The path to the PEAR module. Only needed if
</span></span><span id="279" class="l"><a class="l" href="#279">279: </a><span class="php-comment">     *                 KEY is not autoloadable.
</span></span><span id="280" class="l"><a class="l" href="#280">280: </a><span class="php-comment">     *        required: (boolean) Is this PEAR module required?
</span></span><span id="281" class="l"><a class="l" href="#281">281: </a><span class="php-comment">     * &lt;/pre&gt;
</span></span><span id="282" class="l"><a class="l" href="#282">282: </a><span class="php-comment">     *
</span></span><span id="283" class="l"><a class="l" href="#283">283: </a><span class="php-comment">     * @var array
</span></span><span id="284" class="l"><a class="l" href="#284">284: </a><span class="php-comment">     */</span>
</span><span id="285" class="l"><a class="l" href="#285">285: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$_pearList" href="#$_pearList">$_pearList</a></span> = <span class="php-keyword1">array</span>(
</span><span id="286" class="l"><a class="l" href="#286">286: </a>        <span class="php-quote">'Auth_SASL'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="287" class="l"><a class="l" href="#287">287: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Horde will work without the Auth_SASL class, but if you use Access Control Lists in IMP you should be aware that without this class passwords will be sent to the IMAP server in plain text when retrieving ACLs.'</span>
</span><span id="288" class="l"><a class="l" href="#288">288: </a>        ),
</span><span id="289" class="l"><a class="l" href="#289">289: </a>        <span class="php-quote">'Cache'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="290" class="l"><a class="l" href="#290">290: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Cache is used by the Services_Weather module on the weather applet/block on the portal page.'</span>
</span><span id="291" class="l"><a class="l" href="#291">291: </a>        ),
</span><span id="292" class="l"><a class="l" href="#292">292: </a>        <span class="php-quote">'Crypt_Blowfish'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="293" class="l"><a class="l" href="#293">293: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Crypt_Blowfish is required to store authentication credentials securely within the session data.'</span>,
</span><span id="294" class="l"><a class="l" href="#294">294: </a>            <span class="php-quote">'required'</span> =&gt; <span class="php-keyword1">true</span>
</span><span id="295" class="l"><a class="l" href="#295">295: </a>        ),
</span><span id="296" class="l"><a class="l" href="#296">296: </a>        <span class="php-quote">'Date'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="297" class="l"><a class="l" href="#297">297: </a>            <span class="php-quote">'path'</span> =&gt; <span class="php-quote">'Date/Calc.php'</span>,
</span><span id="298" class="l"><a class="l" href="#298">298: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Horde requires the Date_Calc class for Kronolith to calculate dates.'</span>
</span><span id="299" class="l"><a class="l" href="#299">299: </a>        ),
</span><span id="300" class="l"><a class="l" href="#300">300: </a>        <span class="php-quote">'HTTP_Request'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="301" class="l"><a class="l" href="#301">301: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Parts of Horde (Jonah, the XML-RPC client/server) use the HTTP_Request library to retrieve URLs and do other HTTP requests.'</span>
</span><span id="302" class="l"><a class="l" href="#302">302: </a>        ),
</span><span id="303" class="l"><a class="l" href="#303">303: </a>        <span class="php-quote">'HTTP_WebDAV_Server'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="304" class="l"><a class="l" href="#304">304: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'The HTTP_WebDAV_Server is required if you want to use the WebDAV interface of Horde, e.g. to access calendars or tasklists with external clients.'</span>
</span><span id="305" class="l"><a class="l" href="#305">305: </a>        ),
</span><span id="306" class="l"><a class="l" href="#306">306: </a>        <span class="php-quote">'MDB2'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="307" class="l"><a class="l" href="#307">307: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'You will need MDB2 if you are using the SQL driver for Shares.'</span>,
</span><span id="308" class="l"><a class="l" href="#308">308: </a>        ),
</span><span id="309" class="l"><a class="l" href="#309">309: </a>        <span class="php-quote">'Net_DNS2'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="310" class="l"><a class="l" href="#310">310: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Net_DNS2 can speed up hostname lookups against broken DNS servers.'</span>
</span><span id="311" class="l"><a class="l" href="#311">311: </a>        ),
</span><span id="312" class="l"><a class="l" href="#312">312: </a>        <span class="php-quote">'Net_SMTP'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="313" class="l"><a class="l" href="#313">313: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Make sure you are using the Net_SMTP module if you want &quot;smtp&quot; to work as a mailer option.'</span>
</span><span id="314" class="l"><a class="l" href="#314">314: </a>        ),
</span><span id="315" class="l"><a class="l" href="#315">315: </a>        <span class="php-quote">'Net_Socket'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="316" class="l"><a class="l" href="#316">316: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Make sure you are using a version of PEAR which includes the Net_Socket class, or that you have installed the Net_Socket package seperately. See the INSTALL file for instructions on installing Net_Socket.'</span>
</span><span id="317" class="l"><a class="l" href="#317">317: </a>        ),
</span><span id="318" class="l"><a class="l" href="#318">318: </a>        <span class="php-quote">'Services_Weather'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="319" class="l"><a class="l" href="#319">319: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'Services_Weather is used by the weather applet/block on the portal page.'</span>
</span><span id="320" class="l"><a class="l" href="#320">320: </a>        ),
</span><span id="321" class="l"><a class="l" href="#321">321: </a>        <span class="php-quote">'XML_Serializer'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="322" class="l"><a class="l" href="#322">322: </a>            <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'XML_Serializer is used by the Services_Weather module on the weather applet/block on the portal page.'</span>
</span><span id="323" class="l"><a class="l" href="#323">323: </a>        )
</span><span id="324" class="l"><a class="l" href="#324">324: </a>    );
</span><span id="325" class="l"><a class="l" href="#325">325: </a>
</span><span id="326" class="l"><a class="l" href="#326">326: </a>    <span class="php-comment">/**
</span></span><span id="327" class="l"><a class="l" href="#327">327: </a><span class="php-comment">     * Required configuration files.
</span></span><span id="328" class="l"><a class="l" href="#328">328: </a><span class="php-comment">     * &lt;pre&gt;
</span></span><span id="329" class="l"><a class="l" href="#329">329: </a><span class="php-comment">     * KEY:   file path
</span></span><span id="330" class="l"><a class="l" href="#330">330: </a><span class="php-comment">     * VALUE: The error message to use (null to use default message)
</span></span><span id="331" class="l"><a class="l" href="#331">331: </a><span class="php-comment">     * &lt;/pre&gt;
</span></span><span id="332" class="l"><a class="l" href="#332">332: </a><span class="php-comment">     *
</span></span><span id="333" class="l"><a class="l" href="#333">333: </a><span class="php-comment">     * @var array
</span></span><span id="334" class="l"><a class="l" href="#334">334: </a><span class="php-comment">     */</span>
</span><span id="335" class="l"><a class="l" href="#335">335: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$_fileList" href="#$_fileList">$_fileList</a></span> = <span class="php-keyword1">array</span>(
</span><span id="336" class="l"><a class="l" href="#336">336: </a>        <span class="php-quote">'config/conf.php'</span> =&gt; <span class="php-keyword1">null</span>,
</span><span id="337" class="l"><a class="l" href="#337">337: </a>    );
</span><span id="338" class="l"><a class="l" href="#338">338: </a>
</span><span id="339" class="l"><a class="l" href="#339">339: </a>    <span class="php-comment">/**
</span></span><span id="340" class="l"><a class="l" href="#340">340: </a><span class="php-comment">     * Inter-Horde application dependencies.
</span></span><span id="341" class="l"><a class="l" href="#341">341: </a><span class="php-comment">     * &lt;pre&gt;
</span></span><span id="342" class="l"><a class="l" href="#342">342: </a><span class="php-comment">     * KEY:   app name
</span></span><span id="343" class="l"><a class="l" href="#343">343: </a><span class="php-comment">     * VALUE: An array with the following entries:
</span></span><span id="344" class="l"><a class="l" href="#344">344: </a><span class="php-comment">     *        error: (string) Error message.
</span></span><span id="345" class="l"><a class="l" href="#345">345: </a><span class="php-comment">     *        version: (string) Minimum version required of the app.
</span></span><span id="346" class="l"><a class="l" href="#346">346: </a><span class="php-comment">     * &lt;/pre&gt;
</span></span><span id="347" class="l"><a class="l" href="#347">347: </a><span class="php-comment">     *
</span></span><span id="348" class="l"><a class="l" href="#348">348: </a><span class="php-comment">     * @var array
</span></span><span id="349" class="l"><a class="l" href="#349">349: </a><span class="php-comment">     */</span>
</span><span id="350" class="l"><a class="l" href="#350">350: </a>    <span class="php-keyword1">protected</span> <span class="php-var"><a id="$_appList" href="#$_appList">$_appList</a></span> = <span class="php-keyword1">array</span>();
</span><span id="351" class="l"><a class="l" href="#351">351: </a>
</span><span id="352" class="l"><a class="l" href="#352">352: </a>    <span class="php-comment">/**
</span></span><span id="353" class="l"><a class="l" href="#353">353: </a><span class="php-comment">     * Constructor.
</span></span><span id="354" class="l"><a class="l" href="#354">354: </a><span class="php-comment">     */</span>
</span><span id="355" class="l"><a class="l" href="#355">355: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="___construct" href="#___construct">__construct</a>()
</span><span id="356" class="l"><a class="l" href="#356">356: </a>    {
</span><span id="357" class="l"><a class="l" href="#357">357: </a>        <span class="php-comment">/* Store the PHP version information. */</span>
</span><span id="358" class="l"><a class="l" href="#358">358: </a>        <span class="php-var">$this</span>-&gt;_phpver = <span class="php-var">$this</span>-&gt;_splitPhpVersion(PHP_VERSION);
</span><span id="359" class="l"><a class="l" href="#359">359: </a>
</span><span id="360" class="l"><a class="l" href="#360">360: </a>        <span class="php-comment">/* We want to be as verbose as possible here. */</span>
</span><span id="361" class="l"><a class="l" href="#361">361: </a>        <span class="php-keyword2">error_reporting</span>(E_ALL);
</span><span id="362" class="l"><a class="l" href="#362">362: </a>
</span><span id="363" class="l"><a class="l" href="#363">363: </a>        <span class="php-comment">/* Set character encoding. */</span>
</span><span id="364" class="l"><a class="l" href="#364">364: </a>        <span class="php-keyword2">header</span>(<span class="php-quote">'Content-type: text/html; charset=UTF-8'</span>);
</span><span id="365" class="l"><a class="l" href="#365">365: </a>        <span class="php-keyword2">header</span>(<span class="php-quote">'Vary: Accept-Language'</span>);
</span><span id="366" class="l"><a class="l" href="#366">366: </a>    }
</span><span id="367" class="l"><a class="l" href="#367">367: </a>
</span><span id="368" class="l"><a class="l" href="#368">368: </a>    <span class="php-comment">/**
</span></span><span id="369" class="l"><a class="l" href="#369">369: </a><span class="php-comment">     * Parse PHP version.
</span></span><span id="370" class="l"><a class="l" href="#370">370: </a><span class="php-comment">     *
</span></span><span id="371" class="l"><a class="l" href="#371">371: </a><span class="php-comment">     * @param string $version  A PHP-style version string (X.X.X).
</span></span><span id="372" class="l"><a class="l" href="#372">372: </a><span class="php-comment">     *
</span></span><span id="373" class="l"><a class="l" href="#373">373: </a><span class="php-comment">     * @param array  The parsed string.
</span></span><span id="374" class="l"><a class="l" href="#374">374: </a><span class="php-comment">     *               Keys: 'major', 'minor', 'subminor', 'class'
</span></span><span id="375" class="l"><a class="l" href="#375">375: </a><span class="php-comment">     */</span>
</span><span id="376" class="l"><a class="l" href="#376">376: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="__splitPhpVersion" href="#__splitPhpVersion">_splitPhpVersion</a>(<span class="php-var">$version</span>)
</span><span id="377" class="l"><a class="l" href="#377">377: </a>    {
</span><span id="378" class="l"><a class="l" href="#378">378: </a>        <span class="php-comment">/* First pick off major version, and lower-case the rest. */</span>
</span><span id="379" class="l"><a class="l" href="#379">379: </a>        <span class="php-keyword1">if</span> ((<span class="php-keyword2">strlen</span>(<span class="php-var">$version</span>) &gt;= <span class="php-num">3</span>) &amp;&amp; (<span class="php-var">$version</span>[<span class="php-num">1</span>] == <span class="php-quote">'.'</span>)) {
</span><span id="380" class="l"><a class="l" href="#380">380: </a>            <span class="php-var">$phpver</span>[<span class="php-quote">'major'</span>] = <span class="php-keyword2">substr</span>(<span class="php-var">$version</span>, <span class="php-num">0</span>, <span class="php-num">3</span>);
</span><span id="381" class="l"><a class="l" href="#381">381: </a>            <span class="php-var">$version</span> = <span class="php-keyword2">substr</span>(<span class="php-keyword2">strtolower</span>(<span class="php-var">$version</span>), <span class="php-num">3</span>);
</span><span id="382" class="l"><a class="l" href="#382">382: </a>        } <span class="php-keyword1">else</span> {
</span><span id="383" class="l"><a class="l" href="#383">383: </a>            <span class="php-var">$phpver</span>[<span class="php-quote">'major'</span>] = <span class="php-var">$version</span>;
</span><span id="384" class="l"><a class="l" href="#384">384: </a>            <span class="php-var">$phpver</span>[<span class="php-quote">'class'</span>] = <span class="php-quote">'unknown'</span>;
</span><span id="385" class="l"><a class="l" href="#385">385: </a>            <span class="php-keyword1">return</span> <span class="php-var">$phpver</span>;
</span><span id="386" class="l"><a class="l" href="#386">386: </a>        }
</span><span id="387" class="l"><a class="l" href="#387">387: </a>
</span><span id="388" class="l"><a class="l" href="#388">388: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$version</span>[<span class="php-num">0</span>] == <span class="php-quote">'.'</span>) {
</span><span id="389" class="l"><a class="l" href="#389">389: </a>            <span class="php-var">$version</span> = <span class="php-keyword2">substr</span>(<span class="php-var">$version</span>, <span class="php-num">1</span>);
</span><span id="390" class="l"><a class="l" href="#390">390: </a>        }
</span><span id="391" class="l"><a class="l" href="#391">391: </a>
</span><span id="392" class="l"><a class="l" href="#392">392: </a>        <span class="php-comment">/* Next, determine if this is 4.0b or 4.0rc; if so, there is no
</span></span><span id="393" class="l"><a class="l" href="#393">393: </a><span class="php-comment">           minor, the rest is the subminor, and class is set to beta. */</span>
</span><span id="394" class="l"><a class="l" href="#394">394: </a>        <span class="php-var">$s</span> = <span class="php-keyword2">strspn</span>(<span class="php-var">$version</span>, <span class="php-quote">'0123456789'</span>);
</span><span id="395" class="l"><a class="l" href="#395">395: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$s</span> == <span class="php-num">0</span>) {
</span><span id="396" class="l"><a class="l" href="#396">396: </a>            <span class="php-var">$phpver</span>[<span class="php-quote">'subminor'</span>] = <span class="php-var">$version</span>;
</span><span id="397" class="l"><a class="l" href="#397">397: </a>            <span class="php-var">$phpver</span>[<span class="php-quote">'class'</span>] = <span class="php-quote">'beta'</span>;
</span><span id="398" class="l"><a class="l" href="#398">398: </a>            <span class="php-keyword1">return</span> <span class="php-var">$phpver</span>;
</span><span id="399" class="l"><a class="l" href="#399">399: </a>        }
</span><span id="400" class="l"><a class="l" href="#400">400: </a>
</span><span id="401" class="l"><a class="l" href="#401">401: </a>        <span class="php-comment">/* Otherwise, this is non-beta;  the numeric part is the minor,
</span></span><span id="402" class="l"><a class="l" href="#402">402: </a><span class="php-comment">           the rest is either a classification (dev, cvs) or a subminor
</span></span><span id="403" class="l"><a class="l" href="#403">403: </a><span class="php-comment">           version (rc&lt;x&gt;, pl&lt;x&gt;). */</span>
</span><span id="404" class="l"><a class="l" href="#404">404: </a>        <span class="php-var">$phpver</span>[<span class="php-quote">'minor'</span>] = <span class="php-keyword2">substr</span>(<span class="php-var">$version</span>, <span class="php-num">0</span>, <span class="php-var">$s</span>);
</span><span id="405" class="l"><a class="l" href="#405">405: </a>        <span class="php-keyword1">if</span> ((<span class="php-keyword2">strlen</span>(<span class="php-var">$version</span>) &gt; <span class="php-var">$s</span>) &amp;&amp;
</span><span id="406" class="l"><a class="l" href="#406">406: </a>            ((<span class="php-var">$version</span>[<span class="php-var">$s</span>] == <span class="php-quote">'.'</span>) || (<span class="php-var">$version</span>[<span class="php-var">$s</span>] == <span class="php-quote">'-'</span>))) {
</span><span id="407" class="l"><a class="l" href="#407">407: </a>            ++<span class="php-var">$s</span>;
</span><span id="408" class="l"><a class="l" href="#408">408: </a>        }
</span><span id="409" class="l"><a class="l" href="#409">409: </a>        <span class="php-var">$phpver</span>[<span class="php-quote">'subminor'</span>] = <span class="php-keyword2">substr</span>(<span class="php-var">$version</span>, <span class="php-var">$s</span>);
</span><span id="410" class="l"><a class="l" href="#410">410: </a>        <span class="php-keyword1">if</span> ((<span class="php-var">$phpver</span>[<span class="php-quote">'subminor'</span>] == <span class="php-quote">'cvs'</span>) ||
</span><span id="411" class="l"><a class="l" href="#411">411: </a>            (<span class="php-var">$phpver</span>[<span class="php-quote">'subminor'</span>] == <span class="php-quote">'dev'</span>) ||
</span><span id="412" class="l"><a class="l" href="#412">412: </a>            (<span class="php-keyword2">substr</span>(<span class="php-var">$phpver</span>[<span class="php-quote">'subminor'</span>], <span class="php-num">0</span>, <span class="php-num">2</span>) == <span class="php-quote">'rc'</span>)) {
</span><span id="413" class="l"><a class="l" href="#413">413: </a>            <span class="php-keyword1">unset</span>(<span class="php-var">$phpver</span>[<span class="php-quote">'subminor'</span>]);
</span><span id="414" class="l"><a class="l" href="#414">414: </a>            <span class="php-var">$phpver</span>[<span class="php-quote">'class'</span>] = <span class="php-quote">'dev'</span>;
</span><span id="415" class="l"><a class="l" href="#415">415: </a>        } <span class="php-keyword1">else</span> {
</span><span id="416" class="l"><a class="l" href="#416">416: </a>            <span class="php-keyword1">if</span> (!<span class="php-var">$phpver</span>[<span class="php-quote">'subminor'</span>]) {
</span><span id="417" class="l"><a class="l" href="#417">417: </a>                <span class="php-keyword1">unset</span>(<span class="php-var">$phpver</span>[<span class="php-quote">'subminor'</span>]);
</span><span id="418" class="l"><a class="l" href="#418">418: </a>            }
</span><span id="419" class="l"><a class="l" href="#419">419: </a>            <span class="php-var">$phpver</span>[<span class="php-quote">'class'</span>] = <span class="php-quote">'release'</span>;
</span><span id="420" class="l"><a class="l" href="#420">420: </a>        }
</span><span id="421" class="l"><a class="l" href="#421">421: </a>
</span><span id="422" class="l"><a class="l" href="#422">422: </a>        <span class="php-keyword1">return</span> <span class="php-var">$phpver</span>;
</span><span id="423" class="l"><a class="l" href="#423">423: </a>    }
</span><span id="424" class="l"><a class="l" href="#424">424: </a>
</span><span id="425" class="l"><a class="l" href="#425">425: </a>    <span class="php-comment">/**
</span></span><span id="426" class="l"><a class="l" href="#426">426: </a><span class="php-comment">     * Check the list of PHP modules.
</span></span><span id="427" class="l"><a class="l" href="#427">427: </a><span class="php-comment">     *
</span></span><span id="428" class="l"><a class="l" href="#428">428: </a><span class="php-comment">     * @return string  The HTML output.
</span></span><span id="429" class="l"><a class="l" href="#429">429: </a><span class="php-comment">     */</span>
</span><span id="430" class="l"><a class="l" href="#430">430: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_phpModuleCheck" href="#_phpModuleCheck">phpModuleCheck</a>()
</span><span id="431" class="l"><a class="l" href="#431">431: </a>    {
</span><span id="432" class="l"><a class="l" href="#432">432: </a>        <span class="php-var">$output</span> = <span class="php-quote">''</span>;
</span><span id="433" class="l"><a class="l" href="#433">433: </a>
</span><span id="434" class="l"><a class="l" href="#434">434: </a>        <span class="php-keyword1">foreach</span> (<span class="php-var">$this</span>-&gt;_moduleList <span class="php-keyword1">as</span> <span class="php-var">$key</span> =&gt; <span class="php-var">$val</span>) {
</span><span id="435" class="l"><a class="l" href="#435">435: </a>            <span class="php-var">$error_msg</span> = <span class="php-var">$mod_test</span> = <span class="php-var">$status_out</span> = <span class="php-var">$fatal</span> = <span class="php-keyword1">null</span>;
</span><span id="436" class="l"><a class="l" href="#436">436: </a>            <span class="php-var">$test_function</span> = <span class="php-keyword1">null</span>;
</span><span id="437" class="l"><a class="l" href="#437">437: </a>            <span class="php-var">$entry</span> = <span class="php-keyword1">array</span>();
</span><span id="438" class="l"><a class="l" href="#438">438: </a>
</span><span id="439" class="l"><a class="l" href="#439">439: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">is_array</span>(<span class="php-var">$val</span>)) {
</span><span id="440" class="l"><a class="l" href="#440">440: </a>                <span class="php-var">$descrip</span> = <span class="php-var">$val</span>[<span class="php-quote">'descrip'</span>];
</span><span id="441" class="l"><a class="l" href="#441">441: </a>                <span class="php-var">$fatal</span> = !<span class="php-keyword1">empty</span>(<span class="php-var">$val</span>[<span class="php-quote">'fatal'</span>]);
</span><span id="442" class="l"><a class="l" href="#442">442: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$val</span>[<span class="php-quote">'phpver'</span>]) &amp;&amp;
</span><span id="443" class="l"><a class="l" href="#443">443: </a>                    (<span class="php-keyword2">version_compare</span>(PHP_VERSION, <span class="php-var">$val</span>[<span class="php-quote">'phpver'</span>]) == -<span class="php-num">1</span>)) {
</span><span id="444" class="l"><a class="l" href="#444">444: </a>                    <span class="php-var">$mod_test</span> = <span class="php-keyword1">true</span>;
</span><span id="445" class="l"><a class="l" href="#445">445: </a>                    <span class="php-var">$status_out</span> = <span class="php-quote">'N/A'</span>;
</span><span id="446" class="l"><a class="l" href="#446">446: </a>                }
</span><span id="447" class="l"><a class="l" href="#447">447: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$val</span>[<span class="php-quote">'error'</span>])) {
</span><span id="448" class="l"><a class="l" href="#448">448: </a>                    <span class="php-var">$error_msg</span> = <span class="php-var">$val</span>[<span class="php-quote">'error'</span>];
</span><span id="449" class="l"><a class="l" href="#449">449: </a>                }
</span><span id="450" class="l"><a class="l" href="#450">450: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$val</span>[<span class="php-quote">'function'</span>])) {
</span><span id="451" class="l"><a class="l" href="#451">451: </a>                    <span class="php-var">$test_function</span> = <span class="php-var">$val</span>[<span class="php-quote">'function'</span>];
</span><span id="452" class="l"><a class="l" href="#452">452: </a>                }
</span><span id="453" class="l"><a class="l" href="#453">453: </a>            } <span class="php-keyword1">else</span> {
</span><span id="454" class="l"><a class="l" href="#454">454: </a>                <span class="php-var">$descrip</span> = <span class="php-var">$val</span>;
</span><span id="455" class="l"><a class="l" href="#455">455: </a>            }
</span><span id="456" class="l"><a class="l" href="#456">456: </a>
</span><span id="457" class="l"><a class="l" href="#457">457: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">is_null</span>(<span class="php-var">$status_out</span>)) {
</span><span id="458" class="l"><a class="l" href="#458">458: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword2">is_null</span>(<span class="php-var">$test_function</span>)) {
</span><span id="459" class="l"><a class="l" href="#459">459: </a>                    <span class="php-var">$mod_test</span> = <span class="php-keyword2">extension_loaded</span>(<span class="php-var">$key</span>);
</span><span id="460" class="l"><a class="l" href="#460">460: </a>                } <span class="php-keyword1">else</span> {
</span><span id="461" class="l"><a class="l" href="#461">461: </a>                    <span class="php-var">$mod_test</span> = <span class="php-keyword2">call_user_func</span>(<span class="php-keyword1">array</span>(<span class="php-var">$this</span>, <span class="php-var">$test_function</span>));
</span><span id="462" class="l"><a class="l" href="#462">462: </a>                    <span class="php-keyword1">if</span> (<span class="php-keyword2">is_string</span>(<span class="php-var">$mod_test</span>)) {
</span><span id="463" class="l"><a class="l" href="#463">463: </a>                        <span class="php-var">$error_msg</span> = <span class="php-var">$mod_test</span>;
</span><span id="464" class="l"><a class="l" href="#464">464: </a>                        <span class="php-var">$mod_test</span> = <span class="php-keyword1">false</span>;
</span><span id="465" class="l"><a class="l" href="#465">465: </a>                    }
</span><span id="466" class="l"><a class="l" href="#466">466: </a>                }
</span><span id="467" class="l"><a class="l" href="#467">467: </a>                <span class="php-var">$status_out</span> = <span class="php-var">$this</span>-&gt;_status(<span class="php-var">$mod_test</span>, <span class="php-var">$fatal</span>);
</span><span id="468" class="l"><a class="l" href="#468">468: </a>            }
</span><span id="469" class="l"><a class="l" href="#469">469: </a>
</span><span id="470" class="l"><a class="l" href="#470">470: </a>            <span class="php-var">$entry</span>[] = <span class="php-var">$descrip</span>;
</span><span id="471" class="l"><a class="l" href="#471">471: </a>            <span class="php-var">$entry</span>[] = <span class="php-var">$status_out</span>;
</span><span id="472" class="l"><a class="l" href="#472">472: </a>
</span><span id="473" class="l"><a class="l" href="#473">473: </a>            <span class="php-keyword1">if</span> (!<span class="php-keyword2">is_null</span>(<span class="php-var">$error_msg</span>) &amp;&amp; !<span class="php-var">$mod_test</span>) {
</span><span id="474" class="l"><a class="l" href="#474">474: </a>                <span class="php-var">$entry</span>[] = <span class="php-var">$error_msg</span>;
</span><span id="475" class="l"><a class="l" href="#475">475: </a>                <span class="php-keyword1">if</span> (!<span class="php-var">$fatal</span>) {
</span><span id="476" class="l"><a class="l" href="#476">476: </a>                    <span class="php-var">$entry</span>[] = <span class="php-num">1</span>;
</span><span id="477" class="l"><a class="l" href="#477">477: </a>                }
</span><span id="478" class="l"><a class="l" href="#478">478: </a>            }
</span><span id="479" class="l"><a class="l" href="#479">479: </a>
</span><span id="480" class="l"><a class="l" href="#480">480: </a>            <span class="php-var">$output</span> .= <span class="php-var">$this</span>-&gt;_outputLine(<span class="php-var">$entry</span>);
</span><span id="481" class="l"><a class="l" href="#481">481: </a>
</span><span id="482" class="l"><a class="l" href="#482">482: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$fatal</span> &amp;&amp; !<span class="php-var">$mod_test</span>) {
</span><span id="483" class="l"><a class="l" href="#483">483: </a>                <span class="php-keyword1">echo</span> <span class="php-var">$output</span>;
</span><span id="484" class="l"><a class="l" href="#484">484: </a>                <span class="php-keyword1">exit</span>;
</span><span id="485" class="l"><a class="l" href="#485">485: </a>            }
</span><span id="486" class="l"><a class="l" href="#486">486: </a>        }
</span><span id="487" class="l"><a class="l" href="#487">487: </a>
</span><span id="488" class="l"><a class="l" href="#488">488: </a>        <span class="php-keyword1">return</span> <span class="php-var">$output</span>;
</span><span id="489" class="l"><a class="l" href="#489">489: </a>    }
</span><span id="490" class="l"><a class="l" href="#490">490: </a>
</span><span id="491" class="l"><a class="l" href="#491">491: </a>    <span class="php-comment">/**
</span></span><span id="492" class="l"><a class="l" href="#492">492: </a><span class="php-comment">     * Additional check for iconv module implementation.
</span></span><span id="493" class="l"><a class="l" href="#493">493: </a><span class="php-comment">     *
</span></span><span id="494" class="l"><a class="l" href="#494">494: </a><span class="php-comment">     * @return boolean  False on error.
</span></span><span id="495" class="l"><a class="l" href="#495">495: </a><span class="php-comment">     */</span>
</span><span id="496" class="l"><a class="l" href="#496">496: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="__checkIconvImplementation" href="#__checkIconvImplementation">_checkIconvImplementation</a>()
</span><span id="497" class="l"><a class="l" href="#497">497: </a>    {
</span><span id="498" class="l"><a class="l" href="#498">498: </a>        <span class="php-keyword1">return</span> <span class="php-keyword2">extension_loaded</span>(<span class="php-quote">'iconv'</span>) &amp;&amp;
</span><span id="499" class="l"><a class="l" href="#499">499: </a>               <span class="php-keyword2">in_array</span>(ICONV_IMPL, <span class="php-keyword1">array</span>(<span class="php-quote">'libiconv'</span>, <span class="php-quote">'glibc'</span>));
</span><span id="500" class="l"><a class="l" href="#500">500: </a>    }
</span><span id="501" class="l"><a class="l" href="#501">501: </a>
</span><span id="502" class="l"><a class="l" href="#502">502: </a>    <span class="php-comment">/**
</span></span><span id="503" class="l"><a class="l" href="#503">503: </a><span class="php-comment">     * Additional check for libxml version.
</span></span><span id="504" class="l"><a class="l" href="#504">504: </a><span class="php-comment">     *
</span></span><span id="505" class="l"><a class="l" href="#505">505: </a><span class="php-comment">     * @return boolean  False on error.
</span></span><span id="506" class="l"><a class="l" href="#506">506: </a><span class="php-comment">     */</span>
</span><span id="507" class="l"><a class="l" href="#507">507: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="__checkLibxmlVersion" href="#__checkLibxmlVersion">_checkLibxmlVersion</a>()
</span><span id="508" class="l"><a class="l" href="#508">508: </a>    {
</span><span id="509" class="l"><a class="l" href="#509">509: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword2">extension_loaded</span>(<span class="php-quote">'xml'</span>)) {
</span><span id="510" class="l"><a class="l" href="#510">510: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="511" class="l"><a class="l" href="#511">511: </a>        }
</span><span id="512" class="l"><a class="l" href="#512">512: </a>        <span class="php-keyword1">if</span> (LIBXML_VERSION &lt; <span class="php-num">20700</span>) {
</span><span id="513" class="l"><a class="l" href="#513">513: </a>            <span class="php-keyword1">return</span> <span class="php-quote">'The libxml version is too old. libxml 2.7 or later is required.'</span>;
</span><span id="514" class="l"><a class="l" href="#514">514: </a>        }
</span><span id="515" class="l"><a class="l" href="#515">515: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="516" class="l"><a class="l" href="#516">516: </a>    }
</span><span id="517" class="l"><a class="l" href="#517">517: </a>
</span><span id="518" class="l"><a class="l" href="#518">518: </a>    <span class="php-comment">/**
</span></span><span id="519" class="l"><a class="l" href="#519">519: </a><span class="php-comment">     * Additional check for fileinfo module.
</span></span><span id="520" class="l"><a class="l" href="#520">520: </a><span class="php-comment">     *
</span></span><span id="521" class="l"><a class="l" href="#521">521: </a><span class="php-comment">     * @return boolean  False on error.
</span></span><span id="522" class="l"><a class="l" href="#522">522: </a><span class="php-comment">     */</span>
</span><span id="523" class="l"><a class="l" href="#523">523: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="__checkFileinfo" href="#__checkFileinfo">_checkFileinfo</a>()
</span><span id="524" class="l"><a class="l" href="#524">524: </a>    {
</span><span id="525" class="l"><a class="l" href="#525">525: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">extension_loaded</span>(<span class="php-quote">'fileinfo'</span>) &amp;&amp;
</span><span id="526" class="l"><a class="l" href="#526">526: </a>            (<span class="php-var">$res</span> = @<span class="php-keyword2">finfo_open</span>())) {
</span><span id="527" class="l"><a class="l" href="#527">527: </a>            <span class="php-keyword2">finfo_close</span>(<span class="php-var">$res</span>);
</span><span id="528" class="l"><a class="l" href="#528">528: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="529" class="l"><a class="l" href="#529">529: </a>        }
</span><span id="530" class="l"><a class="l" href="#530">530: </a>
</span><span id="531" class="l"><a class="l" href="#531">531: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="532" class="l"><a class="l" href="#532">532: </a>    }
</span><span id="533" class="l"><a class="l" href="#533">533: </a>
</span><span id="534" class="l"><a class="l" href="#534">534: </a>    <span class="php-comment">/**
</span></span><span id="535" class="l"><a class="l" href="#535">535: </a><span class="php-comment">     */</span>
</span><span id="536" class="l"><a class="l" href="#536">536: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="__checkPam" href="#__checkPam">_checkPam</a>()
</span><span id="537" class="l"><a class="l" href="#537">537: </a>    {
</span><span id="538" class="l"><a class="l" href="#538">538: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">extension_loaded</span>(<span class="php-quote">'pam'</span>)) {
</span><span id="539" class="l"><a class="l" href="#539">539: </a>            <span class="php-keyword1">return</span> <span class="php-keyword1">true</span>;
</span><span id="540" class="l"><a class="l" href="#540">540: </a>        }
</span><span id="541" class="l"><a class="l" href="#541">541: </a>
</span><span id="542" class="l"><a class="l" href="#542">542: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">extension_loaded</span>(<span class="php-quote">'pam_auth'</span>)) {
</span><span id="543" class="l"><a class="l" href="#543">543: </a>            <span class="php-keyword1">return</span> <span class="php-quote">'The PAM extension is required to allow PAM authentication to be used. You have an improper PAM extension loaded. Some installations (e.g. Debian, Ubuntu) ship with an altered version of the PAM extension. You must uninstall this extension and reinstall from PECL.'</span>;
</span><span id="544" class="l"><a class="l" href="#544">544: </a>        }
</span><span id="545" class="l"><a class="l" href="#545">545: </a>
</span><span id="546" class="l"><a class="l" href="#546">546: </a>        <span class="php-keyword1">return</span> <span class="php-keyword1">false</span>;
</span><span id="547" class="l"><a class="l" href="#547">547: </a>    }
</span><span id="548" class="l"><a class="l" href="#548">548: </a>
</span><span id="549" class="l"><a class="l" href="#549">549: </a>    <span class="php-comment">/**
</span></span><span id="550" class="l"><a class="l" href="#550">550: </a><span class="php-comment">     * Checks the list of PHP settings.
</span></span><span id="551" class="l"><a class="l" href="#551">551: </a><span class="php-comment">     *
</span></span><span id="552" class="l"><a class="l" href="#552">552: </a><span class="php-comment">     * @params array $settings  The list of settings to check.
</span></span><span id="553" class="l"><a class="l" href="#553">553: </a><span class="php-comment">     *
</span></span><span id="554" class="l"><a class="l" href="#554">554: </a><span class="php-comment">     * @return string  The HTML output.
</span></span><span id="555" class="l"><a class="l" href="#555">555: </a><span class="php-comment">     */</span>
</span><span id="556" class="l"><a class="l" href="#556">556: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_phpSettingCheck" href="#_phpSettingCheck">phpSettingCheck</a>(<span class="php-var">$settings</span> = <span class="php-keyword1">null</span>)
</span><span id="557" class="l"><a class="l" href="#557">557: </a>    {
</span><span id="558" class="l"><a class="l" href="#558">558: </a>        <span class="php-var">$output</span> = <span class="php-quote">''</span>;
</span><span id="559" class="l"><a class="l" href="#559">559: </a>
</span><span id="560" class="l"><a class="l" href="#560">560: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">is_null</span>(<span class="php-var">$settings</span>)) {
</span><span id="561" class="l"><a class="l" href="#561">561: </a>            <span class="php-var">$settings</span> = <span class="php-var">$this</span>-&gt;_settingsList;
</span><span id="562" class="l"><a class="l" href="#562">562: </a>        }
</span><span id="563" class="l"><a class="l" href="#563">563: </a>
</span><span id="564" class="l"><a class="l" href="#564">564: </a>        <span class="php-keyword1">foreach</span> (<span class="php-var">$settings</span> <span class="php-keyword1">as</span> <span class="php-var">$key</span> =&gt; <span class="php-var">$val</span>) {
</span><span id="565" class="l"><a class="l" href="#565">565: </a>            <span class="php-var">$entry</span> = <span class="php-keyword1">array</span>();
</span><span id="566" class="l"><a class="l" href="#566">566: </a>            <span class="php-keyword1">if</span> (<span class="php-keyword2">is_bool</span>(<span class="php-var">$val</span>[<span class="php-quote">'setting'</span>])) {
</span><span id="567" class="l"><a class="l" href="#567">567: </a>                <span class="php-var">$result</span> = (<span class="php-keyword2">ini_get</span>(<span class="php-var">$key</span>) == <span class="php-var">$val</span>[<span class="php-quote">'setting'</span>]);
</span><span id="568" class="l"><a class="l" href="#568">568: </a>                <span class="php-var">$entry</span>[] = <span class="php-var">$key</span> . <span class="php-quote">' '</span> . ((<span class="php-var">$val</span>[<span class="php-quote">'setting'</span>] === <span class="php-keyword1">true</span>) ? <span class="php-quote">'enabled'</span> : <span class="php-quote">'disabled'</span>);
</span><span id="569" class="l"><a class="l" href="#569">569: </a>                <span class="php-var">$entry</span>[] = <span class="php-var">$this</span>-&gt;_status(<span class="php-var">$result</span>);
</span><span id="570" class="l"><a class="l" href="#570">570: </a>                <span class="php-keyword1">if</span> (!<span class="php-var">$result</span> &amp;&amp;
</span><span id="571" class="l"><a class="l" href="#571">571: </a>                    (!<span class="php-keyword1">isset</span>(<span class="php-var">$val</span>[<span class="php-quote">'function'</span>]) ||
</span><span id="572" class="l"><a class="l" href="#572">572: </a>                     <span class="php-keyword2">call_user_func</span>(<span class="php-keyword1">array</span>(<span class="php-var">$this</span>, <span class="php-var">$val</span>[<span class="php-quote">'function'</span>])))) {
</span><span id="573" class="l"><a class="l" href="#573">573: </a>                    <span class="php-var">$entry</span>[] = <span class="php-var">$val</span>[<span class="php-quote">'error'</span>];
</span><span id="574" class="l"><a class="l" href="#574">574: </a>                }
</span><span id="575" class="l"><a class="l" href="#575">575: </a>            } <span class="php-keyword1">elseif</span> (<span class="php-var">$val</span>[<span class="php-quote">'setting'</span>] == <span class="php-quote">'value'</span>) {
</span><span id="576" class="l"><a class="l" href="#576">576: </a>                <span class="php-var">$entry</span>[] = <span class="php-var">$key</span> . <span class="php-quote">' value'</span>;
</span><span id="577" class="l"><a class="l" href="#577">577: </a>                <span class="php-var">$entry</span>[] = <span class="php-keyword2">ini_get</span>(<span class="php-var">$key</span>);
</span><span id="578" class="l"><a class="l" href="#578">578: </a>                <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$val</span>[<span class="php-quote">'error'</span>]) &amp;&amp;
</span><span id="579" class="l"><a class="l" href="#579">579: </a>                    (!<span class="php-keyword1">isset</span>(<span class="php-var">$val</span>[<span class="php-quote">'function'</span>]) ||
</span><span id="580" class="l"><a class="l" href="#580">580: </a>                     <span class="php-keyword2">call_user_func</span>(<span class="php-keyword1">array</span>(<span class="php-var">$this</span>, <span class="php-var">$val</span>[<span class="php-quote">'function'</span>])))) {
</span><span id="581" class="l"><a class="l" href="#581">581: </a>                    <span class="php-var">$entry</span>[] = <span class="php-var">$val</span>[<span class="php-quote">'error'</span>];
</span><span id="582" class="l"><a class="l" href="#582">582: </a>                    <span class="php-var">$entry</span>[] = <span class="php-num">1</span>;
</span><span id="583" class="l"><a class="l" href="#583">583: </a>                }
</span><span id="584" class="l"><a class="l" href="#584">584: </a>            }
</span><span id="585" class="l"><a class="l" href="#585">585: </a>            <span class="php-var">$output</span> .= <span class="php-var">$this</span>-&gt;_outputLine(<span class="php-var">$entry</span>);
</span><span id="586" class="l"><a class="l" href="#586">586: </a>        }
</span><span id="587" class="l"><a class="l" href="#587">587: </a>
</span><span id="588" class="l"><a class="l" href="#588">588: </a>        <span class="php-keyword1">return</span> <span class="php-var">$output</span>;
</span><span id="589" class="l"><a class="l" href="#589">589: </a>    }
</span><span id="590" class="l"><a class="l" href="#590">590: </a>
</span><span id="591" class="l"><a class="l" href="#591">591: </a>    <span class="php-comment">/**
</span></span><span id="592" class="l"><a class="l" href="#592">592: </a><span class="php-comment">     * Check the list of PEAR modules.
</span></span><span id="593" class="l"><a class="l" href="#593">593: </a><span class="php-comment">     *
</span></span><span id="594" class="l"><a class="l" href="#594">594: </a><span class="php-comment">     * @return string  The HTML output.
</span></span><span id="595" class="l"><a class="l" href="#595">595: </a><span class="php-comment">     */</span>
</span><span id="596" class="l"><a class="l" href="#596">596: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_pearModuleCheck" href="#_pearModuleCheck">pearModuleCheck</a>()
</span><span id="597" class="l"><a class="l" href="#597">597: </a>    {
</span><span id="598" class="l"><a class="l" href="#598">598: </a>        <span class="php-var">$output</span> = <span class="php-quote">''</span>;
</span><span id="599" class="l"><a class="l" href="#599">599: </a>
</span><span id="600" class="l"><a class="l" href="#600">600: </a>        <span class="php-comment">/* Turn tracking of errors on. */</span>
</span><span id="601" class="l"><a class="l" href="#601">601: </a>        <span class="php-keyword2">ini_set</span>(<span class="php-quote">'track_errors'</span>, <span class="php-num">1</span>);
</span><span id="602" class="l"><a class="l" href="#602">602: </a>
</span><span id="603" class="l"><a class="l" href="#603">603: </a>        <span class="php-comment">/* Print the include_path. */</span>
</span><span id="604" class="l"><a class="l" href="#604">604: </a>        <span class="php-var">$output</span> .= <span class="php-var">$this</span>-&gt;_outputLine(<span class="php-keyword1">array</span>(<span class="php-quote">&quot;&lt;strong&gt;PEAR Search Path (PHP's include_path)&lt;/strong&gt;&quot;</span>, <span class="php-quote">'&amp;nbsp;&lt;tt&gt;'</span> . <span class="php-keyword2">ini_get</span>(<span class="php-quote">'include_path'</span>) . <span class="php-quote">'&lt;/tt&gt;'</span>));
</span><span id="605" class="l"><a class="l" href="#605">605: </a>
</span><span id="606" class="l"><a class="l" href="#606">606: </a>        <span class="php-comment">/* Check for PEAR in general. */</span>
</span><span id="607" class="l"><a class="l" href="#607">607: </a>        <span class="php-var">$entry</span> = <span class="php-keyword1">array</span>();
</span><span id="608" class="l"><a class="l" href="#608">608: </a>        <span class="php-var">$entry</span>[] = <span class="php-quote">'PEAR'</span>;
</span><span id="609" class="l"><a class="l" href="#609">609: </a>        <span class="php-var">$entry</span>[] = <span class="php-var">$this</span>-&gt;_status(!<span class="php-keyword1">isset</span>(<span class="php-var">$php_errormsg</span>));
</span><span id="610" class="l"><a class="l" href="#610">610: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$php_errormsg</span>)) {
</span><span id="611" class="l"><a class="l" href="#611">611: </a>            <span class="php-var">$entry</span>[] = <span class="php-quote">'Check your PHP include_path setting to make sure it has the PEAR library directory.'</span>;
</span><span id="612" class="l"><a class="l" href="#612">612: </a>            <span class="php-var">$output</span> .= <span class="php-var">$this</span>-&gt;_outputLine(<span class="php-var">$entry</span>);
</span><span id="613" class="l"><a class="l" href="#613">613: </a>            <span class="php-keyword2">ini_restore</span>(<span class="php-quote">'track_errors'</span>);
</span><span id="614" class="l"><a class="l" href="#614">614: </a>            <span class="php-keyword1">return</span> <span class="php-var">$output</span>;
</span><span id="615" class="l"><a class="l" href="#615">615: </a>        }
</span><span id="616" class="l"><a class="l" href="#616">616: </a>        <span class="php-var">$output</span> .= <span class="php-var">$this</span>-&gt;_outputLine(<span class="php-var">$entry</span>);
</span><span id="617" class="l"><a class="l" href="#617">617: </a>
</span><span id="618" class="l"><a class="l" href="#618">618: </a>        <span class="php-comment">/* Go through module list. */</span>
</span><span id="619" class="l"><a class="l" href="#619">619: </a>        <span class="php-var">$succeeded</span> = <span class="php-keyword1">array</span>();
</span><span id="620" class="l"><a class="l" href="#620">620: </a>        <span class="php-keyword1">foreach</span> (<span class="php-var">$this</span>-&gt;_pearList <span class="php-keyword1">as</span> <span class="php-var">$key</span> =&gt; <span class="php-var">$val</span>) {
</span><span id="621" class="l"><a class="l" href="#621">621: </a>            <span class="php-var">$entry</span> = <span class="php-keyword1">array</span>();
</span><span id="622" class="l"><a class="l" href="#622">622: </a>
</span><span id="623" class="l"><a class="l" href="#623">623: </a>            <span class="php-comment">/* If this module depends on another module that we
</span></span><span id="624" class="l"><a class="l" href="#624">624: </a><span class="php-comment">             * haven't succesfully found, fail the test. */</span>
</span><span id="625" class="l"><a class="l" href="#625">625: </a>            <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$val</span>[<span class="php-quote">'depends'</span>]) &amp;&amp; <span class="php-keyword1">empty</span>(<span class="php-var">$succeeded</span>[<span class="php-var">$val</span>[<span class="php-quote">'depends'</span>]])) {
</span><span id="626" class="l"><a class="l" href="#626">626: </a>                <span class="php-var">$result</span> = <span class="php-keyword1">false</span>;
</span><span id="627" class="l"><a class="l" href="#627">627: </a>            } <span class="php-keyword1">elseif</span> (<span class="php-keyword1">empty</span>(<span class="php-var">$val</span>[<span class="php-quote">'path'</span>])) {
</span><span id="628" class="l"><a class="l" href="#628">628: </a>                <span class="php-var">$result</span> = @<span class="php-keyword2">class_exists</span>(<span class="php-var">$key</span>);
</span><span id="629" class="l"><a class="l" href="#629">629: </a>            } <span class="php-keyword1">else</span> {
</span><span id="630" class="l"><a class="l" href="#630">630: </a>                <span class="php-var">$result</span> = @<span class="php-keyword1">include_once</span> <span class="php-var">$val</span>[<span class="php-quote">'path'</span>];
</span><span id="631" class="l"><a class="l" href="#631">631: </a>            }
</span><span id="632" class="l"><a class="l" href="#632">632: </a>            <span class="php-var">$error_msg</span> = <span class="php-var">$val</span>[<span class="php-quote">'error'</span>];
</span><span id="633" class="l"><a class="l" href="#633">633: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$result</span> &amp;&amp; <span class="php-keyword1">isset</span>(<span class="php-var">$val</span>[<span class="php-quote">'function'</span>])) {
</span><span id="634" class="l"><a class="l" href="#634">634: </a>                <span class="php-var">$func_output</span> = <span class="php-keyword2">call_user_func</span>(<span class="php-keyword1">array</span>(<span class="php-var">$this</span>, <span class="php-var">$val</span>[<span class="php-quote">'function'</span>]));
</span><span id="635" class="l"><a class="l" href="#635">635: </a>                <span class="php-keyword1">if</span> (<span class="php-var">$func_output</span>) {
</span><span id="636" class="l"><a class="l" href="#636">636: </a>                    <span class="php-var">$result</span> = <span class="php-keyword1">false</span>;
</span><span id="637" class="l"><a class="l" href="#637">637: </a>                    <span class="php-var">$error_msg</span> = <span class="php-var">$func_output</span>;
</span><span id="638" class="l"><a class="l" href="#638">638: </a>                }
</span><span id="639" class="l"><a class="l" href="#639">639: </a>            }
</span><span id="640" class="l"><a class="l" href="#640">640: </a>            <span class="php-var">$entry</span>[] = <span class="php-var">$key</span>;
</span><span id="641" class="l"><a class="l" href="#641">641: </a>            <span class="php-var">$entry</span>[] = <span class="php-var">$this</span>-&gt;_status(<span class="php-var">$result</span>, !<span class="php-keyword1">empty</span>(<span class="php-var">$val</span>[<span class="php-quote">'required'</span>]));
</span><span id="642" class="l"><a class="l" href="#642">642: </a>
</span><span id="643" class="l"><a class="l" href="#643">643: </a>            <span class="php-keyword1">if</span> (<span class="php-var">$result</span>) {
</span><span id="644" class="l"><a class="l" href="#644">644: </a>                <span class="php-var">$succeeded</span>[<span class="php-var">$key</span>] = <span class="php-keyword1">true</span>;
</span><span id="645" class="l"><a class="l" href="#645">645: </a>            } <span class="php-keyword1">else</span> {
</span><span id="646" class="l"><a class="l" href="#646">646: </a>                <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$val</span>[<span class="php-quote">'required'</span>])) {
</span><span id="647" class="l"><a class="l" href="#647">647: </a>                    <span class="php-var">$error_msg</span> .= <span class="php-quote">' THIS IS A REQUIRED MODULE!'</span>;
</span><span id="648" class="l"><a class="l" href="#648">648: </a>                }
</span><span id="649" class="l"><a class="l" href="#649">649: </a>                <span class="php-var">$entry</span>[] = <span class="php-var">$error_msg</span>;
</span><span id="650" class="l"><a class="l" href="#650">650: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">empty</span>(<span class="php-var">$val</span>[<span class="php-quote">'required'</span>])) {
</span><span id="651" class="l"><a class="l" href="#651">651: </a>                    <span class="php-var">$entry</span>[] = <span class="php-num">1</span>;
</span><span id="652" class="l"><a class="l" href="#652">652: </a>                }
</span><span id="653" class="l"><a class="l" href="#653">653: </a>            }
</span><span id="654" class="l"><a class="l" href="#654">654: </a>
</span><span id="655" class="l"><a class="l" href="#655">655: </a>            <span class="php-var">$output</span> .= <span class="php-var">$this</span>-&gt;_outputLine(<span class="php-var">$entry</span>);
</span><span id="656" class="l"><a class="l" href="#656">656: </a>        }
</span><span id="657" class="l"><a class="l" href="#657">657: </a>
</span><span id="658" class="l"><a class="l" href="#658">658: </a>        <span class="php-comment">/* Restore previous value of 'track_errors'. */</span>
</span><span id="659" class="l"><a class="l" href="#659">659: </a>        <span class="php-keyword2">ini_restore</span>(<span class="php-quote">'track_errors'</span>);
</span><span id="660" class="l"><a class="l" href="#660">660: </a>
</span><span id="661" class="l"><a class="l" href="#661">661: </a>        <span class="php-keyword1">return</span> <span class="php-var">$output</span>;
</span><span id="662" class="l"><a class="l" href="#662">662: </a>    }
</span><span id="663" class="l"><a class="l" href="#663">663: </a>
</span><span id="664" class="l"><a class="l" href="#664">664: </a>    <span class="php-comment">/**
</span></span><span id="665" class="l"><a class="l" href="#665">665: </a><span class="php-comment">     * Additional check for 'session.gc_divisor'.
</span></span><span id="666" class="l"><a class="l" href="#666">666: </a><span class="php-comment">     *
</span></span><span id="667" class="l"><a class="l" href="#667">667: </a><span class="php-comment">     * @return boolean  Returns true if error string should be displayed.
</span></span><span id="668" class="l"><a class="l" href="#668">668: </a><span class="php-comment">     */</span>
</span><span id="669" class="l"><a class="l" href="#669">669: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="__checkMemoryLimit" href="#__checkMemoryLimit">_checkMemoryLimit</a>()
</span><span id="670" class="l"><a class="l" href="#670">670: </a>    {
</span><span id="671" class="l"><a class="l" href="#671">671: </a>        <span class="php-var">$memlimit</span> = <span class="php-keyword2">trim</span>(<span class="php-keyword2">ini_get</span>(<span class="php-quote">'memory_limit'</span>));
</span><span id="672" class="l"><a class="l" href="#672">672: </a>        <span class="php-keyword1">switch</span> (<span class="php-keyword2">strtolower</span>(<span class="php-keyword2">substr</span>(<span class="php-var">$memlimit</span>, -<span class="php-num">1</span>))) {
</span><span id="673" class="l"><a class="l" href="#673">673: </a>        <span class="php-keyword1">case</span> <span class="php-quote">'g'</span>:
</span><span id="674" class="l"><a class="l" href="#674">674: </a>            <span class="php-var">$memlimit</span> *= <span class="php-num">1024</span>;
</span><span id="675" class="l"><a class="l" href="#675">675: </a>            <span class="php-comment">// Fall-through</span>
</span><span id="676" class="l"><a class="l" href="#676">676: </a>
</span><span id="677" class="l"><a class="l" href="#677">677: </a>        <span class="php-keyword1">case</span> <span class="php-quote">'m'</span>:
</span><span id="678" class="l"><a class="l" href="#678">678: </a>            <span class="php-var">$memlimit</span> *= <span class="php-num">1024</span>;
</span><span id="679" class="l"><a class="l" href="#679">679: </a>            <span class="php-comment">// Fall-through</span>
</span><span id="680" class="l"><a class="l" href="#680">680: </a>
</span><span id="681" class="l"><a class="l" href="#681">681: </a>        <span class="php-keyword1">case</span> <span class="php-quote">'k'</span>:
</span><span id="682" class="l"><a class="l" href="#682">682: </a>            <span class="php-var">$memlimit</span> *= <span class="php-num">1024</span>;
</span><span id="683" class="l"><a class="l" href="#683">683: </a>            <span class="php-comment">// Fall-through</span>
</span><span id="684" class="l"><a class="l" href="#684">684: </a>        }
</span><span id="685" class="l"><a class="l" href="#685">685: </a>
</span><span id="686" class="l"><a class="l" href="#686">686: </a>        <span class="php-keyword1">return</span> (<span class="php-var">$memlimit</span> &lt; <span class="php-num">67108864</span>);
</span><span id="687" class="l"><a class="l" href="#687">687: </a>    }
</span><span id="688" class="l"><a class="l" href="#688">688: </a>
</span><span id="689" class="l"><a class="l" href="#689">689: </a>    <span class="php-comment">/**
</span></span><span id="690" class="l"><a class="l" href="#690">690: </a><span class="php-comment">     * Additional check for 'session.gc_divisor'.
</span></span><span id="691" class="l"><a class="l" href="#691">691: </a><span class="php-comment">     *
</span></span><span id="692" class="l"><a class="l" href="#692">692: </a><span class="php-comment">     * @return boolean  Returns true if error string should be displayed.
</span></span><span id="693" class="l"><a class="l" href="#693">693: </a><span class="php-comment">     */</span>
</span><span id="694" class="l"><a class="l" href="#694">694: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="__checkGcDivisor" href="#__checkGcDivisor">_checkGcDivisor</a>()
</span><span id="695" class="l"><a class="l" href="#695">695: </a>    {
</span><span id="696" class="l"><a class="l" href="#696">696: </a>        <span class="php-keyword1">return</span> (<span class="php-keyword2">ini_get</span>(<span class="php-quote">'session.gc_divisor'</span>) &lt; <span class="php-num">10000</span>);
</span><span id="697" class="l"><a class="l" href="#697">697: </a>    }
</span><span id="698" class="l"><a class="l" href="#698">698: </a>
</span><span id="699" class="l"><a class="l" href="#699">699: </a>    <span class="php-comment">/**
</span></span><span id="700" class="l"><a class="l" href="#700">700: </a><span class="php-comment">     * Additional check for 'session.gc_probability'.
</span></span><span id="701" class="l"><a class="l" href="#701">701: </a><span class="php-comment">     *
</span></span><span id="702" class="l"><a class="l" href="#702">702: </a><span class="php-comment">     * @return boolean  Returns true if error string should be displayed.
</span></span><span id="703" class="l"><a class="l" href="#703">703: </a><span class="php-comment">     */</span>
</span><span id="704" class="l"><a class="l" href="#704">704: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="__checkGcProbability" href="#__checkGcProbability">_checkGcProbability</a>()
</span><span id="705" class="l"><a class="l" href="#705">705: </a>    {
</span><span id="706" class="l"><a class="l" href="#706">706: </a>        <span class="php-keyword1">return</span> !(<span class="php-keyword2">ini_get</span>(<span class="php-quote">'session.gc_probability'</span>) &amp;&amp;
</span><span id="707" class="l"><a class="l" href="#707">707: </a>                 <span class="php-keyword2">ini_get</span>(<span class="php-quote">'session.gc_divisor'</span>));
</span><span id="708" class="l"><a class="l" href="#708">708: </a>    }
</span><span id="709" class="l"><a class="l" href="#709">709: </a>
</span><span id="710" class="l"><a class="l" href="#710">710: </a>    <span class="php-comment">/**
</span></span><span id="711" class="l"><a class="l" href="#711">711: </a><span class="php-comment">     * Check the list of required files
</span></span><span id="712" class="l"><a class="l" href="#712">712: </a><span class="php-comment">     *
</span></span><span id="713" class="l"><a class="l" href="#713">713: </a><span class="php-comment">     * @return string  The HTML output.
</span></span><span id="714" class="l"><a class="l" href="#714">714: </a><span class="php-comment">     */</span>
</span><span id="715" class="l"><a class="l" href="#715">715: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_requiredFileCheck" href="#_requiredFileCheck">requiredFileCheck</a>()
</span><span id="716" class="l"><a class="l" href="#716">716: </a>    {
</span><span id="717" class="l"><a class="l" href="#717">717: </a>        <span class="php-var">$output</span> = <span class="php-quote">''</span>;
</span><span id="718" class="l"><a class="l" href="#718">718: </a>        <span class="php-var">$filedir</span> = <span class="php-var">$GLOBALS</span>[<span class="php-quote">'registry'</span>]-&gt;get(<span class="php-quote">'fileroot'</span>);
</span><span id="719" class="l"><a class="l" href="#719">719: </a>
</span><span id="720" class="l"><a class="l" href="#720">720: </a>        <span class="php-keyword1">foreach</span> (<span class="php-var">$this</span>-&gt;_fileList <span class="php-keyword1">as</span> <span class="php-var">$key</span> =&gt; <span class="php-var">$val</span>) {
</span><span id="721" class="l"><a class="l" href="#721">721: </a>            <span class="php-var">$entry</span> = <span class="php-keyword1">array</span>();
</span><span id="722" class="l"><a class="l" href="#722">722: </a>            <span class="php-var">$result</span> = <span class="php-keyword2">file_exists</span>(<span class="php-var">$filedir</span> . <span class="php-quote">'/'</span> . <span class="php-var">$key</span>);
</span><span id="723" class="l"><a class="l" href="#723">723: </a>
</span><span id="724" class="l"><a class="l" href="#724">724: </a>            <span class="php-var">$entry</span>[] = <span class="php-var">$key</span>;
</span><span id="725" class="l"><a class="l" href="#725">725: </a>            <span class="php-var">$entry</span>[] = <span class="php-var">$this</span>-&gt;_status(<span class="php-var">$result</span>);
</span><span id="726" class="l"><a class="l" href="#726">726: </a>
</span><span id="727" class="l"><a class="l" href="#727">727: </a>            <span class="php-keyword1">if</span> (!<span class="php-var">$result</span>) {
</span><span id="728" class="l"><a class="l" href="#728">728: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword1">empty</span>(<span class="php-var">$val</span>)) {
</span><span id="729" class="l"><a class="l" href="#729">729: </a>                    <span class="php-var">$text</span> = <span class="php-quote">'The file &lt;code&gt;'</span> . <span class="php-var">$key</span> . <span class="php-quote">'&lt;/code&gt; appears to be missing.'</span>;
</span><span id="730" class="l"><a class="l" href="#730">730: </a>                    <span class="php-keyword1">if</span> (<span class="php-var">$key</span> == <span class="php-quote">'config/conf.php'</span>) {
</span><span id="731" class="l"><a class="l" href="#731">731: </a>                        <span class="php-var">$text</span> .= <span class="php-quote">' You need to login to Horde as an administrator and create the initial configuration file.'</span>;
</span><span id="732" class="l"><a class="l" href="#732">732: </a>                    } <span class="php-keyword1">else</span> {
</span><span id="733" class="l"><a class="l" href="#733">733: </a>                        <span class="php-var">$text</span> .= <span class="php-quote">' You probably just forgot to copy &lt;code&gt;'</span> . <span class="php-var">$key</span> . <span class="php-quote">'.dist&lt;/code&gt; over. While you do that, take a look at the settings and make sure they are appropriate for your site.'</span>;
</span><span id="734" class="l"><a class="l" href="#734">734: </a>                    }
</span><span id="735" class="l"><a class="l" href="#735">735: </a>
</span><span id="736" class="l"><a class="l" href="#736">736: </a>                    <span class="php-var">$entry</span>[] = <span class="php-var">$text</span>;
</span><span id="737" class="l"><a class="l" href="#737">737: </a>                } <span class="php-keyword1">else</span> {
</span><span id="738" class="l"><a class="l" href="#738">738: </a>                    <span class="php-var">$entry</span>[] = <span class="php-var">$val</span>;
</span><span id="739" class="l"><a class="l" href="#739">739: </a>                }
</span><span id="740" class="l"><a class="l" href="#740">740: </a>            }
</span><span id="741" class="l"><a class="l" href="#741">741: </a>
</span><span id="742" class="l"><a class="l" href="#742">742: </a>            <span class="php-var">$output</span> .= <span class="php-var">$this</span>-&gt;_outputLine(<span class="php-var">$entry</span>);
</span><span id="743" class="l"><a class="l" href="#743">743: </a>        }
</span><span id="744" class="l"><a class="l" href="#744">744: </a>
</span><span id="745" class="l"><a class="l" href="#745">745: </a>        <span class="php-keyword1">return</span> <span class="php-var">$output</span>;
</span><span id="746" class="l"><a class="l" href="#746">746: </a>    }
</span><span id="747" class="l"><a class="l" href="#747">747: </a>
</span><span id="748" class="l"><a class="l" href="#748">748: </a>    <span class="php-comment">/**
</span></span><span id="749" class="l"><a class="l" href="#749">749: </a><span class="php-comment">     * Check the list of required Horde applications.
</span></span><span id="750" class="l"><a class="l" href="#750">750: </a><span class="php-comment">     *
</span></span><span id="751" class="l"><a class="l" href="#751">751: </a><span class="php-comment">     * @return string  The HTML output.
</span></span><span id="752" class="l"><a class="l" href="#752">752: </a><span class="php-comment">     */</span>
</span><span id="753" class="l"><a class="l" href="#753">753: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_requiredAppCheck" href="#_requiredAppCheck">requiredAppCheck</a>()
</span><span id="754" class="l"><a class="l" href="#754">754: </a>    {
</span><span id="755" class="l"><a class="l" href="#755">755: </a>        <span class="php-var">$output</span> = <span class="php-quote">''</span>;
</span><span id="756" class="l"><a class="l" href="#756">756: </a>
</span><span id="757" class="l"><a class="l" href="#757">757: </a>        <span class="php-var">$horde_apps</span> = <span class="php-var">$GLOBALS</span>[<span class="php-quote">'registry'</span>]-&gt;listApps(<span class="php-keyword1">null</span>, <span class="php-keyword1">true</span>, <span class="php-keyword1">null</span>);
</span><span id="758" class="l"><a class="l" href="#758">758: </a>
</span><span id="759" class="l"><a class="l" href="#759">759: </a>        <span class="php-keyword1">foreach</span> (<span class="php-var">$this</span>-&gt;_appList <span class="php-keyword1">as</span> <span class="php-var">$key</span> =&gt; <span class="php-var">$val</span>) {
</span><span id="760" class="l"><a class="l" href="#760">760: </a>            <span class="php-var">$entry</span> = <span class="php-keyword1">array</span>();
</span><span id="761" class="l"><a class="l" href="#761">761: </a>            <span class="php-var">$entry</span>[] = <span class="php-var">$key</span>;
</span><span id="762" class="l"><a class="l" href="#762">762: </a>
</span><span id="763" class="l"><a class="l" href="#763">763: </a>            <span class="php-keyword1">if</span> (!<span class="php-keyword1">isset</span>(<span class="php-var">$horde_apps</span>[<span class="php-var">$key</span>])) {
</span><span id="764" class="l"><a class="l" href="#764">764: </a>                <span class="php-var">$entry</span>[] = <span class="php-var">$this</span>-&gt;_status(<span class="php-keyword1">false</span>, <span class="php-keyword1">false</span>);
</span><span id="765" class="l"><a class="l" href="#765">765: </a>                <span class="php-var">$entry</span>[] = <span class="php-var">$val</span>[<span class="php-quote">'error'</span>];
</span><span id="766" class="l"><a class="l" href="#766">766: </a>                <span class="php-var">$entry</span>[] = <span class="php-num">1</span>;
</span><span id="767" class="l"><a class="l" href="#767">767: </a>            } <span class="php-keyword1">else</span> {
</span><span id="768" class="l"><a class="l" href="#768">768: </a>                <span class="php-comment">/* Strip '-git', and H# (ver) from version string. */</span>
</span><span id="769" class="l"><a class="l" href="#769">769: </a>                <span class="php-var">$origver</span> = <span class="php-var">$GLOBALS</span>[<span class="php-quote">'registry'</span>]-&gt;getVersion(<span class="php-var">$key</span>);
</span><span id="770" class="l"><a class="l" href="#770">770: </a>                <span class="php-var">$appver</span> = <span class="php-keyword2">preg_replace</span>(<span class="php-quote">'/(H\d) \((.*)\)/'</span>, <span class="php-quote">'$2'</span>, <span class="php-keyword2">str_replace</span>(<span class="php-quote">'-git'</span>, <span class="php-quote">''</span>, <span class="php-var">$origver</span>));
</span><span id="771" class="l"><a class="l" href="#771">771: </a>                <span class="php-keyword1">if</span> (<span class="php-keyword2">version_compare</span>(<span class="php-var">$val</span>[<span class="php-quote">'version'</span>], <span class="php-var">$appver</span>) === <span class="php-num">1</span>) {
</span><span id="772" class="l"><a class="l" href="#772">772: </a>                    <span class="php-var">$entry</span>[] = <span class="php-var">$this</span>-&gt;_status(<span class="php-keyword1">false</span>, <span class="php-keyword1">false</span>) . <span class="php-quote">' (Have version: '</span> . <span class="php-var">$origver</span> . <span class="php-quote">'; Need version: '</span> . <span class="php-var">$val</span>[<span class="php-quote">'version'</span>] . <span class="php-quote">')'</span>;
</span><span id="773" class="l"><a class="l" href="#773">773: </a>                    <span class="php-var">$entry</span>[] = <span class="php-var">$val</span>[<span class="php-quote">'error'</span>];
</span><span id="774" class="l"><a class="l" href="#774">774: </a>                    <span class="php-var">$entry</span>[] = <span class="php-num">1</span>;
</span><span id="775" class="l"><a class="l" href="#775">775: </a>                } <span class="php-keyword1">else</span> {
</span><span id="776" class="l"><a class="l" href="#776">776: </a>                    <span class="php-var">$entry</span>[] = <span class="php-var">$this</span>-&gt;_status(<span class="php-keyword1">true</span>) . <span class="php-quote">' (Version: '</span> . <span class="php-var">$origver</span> . <span class="php-quote">')'</span>;
</span><span id="777" class="l"><a class="l" href="#777">777: </a>                }
</span><span id="778" class="l"><a class="l" href="#778">778: </a>            }
</span><span id="779" class="l"><a class="l" href="#779">779: </a>            <span class="php-var">$output</span> .= <span class="php-var">$this</span>-&gt;_outputLine(<span class="php-var">$entry</span>);
</span><span id="780" class="l"><a class="l" href="#780">780: </a>        }
</span><span id="781" class="l"><a class="l" href="#781">781: </a>
</span><span id="782" class="l"><a class="l" href="#782">782: </a>        <span class="php-keyword1">return</span> <span class="php-var">$output</span>;
</span><span id="783" class="l"><a class="l" href="#783">783: </a>    }
</span><span id="784" class="l"><a class="l" href="#784">784: </a>
</span><span id="785" class="l"><a class="l" href="#785">785: </a>    <span class="php-comment">/**
</span></span><span id="786" class="l"><a class="l" href="#786">786: </a><span class="php-comment">     * Obtain information on the PHP version.
</span></span><span id="787" class="l"><a class="l" href="#787">787: </a><span class="php-comment">     *
</span></span><span id="788" class="l"><a class="l" href="#788">788: </a><span class="php-comment">     * @return object stdClass  TODO
</span></span><span id="789" class="l"><a class="l" href="#789">789: </a><span class="php-comment">     */</span>
</span><span id="790" class="l"><a class="l" href="#790">790: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_getPhpVersionInformation" href="#_getPhpVersionInformation">getPhpVersionInformation</a>()
</span><span id="791" class="l"><a class="l" href="#791">791: </a>    {
</span><span id="792" class="l"><a class="l" href="#792">792: </a>        <span class="php-var">$output</span> = <span class="php-keyword1">new</span> stdClass;
</span><span id="793" class="l"><a class="l" href="#793">793: </a>        <span class="php-var">$vers_check</span> = <span class="php-keyword1">true</span>;
</span><span id="794" class="l"><a class="l" href="#794">794: </a>
</span><span id="795" class="l"><a class="l" href="#795">795: </a>        <span class="php-var">$testscript</span> = Horde::selfUrl(<span class="php-keyword1">true</span>);
</span><span id="796" class="l"><a class="l" href="#796">796: </a>        <span class="php-var">$output</span>-&gt;<span class="php-keyword2">phpinfo</span> = <span class="php-var">$testscript</span>-&gt;<span class="php-keyword2">copy</span>()-&gt;add(<span class="php-quote">'mode'</span>, <span class="php-quote">'phpinfo'</span>);
</span><span id="797" class="l"><a class="l" href="#797">797: </a>        <span class="php-var">$output</span>-&gt;extensions = <span class="php-var">$testscript</span>-&gt;<span class="php-keyword2">copy</span>()-&gt;add(<span class="php-quote">'mode'</span>, <span class="php-quote">'extensions'</span>);
</span><span id="798" class="l"><a class="l" href="#798">798: </a>        <span class="php-var">$output</span>-&gt;version = PHP_VERSION;
</span><span id="799" class="l"><a class="l" href="#799">799: </a>        <span class="php-var">$output</span>-&gt;major = <span class="php-var">$this</span>-&gt;_phpver[<span class="php-quote">'major'</span>];
</span><span id="800" class="l"><a class="l" href="#800">800: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;_phpver[<span class="php-quote">'minor'</span>])) {
</span><span id="801" class="l"><a class="l" href="#801">801: </a>            <span class="php-var">$output</span>-&gt;minor = <span class="php-var">$this</span>-&gt;_phpver[<span class="php-quote">'minor'</span>];
</span><span id="802" class="l"><a class="l" href="#802">802: </a>        }
</span><span id="803" class="l"><a class="l" href="#803">803: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword1">isset</span>(<span class="php-var">$this</span>-&gt;_phpver[<span class="php-quote">'subminor'</span>])) {
</span><span id="804" class="l"><a class="l" href="#804">804: </a>            <span class="php-var">$output</span>-&gt;subminor = <span class="php-var">$this</span>-&gt;_phpver[<span class="php-quote">'subminor'</span>];
</span><span id="805" class="l"><a class="l" href="#805">805: </a>        }
</span><span id="806" class="l"><a class="l" href="#806">806: </a>        <span class="php-var">$output</span>-&gt;<span class="php-keyword1">class</span> = <span class="php-var">$this</span>-&gt;_phpver[<span class="php-quote">'class'</span>];
</span><span id="807" class="l"><a class="l" href="#807">807: </a>
</span><span id="808" class="l"><a class="l" href="#808">808: </a>        <span class="php-var">$output</span>-&gt;status_color = <span class="php-quote">'red'</span>;
</span><span id="809" class="l"><a class="l" href="#809">809: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$output</span>-&gt;major &lt; <span class="php-quote">'5.2'</span>) {
</span><span id="810" class="l"><a class="l" href="#810">810: </a>            <span class="php-var">$output</span>-&gt;status = <span class="php-quote">'This version of PHP is not supported. You need to upgrade to a more recent version.'</span>;
</span><span id="811" class="l"><a class="l" href="#811">811: </a>            <span class="php-var">$vers_check</span> = <span class="php-keyword1">false</span>;
</span><span id="812" class="l"><a class="l" href="#812">812: </a>        } <span class="php-keyword1">elseif</span> (<span class="php-keyword2">in_array</span>(<span class="php-var">$output</span>-&gt;major, <span class="php-var">$this</span>-&gt;_supported)) {
</span><span id="813" class="l"><a class="l" href="#813">813: </a>            <span class="php-var">$output</span>-&gt;status = <span class="php-quote">'You are running a supported version of PHP.'</span>;
</span><span id="814" class="l"><a class="l" href="#814">814: </a>            <span class="php-var">$output</span>-&gt;status_color = <span class="php-quote">'green'</span>;
</span><span id="815" class="l"><a class="l" href="#815">815: </a>        } <span class="php-keyword1">else</span> {
</span><span id="816" class="l"><a class="l" href="#816">816: </a>            <span class="php-var">$output</span>-&gt;status = <span class="php-quote">'This version of PHP has not been fully tested with this version of Horde.'</span>;
</span><span id="817" class="l"><a class="l" href="#817">817: </a>            <span class="php-var">$output</span>-&gt;status_color = <span class="php-quote">'orange'</span>;
</span><span id="818" class="l"><a class="l" href="#818">818: </a>        }
</span><span id="819" class="l"><a class="l" href="#819">819: </a>
</span><span id="820" class="l"><a class="l" href="#820">820: </a>        <span class="php-keyword1">if</span> (!<span class="php-var">$vers_check</span>) {
</span><span id="821" class="l"><a class="l" href="#821">821: </a>            <span class="php-var">$output</span>-&gt;version_check = <span class="php-quote">'Horde requires PHP 5.2.0 or greater.'</span>;
</span><span id="822" class="l"><a class="l" href="#822">822: </a>        }
</span><span id="823" class="l"><a class="l" href="#823">823: </a>
</span><span id="824" class="l"><a class="l" href="#824">824: </a>        <span class="php-keyword1">return</span> <span class="php-var">$output</span>;
</span><span id="825" class="l"><a class="l" href="#825">825: </a>    }
</span><span id="826" class="l"><a class="l" href="#826">826: </a>
</span><span id="827" class="l"><a class="l" href="#827">827: </a>    <span class="php-comment">/**
</span></span><span id="828" class="l"><a class="l" href="#828">828: </a><span class="php-comment">     * Output the results of a status check.
</span></span><span id="829" class="l"><a class="l" href="#829">829: </a><span class="php-comment">     *
</span></span><span id="830" class="l"><a class="l" href="#830">830: </a><span class="php-comment">     * @param boolean $bool      The result of the status check.
</span></span><span id="831" class="l"><a class="l" href="#831">831: </a><span class="php-comment">     * @param boolean $required  Whether the checked item is required.
</span></span><span id="832" class="l"><a class="l" href="#832">832: </a><span class="php-comment">     *
</span></span><span id="833" class="l"><a class="l" href="#833">833: </a><span class="php-comment">     * @return string  The HTML of the result of the status check.
</span></span><span id="834" class="l"><a class="l" href="#834">834: </a><span class="php-comment">     */</span>
</span><span id="835" class="l"><a class="l" href="#835">835: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="__status" href="#__status">_status</a>(<span class="php-var">$bool</span>, <span class="php-var">$required</span> = <span class="php-keyword1">true</span>)
</span><span id="836" class="l"><a class="l" href="#836">836: </a>    {
</span><span id="837" class="l"><a class="l" href="#837">837: </a>        <span class="php-keyword1">if</span> (<span class="php-var">$bool</span>) {
</span><span id="838" class="l"><a class="l" href="#838">838: </a>            <span class="php-keyword1">return</span> <span class="php-quote">'&lt;strong style=&quot;color:green&quot;&gt;Yes&lt;/strong&gt;'</span>;
</span><span id="839" class="l"><a class="l" href="#839">839: </a>        } <span class="php-keyword1">elseif</span> (<span class="php-var">$required</span>) {
</span><span id="840" class="l"><a class="l" href="#840">840: </a>            <span class="php-keyword1">return</span> <span class="php-quote">'&lt;strong style=&quot;color:red&quot;&gt;No&lt;/strong&gt;'</span>;
</span><span id="841" class="l"><a class="l" href="#841">841: </a>        }
</span><span id="842" class="l"><a class="l" href="#842">842: </a>
</span><span id="843" class="l"><a class="l" href="#843">843: </a>        <span class="php-keyword1">return</span> <span class="php-quote">'&lt;strong style=&quot;color:orange&quot;&gt;No&lt;/strong&gt;'</span>;
</span><span id="844" class="l"><a class="l" href="#844">844: </a>    }
</span><span id="845" class="l"><a class="l" href="#845">845: </a>
</span><span id="846" class="l"><a class="l" href="#846">846: </a>    <span class="php-comment">/**
</span></span><span id="847" class="l"><a class="l" href="#847">847: </a><span class="php-comment">     * Internal output function.
</span></span><span id="848" class="l"><a class="l" href="#848">848: </a><span class="php-comment">     *
</span></span><span id="849" class="l"><a class="l" href="#849">849: </a><span class="php-comment">     * @param array $entry  Array with the following values:
</span></span><span id="850" class="l"><a class="l" href="#850">850: </a><span class="php-comment">     * &lt;pre&gt;
</span></span><span id="851" class="l"><a class="l" href="#851">851: </a><span class="php-comment">     * 1st value: Header
</span></span><span id="852" class="l"><a class="l" href="#852">852: </a><span class="php-comment">     * 2nd value: Test Result
</span></span><span id="853" class="l"><a class="l" href="#853">853: </a><span class="php-comment">     * 3rd value: Error message (if present)
</span></span><span id="854" class="l"><a class="l" href="#854">854: </a><span class="php-comment">     * 4th value: Error level (if present): 0 = error, 1 = warning
</span></span><span id="855" class="l"><a class="l" href="#855">855: </a><span class="php-comment">     * &lt;/pre&gt;
</span></span><span id="856" class="l"><a class="l" href="#856">856: </a><span class="php-comment">     *
</span></span><span id="857" class="l"><a class="l" href="#857">857: </a><span class="php-comment">     * @return string  HTML output.
</span></span><span id="858" class="l"><a class="l" href="#858">858: </a><span class="php-comment">     */</span>
</span><span id="859" class="l"><a class="l" href="#859">859: </a>    <span class="php-keyword1">protected</span> <span class="php-keyword1">function</span> <a id="__outputLine" href="#__outputLine">_outputLine</a>(<span class="php-var">$entry</span>)
</span><span id="860" class="l"><a class="l" href="#860">860: </a>    {
</span><span id="861" class="l"><a class="l" href="#861">861: </a>        <span class="php-var">$output</span> = <span class="php-quote">'&lt;li&gt;'</span> . <span class="php-keyword2">array_shift</span>(<span class="php-var">$entry</span>) . <span class="php-quote">': '</span> . <span class="php-keyword2">array_shift</span>(<span class="php-var">$entry</span>);
</span><span id="862" class="l"><a class="l" href="#862">862: </a>        <span class="php-keyword1">if</span> (!<span class="php-keyword1">empty</span>(<span class="php-var">$entry</span>)) {
</span><span id="863" class="l"><a class="l" href="#863">863: </a>            <span class="php-var">$msg</span> = <span class="php-keyword2">array_shift</span>(<span class="php-var">$entry</span>);
</span><span id="864" class="l"><a class="l" href="#864">864: </a>            <span class="php-var">$output</span> .= <span class="php-quote">'&lt;br /&gt;&lt;strong style=&quot;color:'</span> . (<span class="php-keyword1">empty</span>(<span class="php-var">$entry</span>) || !<span class="php-keyword2">array_shift</span>(<span class="php-var">$entry</span>) ? <span class="php-quote">'red'</span> : <span class="php-quote">'orange'</span>) . <span class="php-quote">'&quot;&gt;'</span> . <span class="php-var">$msg</span> . <span class="php-quote">&quot;&lt;/strong&gt;\n&quot;</span>;
</span><span id="865" class="l"><a class="l" href="#865">865: </a>        }
</span><span id="866" class="l"><a class="l" href="#866">866: </a>
</span><span id="867" class="l"><a class="l" href="#867">867: </a>        <span class="php-keyword1">return</span> <span class="php-var">$output</span> . <span class="php-quote">&quot;&lt;/li&gt;\n&quot;</span>;
</span><span id="868" class="l"><a class="l" href="#868">868: </a>    }
</span><span id="869" class="l"><a class="l" href="#869">869: </a>
</span><span id="870" class="l"><a class="l" href="#870">870: </a>    <span class="php-comment">/**
</span></span><span id="871" class="l"><a class="l" href="#871">871: </a><span class="php-comment">     * Any application specific tests that need to be done.
</span></span><span id="872" class="l"><a class="l" href="#872">872: </a><span class="php-comment">     *
</span></span><span id="873" class="l"><a class="l" href="#873">873: </a><span class="php-comment">     * @return string  HTML output.
</span></span><span id="874" class="l"><a class="l" href="#874">874: </a><span class="php-comment">     */</span>
</span><span id="875" class="l"><a class="l" href="#875">875: </a>    <span class="php-keyword1">public</span> <span class="php-keyword1">function</span> <a id="_appTests" href="#_appTests">appTests</a>()
</span><span id="876" class="l"><a class="l" href="#876">876: </a>    {
</span><span id="877" class="l"><a class="l" href="#877">877: </a>        <span class="php-comment">/* File upload information. */</span>
</span><span id="878" class="l"><a class="l" href="#878">878: </a>        <span class="php-var">$upload_check</span> = <span class="php-var">$this</span>-&gt;phpSettingCheck(<span class="php-keyword1">array</span>(
</span><span id="879" class="l"><a class="l" href="#879">879: </a>            <span class="php-quote">'file_uploads'</span> =&gt; <span class="php-keyword1">array</span>(
</span><span id="880" class="l"><a class="l" href="#880">880: </a>                <span class="php-quote">'error'</span> =&gt; <span class="php-quote">'file_uploads must be enabled for some features like sending emails with IMP.'</span>,
</span><span id="881" class="l"><a class="l" href="#881">881: </a>                <span class="php-quote">'setting'</span> =&gt; <span class="php-keyword1">true</span>
</span><span id="882" class="l"><a class="l" href="#882">882: </a>            )
</span><span id="883" class="l"><a class="l" href="#883">883: </a>        ));
</span><span id="884" class="l"><a class="l" href="#884">884: </a>        <span class="php-var">$upload_tmp_dir</span> = (<span class="php-var">$dir</span> = <span class="php-keyword2">ini_get</span>(<span class="php-quote">'upload_tmp_dir'</span>))
</span><span id="885" class="l"><a class="l" href="#885">885: </a>            ? <span class="php-quote">'&lt;li&gt;upload_tmp_dir: &lt;strong style=&quot;color:&quot;'</span> . (<span class="php-keyword2">is_writable</span>(<span class="php-var">$dir</span>) ? <span class="php-quote">'green'</span> : <span class="php-quote">'red'</span>) . <span class="php-quote">'&quot;&gt;'</span> . <span class="php-var">$dir</span> . <span class="php-quote">'&lt;/strong&gt;&lt;/li&gt;'</span>
</span><span id="886" class="l"><a class="l" href="#886">886: </a>            : <span class="php-quote">''</span>;
</span><span id="887" class="l"><a class="l" href="#887">887: </a>
</span><span id="888" class="l"><a class="l" href="#888">888: </a>        <span class="php-var">$ret</span> = <span class="php-quote">'&lt;h1&gt;File Uploads&lt;/h1&gt;&lt;ul&gt;'</span> .
</span><span id="889" class="l"><a class="l" href="#889">889: </a>            <span class="php-var">$upload_check</span> .
</span><span id="890" class="l"><a class="l" href="#890">890: </a>            <span class="php-var">$upload_tmp_dir</span> .
</span><span id="891" class="l"><a class="l" href="#891">891: </a>            <span class="php-quote">'&lt;li&gt;upload_max_filesize: '</span> . <span class="php-keyword2">ini_get</span>(<span class="php-quote">'upload_max_filesize'</span>) . <span class="php-quote">'&lt;/li&gt;'</span>.
</span><span id="892" class="l"><a class="l" href="#892">892: </a>            <span class="php-quote">'&lt;li&gt;post_max_size: '</span> . <span class="php-keyword2">ini_get</span>(<span class="php-quote">'post_max_size'</span>) . <span class="php-quote">'&lt;br /&gt;'</span> .
</span><span id="893" class="l"><a class="l" href="#893">893: </a>            <span class="php-quote">'This value should be several times the expect largest upload size (notwithstanding any upload limits present in an application). Any upload that exceeds this size will cause any state information sent along with the uploaded data to be lost. This is a PHP limitation and can not be worked around.'</span>.
</span><span id="894" class="l"><a class="l" href="#894">894: </a>            <span class="php-quote">'&lt;/li&gt;&lt;/ul&gt;'</span>;
</span><span id="895" class="l"><a class="l" href="#895">895: </a>
</span><span id="896" class="l"><a class="l" href="#896">896: </a>        <span class="php-comment">/* Determine if 'static' is writable by the web user. */</span>
</span><span id="897" class="l"><a class="l" href="#897">897: </a>        <span class="php-var">$ret</span> .= <span class="php-quote">'&lt;h1&gt;Local File Permissions&lt;/h1&gt;&lt;ul&gt;'</span> .
</span><span id="898" class="l"><a class="l" href="#898">898: </a>            <span class="php-quote">'&lt;li&gt;Is &lt;tt&gt;'</span> . <span class="php-keyword2">htmlspecialchars</span>(HORDE_BASE) . <span class="php-quote">'/static&lt;/tt&gt; writable by the web server user? '</span>;
</span><span id="899" class="l"><a class="l" href="#899">899: </a>        <span class="php-var">$ret</span> .= <span class="php-keyword2">is_writable</span>(HORDE_BASE . <span class="php-quote">'/static'</span>)
</span><span id="900" class="l"><a class="l" href="#900">900: </a>            ? <span class="php-quote">'&lt;strong style=&quot;color:green&quot;&gt;Yes&lt;/strong&gt;'</span>
</span><span id="901" class="l"><a class="l" href="#901">901: </a>            : <span class="php-quote">&quot;&lt;strong style=\&quot;color:red\&quot;&gt;No&lt;/strong&gt;&lt;br /&gt;&lt;strong style=\&quot;color:orange\&quot;&gt;If caching javascript and CSS files by storing them in static files (HIGHLY RECOMMENDED), this directory must be writable as the user the web server runs as.&lt;/strong&gt;&quot;</span>;
</span><span id="902" class="l"><a class="l" href="#902">902: </a>
</span><span id="903" class="l"><a class="l" href="#903">903: </a>        <span class="php-keyword1">if</span> (<span class="php-keyword2">extension_loaded</span>(<span class="php-quote">'imagick'</span>)) {
</span><span id="904" class="l"><a class="l" href="#904">904: </a>            <span class="php-var">$im</span> = <span class="php-keyword1">new</span> Imagick();
</span><span id="905" class="l"><a class="l" href="#905">905: </a>            <span class="php-var">$imagick</span> = <span class="php-keyword2">is_callable</span>(<span class="php-keyword1">array</span>(<span class="php-var">$im</span>, <span class="php-quote">'getIteratorIndex'</span>));
</span><span id="906" class="l"><a class="l" href="#906">906: </a>            <span class="php-var">$ret</span> .= <span class="php-quote">'&lt;/li&gt;&lt;/ul&gt;&lt;h1&gt;Imagick&lt;/h1&gt;&lt;ul&gt;'</span> .
</span><span id="907" class="l"><a class="l" href="#907">907: </a>                <span class="php-quote">'&lt;li&gt;Imagick compiled against current ImageMagick version: '</span> . (<span class="php-var">$imagick</span> ? <span class="php-quote">'Yes'</span> : <span class="php-quote">'No'</span>);
</span><span id="908" class="l"><a class="l" href="#908">908: </a>        }
</span><span id="909" class="l"><a class="l" href="#909">909: </a>
</span><span id="910" class="l"><a class="l" href="#910">910: </a>        <span class="php-keyword1">return</span> <span class="php-var">$ret</span> . <span class="php-quote">'&lt;/li&gt;&lt;/ul&gt;'</span>;
</span><span id="911" class="l"><a class="l" href="#911">911: </a>    }
</span><span id="912" class="l"><a class="l" href="#912">912: </a>
</span><span id="913" class="l"><a class="l" href="#913">913: </a>}
</span><span id="914" class="l"><a class="l" href="#914">914: </a></span></code></pre>

	<div id="footer">
		 API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
</div>
<script src="resources/combined.js?721046668"></script>
<script src="elementlist.js?3977859780"></script>
</body>
</html>
