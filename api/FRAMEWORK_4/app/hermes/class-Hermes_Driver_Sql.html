<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Class Hermes_Driver_Sql</title>

	<link rel="stylesheet" href="resources/style.css?1648332946">

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
			<h3>Packages</h3>
			<ul>
				<li class="active"><a href="namespace-Hermes.html">Hermes</a>
						</li>
				<li><a href="namespace-Horde.html">Horde<span></span></a>
						<ul>
				<li><a href="namespace-Horde.Data.html">Data</a>
						</li>
							</ul></li>
				<li><a href="namespace-Kronolith.html">Kronolith</a>
						</li>
				<li><a href="namespace-None.html">None</a>
						</li>
			</ul>
		</div>

		<hr>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-Hermes.html">Hermes</a></li>
				<li><a href="class-Hermes_Ajax_Application.html">Hermes_Ajax_Application</a></li>
				<li><a href="class-Hermes_Api.html">Hermes_Api</a></li>
				<li><a href="class-Hermes_Driver.html">Hermes_Driver</a></li>
				<li class="active"><a href="class-Hermes_Driver_Sql.html">Hermes_Driver_Sql</a></li>
				<li><a href="class-Hermes_Factory_Driver.html">Hermes_Factory_Driver</a></li>
				<li><a href="class-Hermes_Form_Admin_AddJobType.html">Hermes_Form_Admin_AddJobType</a></li>
				<li><a href="class-Hermes_Form_Admin_DeleteJobType.html">Hermes_Form_Admin_DeleteJobType</a></li>
				<li><a href="class-Hermes_Form_Admin_EditClientStepOne.html">Hermes_Form_Admin_EditClientStepOne</a></li>
				<li><a href="class-Hermes_Form_Admin_EditClientStepTwo.html">Hermes_Form_Admin_EditClientStepTwo</a></li>
				<li><a href="class-Hermes_Form_Admin_EditJobTypeStepOne.html">Hermes_Form_Admin_EditJobTypeStepOne</a></li>
				<li><a href="class-Hermes_Form_Admin_EditJobTypeStepTwo.html">Hermes_Form_Admin_EditJobTypeStepTwo</a></li>
				<li><a href="class-Hermes_Form_Deliverable.html">Hermes_Form_Deliverable</a></li>
				<li><a href="class-Hermes_Form_Deliverable_ClientSelector.html">Hermes_Form_Deliverable_ClientSelector</a></li>
				<li><a href="class-Hermes_Form_Export.html">Hermes_Form_Export</a></li>
				<li><a href="class-Hermes_Form_JobType_Edit_Step1.html">Hermes_Form_JobType_Edit_Step1</a></li>
				<li><a href="class-Hermes_Form_Search.html">Hermes_Form_Search</a></li>
				<li><a href="class-Hermes_Form_Time.html">Hermes_Form_Time</a></li>
				<li><a href="class-Hermes_Form_Time_Entry.html">Hermes_Form_Time_Entry</a></li>
				<li><a href="class-Hermes_LoginTasks_SystemTask_Upgrade.html">Hermes_LoginTasks_SystemTask_Upgrade</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="">
		<input type="hidden" name="ie" value="UTF-8">
		<input type="text" name="q" class="text" placeholder="Search">
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="package-Hermes.html" title="Summary of Hermes"><span>Package</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class Hermes_Driver_Sql</h1>


	<div class="description">
	<p>Hermes SQL storage driver.</p>

<p>See the enclosed file LICENSE for license information (BSD). If you
did not receive this file, see http://www.horde.org/licenses/bsdl.php.</p>

	</div>

	<dl class="tree">
		<dd style="padding-left:0px">
			<a href="class-Hermes_Driver.html"><span>Hermes_Driver</span></a>
			
			
			
		</dd>
		<dd style="padding-left:30px">
			<img src="resources/inherit.png" alt="Extended by">
<b><span>Hermes_Driver_Sql</span></b>			
			
			
		</dd>
	</dl>








	<div class="info">
		
		
		
		<b>Package:</b> Hermes<br>

				<b>Author:</b>
				Chuck Hagenbuch <a href="&#109;a&#x69;l&#x74;&#111;&#x3a;&#99;&#x68;&#117;&#x63;&#107;&#x40;&#104;&#x6f;&#114;&#x64;&#101;&#x2e;&#111;&#x72;&#103;">&#99;&#x68;&#117;&#x63;&#107;&#x40;&#104;&#x6f;&#114;&#x64;&#101;&#x2e;&#111;&#x72;&#103;</a>
<br>
				<b>Author:</b>
				Michael J. Rubinsky <a href="&#x6d;&#97;&#x69;&#108;&#x74;&#x6f;&#58;&#x6d;&#114;&#x75;&#x62;&#105;&#x6e;&#115;&#x6b;&#x40;&#104;&#x6f;&#114;&#x64;&#x65;&#46;&#x6f;&#114;&#x67;">&#x6d;&#114;&#x75;&#x62;&#105;&#x6e;&#115;&#x6b;&#x40;&#104;&#x6f;&#114;&#x64;&#x65;&#46;&#x6f;&#114;&#x67;</a>
<br>
		<b>Located at</b> <a href="source-class-Hermes_Driver_Sql.html#2-754" title="Go to source code">Driver/Sql.php</a><br>
	</div>



	<table class="summary methods" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="__construct" id="___construct">

		<td class="attributes"><code>
			 public 

			<code><a href="class-Hermes_Driver_Sql.html">Hermes_Driver_Sql</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#___construct">#</a>
		<code><a href="source-class-Hermes_Driver_Sql.html#22-39" title="Go to source code">__construct</a>( <span>array <var>$params</var> = <span class="php-keyword1">array</span>()</span> )</code>

		<div class="description short">
			<p>Constructor</p>

		</div>

		<div class="description detailed hidden">
			<p>Constructor</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$params</var></dt>
					<dd>A hash containing connection parameters.

db_adapter =&amp;gt; The Horde_Db_Adapter object
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code><code><a href="class-Hermes_Driver_Sql.html">Hermes_Driver_Sql</a></code></code><br>The driver object.

				</div>



				<h4>Overrides</h4>
				<div class="list"><code><a href="class-Hermes_Driver.html#___construct">Hermes_Driver::__construct()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="enterTime" id="_enterTime">

		<td class="attributes"><code>
			 public 

			integer
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_enterTime">#</a>
		<code><a href="source-class-Hermes_Driver_Sql.html#41-96" title="Go to source code">enterTime</a>( <span>string <var>$employee</var></span>, <span>array <var>$info</var></span> )</code>

		<div class="description short">
			<p>Save a row of billing information.</p>

		</div>

		<div class="description detailed hidden">
			<p>Save a row of billing information.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$employee</var></dt>
					<dd>&lt;p&gt;The Horde ID of the person who worked the
                         hours.&lt;/p&gt;
</dd>
					<dt><var>$info</var></dt>
					<dd>&lt;p&gt;The billing information to enter. Must contain
                         the following entries:&lt;/p&gt;

&lt;pre&gt;&lt;span class="php-quote"&gt;'date'&lt;/span&gt;         The day the hours were worked (ISO format)
 &lt;span class="php-quote"&gt;'client'&lt;/span&gt;       The id of the client the work was done &lt;span class="php-keyword1"&gt;for&lt;/span&gt;.
 &lt;span class="php-quote"&gt;'type'&lt;/span&gt;         The type of work done.
 &lt;span class="php-quote"&gt;'hours'&lt;/span&gt;        The number of hours worked
 &lt;span class="php-quote"&gt;'billable'&lt;/span&gt;     (optional) Whether &lt;span class="php-keyword1"&gt;or&lt;/span&gt; not the work is billable hours.
 &lt;span class="php-quote"&gt;'description'&lt;/span&gt;  A short description of the work.
 &lt;span class="php-quote"&gt;'note'&lt;/span&gt;         Any notes.
 &lt;span class="php-quote"&gt;'costobject'&lt;/span&gt;   The costobject id&lt;/pre&gt;
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>integer</code><br>The new timeslice_id of the newly entered slice

				</div>

				<h4>Throws</h4>
				<div class="list">
					<code><a href="class-Hermes_Exception.html">Hermes_Exception</a></code>
				</div>



		</div>
		</div></td>
	</tr>
	<tr data-order="updateTime" id="_updateTime">

		<td class="attributes"><code>
			 public 

			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_updateTime">#</a>
		<code><a href="source-class-Hermes_Driver_Sql.html#98-162" title="Go to source code">updateTime</a>( <span>array <var>$entries</var></span> )</code>

		<div class="description short">
			<p>Update a set of billing information.</p>

		</div>

		<div class="description detailed hidden">
			<p>Update a set of billing information.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$entries</var></dt>
					<dd>&lt;p&gt;The billing information to enter. Each array row
                       must contain the following entries:
             'id'           The id of this time entry.
             'date'         The day the hours were worked (ISO format)
             'client'       The id of the client the work was done for.
             'type'         The type of work done.
             'hours'        The number of hours worked
             'rate'         The hourly rate the work was done at.
             'billable'     Whether or not the work is billable hours.
             'description'  A short description of the work.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;                   If any rows contain a 'delete' entry, those rows
                   will be deleted instead of updated.
&lt;/code&gt;&lt;/pre&gt;
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br>boolean

				</div>

				<h4>Throws</h4>
				<div class="list">
					Horde_Exception_PermissionDenied<br>
					<code><a href="class-Hermes_Exception.html">Hermes_Exception</a></code>
				</div>



		</div>
		</div></td>
	</tr>
	<tr data-order="getHours" id="_getHours">

		<td class="attributes"><code>
			 public 

			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getHours">#</a>
		<code><a href="source-class-Hermes_Driver_Sql.html#164-302" title="Go to source code">getHours</a>( <span>array <var>$filters</var> = <span class="php-keyword1">array</span>()</span>, <span>array <var>$fields</var> = <span class="php-keyword1">array</span>()</span> )</code>

		<div class="description short">
			<p>Fetch time slices</p>

		</div>

		<div class="description detailed hidden">
			<p>Fetch time slices</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$filters</var></dt>
					<dd>
</dd>
					<dt><var>$fields</var></dt>
					<dd>
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br>Array of timeslice objects

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="markAs" id="_markAs">

		<td class="attributes"><code>
			 public 

			&lt;type&gt;
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_markAs">#</a>
		<code><a href="source-class-Hermes_Driver_Sql.html#329-364" title="Go to source code">markAs</a>( <span>&lt;type&gt; <var>$field</var></span>, <span>&lt;type&gt; <var>$hours</var></span> )</code>

		<div class="description short">
			

		</div>

		<div class="description detailed hidden">
			



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$field</var></dt>
					<dd>
</dd>
					<dt><var>$hours</var></dt>
					<dd>
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>&lt;type&gt;</code>
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="listJobTypes" id="_listJobTypes">

		<td class="attributes"><code>
			 public 

			&lt;type&gt;
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_listJobTypes">#</a>
		<code><a href="source-class-Hermes_Driver_Sql.html#366-408" title="Go to source code">listJobTypes</a>( <span>array <var>$criteria</var> = <span class="php-keyword1">array</span>()</span> )</code>

		<div class="description short">
			

		</div>

		<div class="description detailed hidden">
			



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$criteria</var></dt>
					<dd>
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>&lt;type&gt;</code>
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="updateJobType" id="_updateJobType">

		<td class="attributes"><code>
			 public 

			The
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_updateJobType">#</a>
		<code><a href="source-class-Hermes_Driver_Sql.html#410-450" title="Go to source code">updateJobType</a>( <span>array <var>$jobtype</var></span> )</code>

		<div class="description short">
			<p>Add or update a job type record.</p>

		</div>

		<div class="description detailed hidden">
			<p>Add or update a job type record.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$jobtype</var></dt>
					<dd>&lt;p&gt;A hash of job type properties:
                 'id'        =&gt; The ID of the job, if updating.  If not
                                present, a new job type is created.
                 'name'      =&gt; The job type's name.
                 'enabled'   =&gt; Whether the job type is enabled for new
                                time entry.&lt;/p&gt;
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>The</code><br>job's ID.

				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="deleteJobType" id="_deleteJobType">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_deleteJobType">#</a>
		<code><a href="source-class-Hermes_Driver_Sql.html#452-459" title="Go to source code">deleteJobType</a>( <span>mixed <var>$jobTypeID</var></span> )</code>

		<div class="description short">
			

		</div>

		<div class="description detailed hidden">
			








		</div>
		</div></td>
	</tr>
	<tr data-order="updateDeliverable" id="_updateDeliverable">

		<td class="attributes"><code>
			 public 

			integer
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_updateDeliverable">#</a>
		<code><a href="source-class-Hermes_Driver_Sql.html#461-514" title="Go to source code">updateDeliverable</a>( <span>array <var>$deliverable</var></span> )</code>

		<div class="description short">
			

		</div>

		<div class="description detailed hidden">
			



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$deliverable</var></dt>
					<dd>&lt;p&gt;A hash of deliverable properties:
                 'id'            =&gt; The ID of the deliverable, if
                                    updating.  If not present, a new
                                    ID is allocated.
                 'name'          =&gt; The deliverable's display name.
                 'client_id'     =&gt; The assigned client ID.
                 'parent'        =&gt; ID of the deliverables parent
                                    deliverable (if a child).
                 'estimate'      =&gt; Estimated number of hours for
                                    completion of the deliverable.
                 'active'        =&gt; Whether this deliverable is active.
                 'description'   =&gt; Text description (notes) for this
                                    deliverable.&lt;/p&gt;
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>integer</code><br>ID of new or saved deliverable.

				</div>


				<h4>See</h4>
				<div class="list">
						<code><code><a href="class-Hermes_Driver.html#_updateDeliverable">Hermes_Driver::updateDeliverable()</a></code></code><br>
				</div>


		</div>
		</div></td>
	</tr>
	<tr data-order="listDeliverables" id="_listDeliverables">

		<td class="attributes"><code>
			 public 

			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_listDeliverables">#</a>
		<code><a href="source-class-Hermes_Driver_Sql.html#516-571" title="Go to source code">listDeliverables</a>( <span>array <var>$criteria</var> = <span class="php-keyword1">array</span>()</span> )</code>

		<div class="description short">
			

		</div>

		<div class="description detailed hidden">
			



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$criteria</var></dt>
					<dd>&lt;p&gt;A hash of search criteria:
             'id'        =&gt; If present, only deliverable with
                            specified ID is searched for.
             'client_id' =&gt; If present, list is filtered by
                            client ID.&lt;/p&gt;
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br>Hash of job types.

				</div>


				<h4>See</h4>
				<div class="list">
						<code><code><a href="class-Hermes_Driver.html#_listDeliverables">Hermes_Driver::listDeliverables()</a></code></code><br>
				</div>


		</div>
		</div></td>
	</tr>
	<tr data-order="deleteDeliverable" id="_deleteDeliverable">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_deleteDeliverable">#</a>
		<code><a href="source-class-Hermes_Driver_Sql.html#573-610" title="Go to source code">deleteDeliverable</a>( <span>integer <var>$deliverableID</var></span> )</code>

		<div class="description short">
			

		</div>

		<div class="description detailed hidden">
			



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$deliverableID</var></dt>
					<dd>The ID of the deliverable.
</dd>
				</dl></div>


				<h4>Throws</h4>
				<div class="list">
					<code><a href="class-Hermes_Exception.html">Hermes_Exception</a></code>
				</div>

				<h4>See</h4>
				<div class="list">
						<code><code><a href="class-Hermes_Driver.html#_updateDeliverable">Hermes_Driver::updateDeliverable()</a></code></code><br>
				</div>


		</div>
		</div></td>
	</tr>
	<tr data-order="getClientSettings" id="_getClientSettings">

		<td class="attributes"><code>
			 public 

			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getClientSettings">#</a>
		<code><a href="source-class-Hermes_Driver_Sql.html#612-659" title="Go to source code">getClientSettings</a>( <span>integer <var>$clientID</var></span> )</code>

		<div class="description short">
			<p>Fetch client settings from storage.</p>

		</div>

		<div class="description detailed hidden">
			<p>Fetch client settings from storage.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$clientID</var></dt>
					<dd>client id
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br>A hash of client settings.

				</div>

				<h4>Throws</h4>
				<div class="list">
					<code><a href="class-Hermes_Exception.html">Hermes_Exception</a></code>
				</div>



		</div>
		</div></td>
	</tr>
	<tr data-order="updateClientSettings" id="_updateClientSettings">

		<td class="attributes"><code>
			 public 

			&lt;type&gt;
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_updateClientSettings">#</a>
		<code><a href="source-class-Hermes_Driver_Sql.html#661-707" title="Go to source code">updateClientSettings</a>( <span>&lt;type&gt; <var>$clientID</var></span>, <span>&lt;type&gt; <var>$enterDescription</var> = <span class="php-num">1</span></span>, <span>string <var>$exportID</var> = <span class="php-keyword1">null</span></span> )</code>

		<div class="description short">
			

		</div>

		<div class="description detailed hidden">
			



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$clientID</var></dt>
					<dd>
</dd>
					<dt><var>$enterDescription</var></dt>
					<dd>
</dd>
					<dt><var>$exportID</var></dt>
					<dd>
</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>&lt;type&gt;</code>
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="purge" id="_purge">

		<td class="attributes"><code>
			 public 

			&lt;type&gt;
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_purge">#</a>
		<code><a href="source-class-Hermes_Driver_Sql.html#709-725" title="Go to source code">purge</a>( )</code>

		<div class="description short">
			

		</div>

		<div class="description detailed hidden">
			




				<h4>Returns</h4>
				<div class="list">
					<code>&lt;type&gt;</code>
				</div>




		</div>
		</div></td>
	</tr>
	</table>

	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-Hermes_Driver.html#methods">Hermes_Driver</a></caption>
	<tr>
		<td><code>
			<a href="class-Hermes_Driver.html#_getDeliverableByID">getDeliverableByID()</a>, 
			<a href="class-Hermes_Driver.html#_getJobTypeByID">getJobTypeByID()</a>
		</code></td>
	</tr>
	</table>








	<table class="summary inherited">
	<caption>Constants inherited from <a href="class-Hermes_Driver.html#constants">Hermes_Driver</a></caption>
	<tr>
		<td><code>
			<a href="class-Hermes_Driver.html#SORT_ORDER_ASC"><b>SORT_ORDER_ASC</b></a>, 
			<a href="class-Hermes_Driver.html#SORT_ORDER_DESC"><b>SORT_ORDER_DESC</b></a>
		</code></td>
	</tr>
	</table>









</div>

	<div id="footer">
		 API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
</div>
<script src="resources/combined.js?721046668"></script>
<script src="elementlist.js?2216072566"></script>
</body>
</html>
