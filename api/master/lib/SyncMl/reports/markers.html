<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <meta charset="utf-8"/>
    <title>     &raquo; Markers
</title>
    <meta name="author" content=""/>
    <meta name="description" content=""/>

    <link href="../css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/prism.css" rel="stylesheet" media="all"/>
    <link href="../css/template.css" rel="stylesheet" media="all"/>
    
    <!--[if lt IE 9]>
    <script src="../js/html5.js"></script>
    <![endif]-->
    <script src="../js/jquery-1.11.0.min.js"></script>
    <script src="../js/ui/1.10.4/jquery-ui.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/jquery.smooth-scroll.js"></script>
    <script src="../js/prism.min.js"></script>
    <!-- TODO: Add http://jscrollpane.kelvinluck.com/ to style the scrollbars for browsers not using webkit-->
    
    <link rel="shortcut icon" href="../images/favicon.ico"/>
    <link rel="apple-touch-icon" href="../images/apple-touch-icon.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="../images/apple-touch-icon-72x72.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="../images/apple-touch-icon-114x114.png"/>
</head>
<body>

<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <i class="icon-ellipsis-vertical"></i>
            </a>
            <a class="brand" href="../index.html">API Documentation</a>

            <div class="nav-collapse">
                <ul class="nav pull-right">
                                        <li class="dropdown" id="charts-menu">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            Charts <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="../graphs/class.html">
                                    <i class="icon-list-alt"></i>&#160;Class hierarchy diagram
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown" id="reports-menu">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            Reports <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="../reports/errors.html">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <i class="icon-list-alt"></i>&#160;Errors <span class="label label-info pull-right">164</span>
                                </a>
                            </li>
                            <li>
                                <a href="../reports/markers.html">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <i class="icon-list-alt"></i>&#160;Markers <span class="label label-info pull-right">9</span>
                                </a>
                            </li>
                            <li>
                                <a href="../reports/deprecated.html">
                                                                                                            <i class="icon-list-alt"></i>&#160;Deprecated <span class="label label-info pull-right">0</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!--<div class="go_to_top">-->
    <!--<a href="#___" style="color: inherit">Back to top&#160;&#160;<i class="icon-upload icon-white"></i></a>-->
    <!--</div>-->
</div>

<div id="___" class="container-fluid">
        <section class="row-fluid">
        <div class="span2 sidebar">
            <ul class="side-nav nav nav-list">
                <li class="nav-header">Navigation</li>
                                                                                                                                                                                                                                                                                                                                                                <li><a href="#SyncMl/Sync.php"><i class="icon-file"></i> SyncMl/Sync.php</a></li>
                                                                                                                                                                                                                <li><a href="#SyncMl/Command/Map.php"><i class="icon-file"></i> SyncMl/Command/Map.php</a></li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <li><a href="#SyncMl/Device.php"><i class="icon-file"></i> SyncMl/Device.php</a></li>
                                                                                                <li><a href="#SyncMl/Backend.php"><i class="icon-file"></i> SyncMl/Backend.php</a></li>
                                                                                                <li><a href="#SyncMl/ContentHandler.php"><i class="icon-file"></i> SyncMl/ContentHandler.php</a></li>
                                                                                                <li><a href="#SyncMl/State.php"><i class="icon-file"></i> SyncMl/State.php</a></li>
                                                                                                <li><a href="#SyncMl/Backend/Horde.php"><i class="icon-file"></i> SyncMl/Backend/Horde.php</a></li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ul>
        </div>

        <div class="span10 offset2">

            <ul class="breadcrumb">
                <li><a href="../"><i class="icon-map-marker"></i></a><span class="divider">\</span></li>
                <li>Markers</li>
            </ul>

            
            <div id="marker-accordion">
                                                                                                                                                                                                                                                <div class="package-contents">
                            <a name="SyncMl/Sync.php" id="SyncMl/Sync.php"></a>
                            <h3>
                            <i class="icon-file"></i>
                                SyncMl/Sync.php
                                <small style="float: right;padding-right: 10px;">2</small>
                            </h3>
                            <div>
                                <table class="table markers table-bordered">
                                    <tr>
                                        <th>Type</th>
                                        <th>Line</th>
                                        <th>Description</th>
                                    </tr>
                                                                            <tr>
                                            <td>TODO</td>
                                            <td>221</td>
                                            <td>maybe this should be moved to SyncItem</td>
                                        </tr>
                                                                            <tr>
                                            <td>TODO</td>
                                            <td>358</td>
                                            <td>Check for Mem/FreeMem and Mem/FreeID when checking MaxObjSize</td>
                                        </tr>
                                                                    </table>
                            </div>
                        </div>
                                                                                                                                                        <div class="package-contents">
                            <a name="SyncMl/Command/Map.php" id="SyncMl/Command/Map.php"></a>
                            <h3>
                            <i class="icon-file"></i>
                                SyncMl/Command/Map.php
                                <small style="float: right;padding-right: 10px;">1</small>
                            </h3>
                            <div>
                                <table class="table markers table-bordered">
                                    <tr>
                                        <th>Type</th>
                                        <th>Line</th>
                                        <th>Description</th>
                                    </tr>
                                                                            <tr>
                                            <td>TODO</td>
                                            <td>94</td>
                                            <td>No OK response on error.</td>
                                        </tr>
                                                                    </table>
                            </div>
                        </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                        <div class="package-contents">
                            <a name="SyncMl/Device.php" id="SyncMl/Device.php"></a>
                            <h3>
                            <i class="icon-file"></i>
                                SyncMl/Device.php
                                <small style="float: right;padding-right: 10px;">1</small>
                            </h3>
                            <div>
                                <table class="table markers table-bordered">
                                    <tr>
                                        <th>Type</th>
                                        <th>Line</th>
                                        <th>Description</th>
                                    </tr>
                                                                            <tr>
                                            <td>TODO</td>
                                            <td>160</td>
                                            <td>remove UID stripping or move it anywhere else.</td>
                                        </tr>
                                                                    </table>
                            </div>
                        </div>
                                                                                <div class="package-contents">
                            <a name="SyncMl/Backend.php" id="SyncMl/Backend.php"></a>
                            <h3>
                            <i class="icon-file"></i>
                                SyncMl/Backend.php
                                <small style="float: right;padding-right: 10px;">1</small>
                            </h3>
                            <div>
                                <table class="table markers table-bordered">
                                    <tr>
                                        <th>Type</th>
                                        <th>Line</th>
                                        <th>Description</th>
                                    </tr>
                                                                            <tr>
                                            <td>TODO</td>
                                            <td>177</td>
                                            <td>describe sync anchors
   Have a look at the SyncML spec
   http://www.openmobilealliance.org/tech/affiliates/syncml/syncmlindex.html
   to find out more.

4) Changes and Timestamps
   @todo description of Changes and Timestamps, &quot;mirroring effect&quot;
   This is real tricky stuff.
   First it&#039;s important to know, that the SyncML protocol requires the
   ending timestamp of the sync timeframe to be exchanged _before_ the
   actual syncing starts. So all changes made during a sync have timestamps
   that are in the timeframe for the next upcoming sync.  Data exchange in
   a sync session works in two steps: 1st) the clients sends its changes to
   the server, 2nd) the server sends its changes to the client.
   So when in step 2, the backend datastore API is called with a request
   like &quot;give me all changes in the server since the last sync&quot;.  Thus you
   also get the changes induced by the client in step 1 as well.  You have
   to somehow &quot;tag&quot; them to avoid echoing (and thus duplicating) them back
   to the client. Simply storing the guids in the session is not
   sufficient: the changes are made _after_ the end timestamp (see 1) of
   the current sync so you&#039;ll dupe them in the next sync.
   The current implementation deals with this as follows: whenever a client
   induced change is done in the backend, the timestamp for this change is
   stored in the cuid&lt;-&gt;suid map in an additional field. That&#039;s the perfect
   place as the tagging needs to be done &quot;per client device&quot;: when an add
   is received from the PDA it must not be sent back as an add to this
   device, but to mobile phone it must be sent.
   This is sorted out during the getServerChanges() process: if a server
   change has a timestamp that&#039;s the same as in the guid&lt;-&gt;suid map, it
   came from the client and must not be added to the list of changes to be
   sent to this client.
   See the description of Horde_SyncMl_Backend_Sql::_getChangeTS() for some
   more information.

5) Messages and Packages
   A message is a single HTTP Request. A package is single &quot;logical
   message&quot;, a sync step. Normally the two coincide. However due to message
   size restrictions one package may be transferred in multiple messages
   (HTTP requests).

7) Server mode, client mode and test mode
   Per default, a backend is used for an SyncML server. Regarding the
   SyncML protocol, the working of client and server is similar, except
   that
   a) the client initiates the sync requests and the server respons to them,
      and
   b) the server must maintain the client id&lt;-&gt;server id map.

   Currently the Horde_SyncMl package is designed to create servers. But
   is&#039;s an obvious (and straightforward) extension to do it for clients as
   well.  And as a client has actually less work to do than a server, the
   backend should work for servers _and_ clients. During the sessionStart(),
   the backend gets a parameter to let it know whether it&#039;s in client or
   server mode (or test, see below). When in client mode, it should behave
   slightly different:
   a) the client doesn&#039;t do suid&lt;-&gt;cuid mapping, so all invokations to the
      map creation method createUidMap().
   b) the client has only client ids, no server ids. So all arguments are
      considered cuids even when named suid. See the Horde_SyncMl_Backend_Sql
      implementation, it&#039;s actually not that difficult.

   Finally there&#039;s the test mode. The test cases consist of replaying
   pre-recorded sessions. For that to work, the test script must &quot;simulate&quot;
   user entries in the server data store. To do so, it creates a backend in
   test mode. This behaves similar to a client: when an server entry is
   created (modified) using addEntry() (replaceEntry()), no map entry must
   be done.
   The test backend uses also the two methods testSetup() and testTearDown()
   to create a clean (empty) enviroment for the test user &quot;syncmltest&quot;.  See
   the Horde_SyncMl_Backend_Sql implementation for details.

Copyright 2005-2017 Horde LLC (http://www.horde.org/)

See the enclosed file LICENSE for license information (LGPL). If you
did not receive this file, see http://www.horde.org/licenses/lgpl21.</td>
                                        </tr>
                                                                    </table>
                            </div>
                        </div>
                                                                                <div class="package-contents">
                            <a name="SyncMl/ContentHandler.php" id="SyncMl/ContentHandler.php"></a>
                            <h3>
                            <i class="icon-file"></i>
                                SyncMl/ContentHandler.php
                                <small style="float: right;padding-right: 10px;">1</small>
                            </h3>
                            <div>
                                <table class="table markers table-bordered">
                                    <tr>
                                        <th>Type</th>
                                        <th>Line</th>
                                        <th>Description</th>
                                    </tr>
                                                                            <tr>
                                            <td>TODO</td>
                                            <td>27</td>
                                            <td>: Main Todos:
- ensure that no server data is written for Horde_SyncMl::ALERT_ONE_WAY_FROM_SERVER
  even when client sends data (security!)
- consinstant naming of clientSyncDB (currently called targetLocURI, db
  or synctype)
- tackle the AddReplace issue: when a Replace is issued (i.e. during
  SlowSync) the server should first check if the entry already exists.
  Like: does a calendar entry with the same timeframe, same subject and
  location exist. If so, the replace should replace this value rather than
  create a new one as a duplicate.

Copyright 2003-2017 Horde LLC (http://www.horde.org/)

See the enclosed file LICENSE for license information (LGPL). If you
did not receive this file, see http://www.horde.org/licenses/lgpl21.</td>
                                        </tr>
                                                                    </table>
                            </div>
                        </div>
                                                                                <div class="package-contents">
                            <a name="SyncMl/State.php" id="SyncMl/State.php"></a>
                            <h3>
                            <i class="icon-file"></i>
                                SyncMl/State.php
                                <small style="float: right;padding-right: 10px;">2</small>
                            </h3>
                            <div>
                                <table class="table markers table-bordered">
                                    <tr>
                                        <th>Type</th>
                                        <th>Line</th>
                                        <th>Description</th>
                                    </tr>
                                                                            <tr>
                                            <td>TODO</td>
                                            <td>110</td>
                                            <td>Change to PHP_INT_MAX.</td>
                                        </tr>
                                                                            <tr>
                                            <td>TODO</td>
                                            <td>119</td>
                                            <td>Change to PHP_INT_MAX.</td>
                                        </tr>
                                                                    </table>
                            </div>
                        </div>
                                                                                <div class="package-contents">
                            <a name="SyncMl/Backend/Horde.php" id="SyncMl/Backend/Horde.php"></a>
                            <h3>
                            <i class="icon-file"></i>
                                SyncMl/Backend/Horde.php
                                <small style="float: right;padding-right: 10px;">1</small>
                            </h3>
                            <div>
                                <table class="table markers table-bordered">
                                    <tr>
                                        <th>Type</th>
                                        <th>Line</th>
                                        <th>Description</th>
                                    </tr>
                                                                            <tr>
                                            <td>TODO</td>
                                            <td>921</td>
                                            <td></td>
                                        </tr>
                                                                    </table>
                            </div>
                        </div>
                                                                                                                                                                                                                                                                                                            </div>
        </div>
    </section>

    <footer class="row-fluid">
        <section class="span10 offset2">
            <section class="row-fluid">
                <section class="span10 offset1">
                    <section class="row-fluid footer-sections">
                        <section class="span4">
                                                        <h1><i class="icon-code"></i></h1>
                            <div>
                                <ul>
                                                                    </ul>
                            </div>
                        </section>
                        <section class="span4">
                                                        <h1><i class="icon-bar-chart"></i></h1>
                            <div>
                                <ul>
                                    <li><a href="../graphs/class.html">Class Hierarchy Diagram</a></li>
                                </ul>
                            </div>
                        </section>
                        <section class="span4">
                                                        <h1><i class="icon-pushpin"></i></h1>
                            <div>
                                <ul>
                                    <li><a href="../reports/errors.html">Errors</a></li>
                                    <li><a href="../reports/markers.html">Markers</a></li>
                                </ul>
                            </div>
                        </section>
                    </section>
                </section>
            </section>
            <section class="row-fluid">
                <section class="span10 offset1">
                    <hr />
                    Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor </a> and authored
                    on October 9th, 2018 at 20:39.
                </section>
            </section>
        </section>
    </footer>
</div>

</body>
</html>
