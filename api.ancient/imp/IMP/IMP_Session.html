<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos  -->
			<title>Docs For Class IMP_Session</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
						<script src="../media/lib/classTree.js"></script>
												<script language="javascript" type="text/javascript">
				var imgPlus = new Image();
				var imgMinus = new Image();
				imgPlus.src = "../media/images/plus.png";
				imgMinus.src = "../media/images/minus.png";
				
				function showNode(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
							var oImg = document.layers["img" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
							var oImg = document.all["img" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
							var oImg = document.getElementById("img" + Node);
									break;
							}
					oImg.src = imgMinus.src;
					oTable.style.display = "block";
				}
				
				function hideNode(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
							var oImg = document.layers["img" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
							var oImg = document.all["img" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
							var oImg = document.getElementById("img" + Node);
									break;
							}
					oImg.src = imgPlus.src;
					oTable.style.display = "none";
				}
				
				function nodeIsVisible(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
									break;
							}
					return (oTable && oTable.style.display == "block");
				}
				
				function toggleNodeVisibility(Node){
					if (nodeIsVisible(Node)){
						hideNode(Node);
					}else{
						showNode(Node);
					}
				}
			</script>
					</head>
		<body>
			<div class="page-body">			
<h2 class="class-name"><img src="../media/images/Class_logo.png"
														alt=" Class"
														title=" Class"
														style="vertical-align: middle"> IMP_Session</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Functions required to create/initialize an IMP session.</p>
<p class="description"><p>$Horde: imp/lib/Session.php,v 1.179 2009/01/06 17:50:17 jan Exp $</p><p>Copyright 1999-2009 The Horde Project (http://www.horde.org/)</p><p>See the enclosed file COPYING for license information (GPL). If you  did not receive this file, see http://www.fsf.org/copyleft/gpl.html.</p></p>
	<ul class="tags">
				<li><span class="field">author:</span> Chuck Hagenbuch &lt;<a href="mailto:chuck@horde.org">chuck@horde.org</a>&gt;</li>
				<li><span class="field">author:</span> Jon Parise &lt;<a href="mailto:jon@horde.org">jon@horde.org</a>&gt;</li>
				<li><span class="field">author:</span> Michael Slusarz &lt;<a href="mailto:slusarz@horde.org">slusarz@horde.org</a>&gt;</li>
			</ul>
		<p class="notes">
			Located in <a class="field" href="_lib---Session.php.html">/lib/Session.php</a> (line <span class="field">17</span>)
		</p>
		
				
		<pre></pre>
	
			</div>
</div>



	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
								</div>
		<div class="info-box-body">
			<div class="var-summary">
												<div class="var-title">
					<img src="../media/images/StaticVariable.png" alt=" " />
					static <span class="var-type">string</span>
					<a href="#$prefServer" title="details" class="var-name">$prefServer</a>
				</div>
																							</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																		<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
											
				<div class="method-definition">
					<img src="../media/images/StaticMethod.png" alt=" "/>
					static 						<span class="method-result">mixed</span>
										<a href="#canAutoLogin" title="details" class="method-name">canAutoLogin</a>
											([<span class="var-type">string</span>&nbsp;<span class="var-name">$server_key</span> = <span class="var-default">null</span>], [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$force</span> = <span class="var-default">false</span>])
									</div>
															
				<div class="method-definition">
					<img src="../media/images/StaticMethod.png" alt=" "/>
					static 						<span class="method-result">boolean</span>
										<a href="#createSession" title="details" class="method-name">createSession</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$imapuser</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$password</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$server</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/StaticMethod.png" alt=" "/>
					static 						<span class="method-result">string</span>
										<a href="#getAutoLoginServer" title="details" class="method-name">getAutoLoginServer</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../media/images/StaticMethod.png" alt=" "/>
					static 						<span class="method-result">string</span>
										<a href="#getInitialUrl" title="details" class="method-name">getInitialUrl</a>
											([<span class="var-type">string</span>&nbsp;<span class="var-name">$actionID</span> = <span class="var-default">null</span>], [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$encode</span> = <span class="var-default">true</span>])
									</div>
																							
				<div class="method-definition">
					<img src="../media/images/StaticMethod.png" alt=" "/>
					static 						<span class="method-result">void</span>
										<a href="#loginTasks" title="details" class="method-name">loginTasks</a>
										()
									</div>
																																																			
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">boolean</span>
										<a href="#isPreferredServer" title="details" class="method-name">isPreferredServer</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$server</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$key</span> = <span class="var-default">null</span>])
									</div>
																			</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			<a name="var$prefServer" id="$prefServer"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../media/images/StaticVariable.png" />
		<span class="var-title">
			static <span class="var-type">string</span>
			<span class="var-name">$prefServer</span>
			 = <span class="var-default"> null</span>			(line <span class="line-number">24</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">The preferred server based on the value from the login form.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>

						
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
																	<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>
<a name="methodcanAutoLogin" id="canAutoLogin"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/StaticMethod.png" />
		<span class="method-title">static canAutoLogin</span> (line <span class="line-number">357</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns whether we can log in without a login screen for $server_key.</p>
	<ul class="tags">
				<li><span class="field">return:</span> The autologin user if autologin is available, or false.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">mixed</span>
		<span class="method-name">
			canAutoLogin
		</span>
					([<span class="var-type">string</span>&nbsp;<span class="var-name">$server_key</span> = <span class="var-default">null</span>], [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$force</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$server_key</span><span class="var-description">: The server to check. Defaults to the                             autologin server.</span>			</li>
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$force</span><span class="var-description">: If true, check $server_key even if there is                             more than one server available.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodcreateSession" id="createSession"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/StaticMethod.png" />
		<span class="method-title">static createSession</span> (line <span class="line-number">70</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Take information posted from a login attempt and try setting up</p>
<p class="description"><p>an initial IMP session. Handle Horde authentication, if  required, and only do enough work to see if the user can log  in. This function should only be called once, when the user  first logs in. On success, logs a message to the Horde log.</p><p>Creates the 'imp' session variable with the following entries:  'acl'           -- See config/servers.php.  'admin'         -- See config/servers.php.  'autologin'     -- Is autologin available?  'base_protocol' -- Either 'imap' or 'pop3'.  'cache'         -- Various IMP libraries can use this variable to cache                     data.  'default_view'  -- The default view (dimp, imp, or mimp).  'file_upload'   -- If file uploads are allowed, the max size.  'filteravail'   -- Can we apply filters manually?  'imap_server'   -- IMAP server capabilities.  'logintasks'    -- Have the login tasks been completed?  'maildomain'    -- See config/servers.php.  'mboxcache'     -- Used by the IMP_MailboxCache library.  'namespace'     -- See config/servers.php.  'notepadavail'  -- Is listing of notepads available?  'pass'          -- The encrypted password.  'port'          -- See config/servers.php.  'protocol'      -- See config/servers.php.  'quota'         -- See config/servers.php.  'search'        -- Settings used by the IMP_Search library.  'server'        -- The name of the server entry in config/servers.php.  'smime'         -- Settings related to the S/MIME viewer.  'smtphost'      -- The SMTP host to use instead of the Horde default.  'smtpport'      -- The SMTP port to use instead of the Horde default.  'showunsub'     -- Show unsusubscribed mailboxes on the folders screen.  'tasklistavail' -- Is listing of tasklists available?  'uniquser'      -- The unique user name.  'user'          -- The IMAP username.  'viewmode'      -- The imp view mode (currently dimp, imp, or mimp)</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> True on success, false on failure.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">boolean</span>
		<span class="method-name">
			createSession
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$imapuser</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$password</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$server</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$imapuser</span><span class="var-description">: The username of the user.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$password</span><span class="var-description">: The password of the user.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$server</span><span class="var-description">: The server to use (see config/servers.php).</span>			</li>
				</ul>
		
			
	</div>
<a name="methodgetAutoLoginServer" id="getAutoLoginServer"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/StaticMethod.png" />
		<span class="method-title">static getAutoLoginServer</span> (line <span class="line-number">325</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the autologin server key.</p>
	<ul class="tags">
				<li><span class="field">return:</span> The server key, or null if none available.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">string</span>
		<span class="method-name">
			getAutoLoginServer
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodgetInitialUrl" id="getInitialUrl"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/StaticMethod.png" />
		<span class="method-title">static getInitialUrl</span> (line <span class="line-number">424</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the initial URL.</p>
	<ul class="tags">
				<li><span class="field">return:</span> The initial URL.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">string</span>
		<span class="method-name">
			getInitialUrl
		</span>
					([<span class="var-type">string</span>&nbsp;<span class="var-name">$actionID</span> = <span class="var-default">null</span>], [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$encode</span> = <span class="var-default">true</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$actionID</span><span class="var-description">: The action ID to perform on the initial page.</span>			</li>
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$encode</span><span class="var-description">: If true the argument separator gets encoded.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodloginTasks" id="loginTasks"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/StaticMethod.png" />
		<span class="method-title">static loginTasks</span> (line <span class="line-number">275</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Perform IMP login tasks.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			loginTasks
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodisPreferredServer" id="isPreferredServer"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">isPreferredServer</span> (line <span class="line-number">395</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Determines if the given mail server is the &quot;preferred&quot; mail server for</p>
<p class="description"><p>this web server.  This decision is based on the global 'SERVER_NAME'  and 'HTTP_HOST' server variables and the contents of the 'preferred'  field in the server's definition.  The 'preferred' field may take a  single value or an array of multiple values.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> True if this entry is &quot;preferred&quot;.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			isPreferredServer
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$server</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$key</span> = <span class="var-default">null</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$server</span><span class="var-description">: A complete server entry from the $servers hash.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$key</span><span class="var-description">: The server key entry.</span>			</li>
				</ul>
		
			
	</div>
						
		</div>
	</div>

	
	<p class="notes" id="credit">
		Documentation generated on Sun, 08 Nov 2009 14:45:20 +0000 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.3</a>
	</p>
	</div></body>
</html>