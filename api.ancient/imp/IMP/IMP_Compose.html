<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos  -->
			<title>Docs For Class IMP_Compose</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
						<script src="../media/lib/classTree.js"></script>
												<script language="javascript" type="text/javascript">
				var imgPlus = new Image();
				var imgMinus = new Image();
				imgPlus.src = "../media/images/plus.png";
				imgMinus.src = "../media/images/minus.png";
				
				function showNode(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
							var oImg = document.layers["img" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
							var oImg = document.all["img" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
							var oImg = document.getElementById("img" + Node);
									break;
							}
					oImg.src = imgMinus.src;
					oTable.style.display = "block";
				}
				
				function hideNode(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
							var oImg = document.layers["img" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
							var oImg = document.all["img" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
							var oImg = document.getElementById("img" + Node);
									break;
							}
					oImg.src = imgPlus.src;
					oTable.style.display = "none";
				}
				
				function nodeIsVisible(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
									break;
							}
					return (oTable && oTable.style.display == "block");
				}
				
				function toggleNodeVisibility(Node){
					if (nodeIsVisible(Node)){
						hideNode(Node);
					}else{
						showNode(Node);
					}
				}
			</script>
					</head>
		<body>
			<div class="page-body">			
<h2 class="class-name"><img src="../media/images/Class_logo.png"
														alt=" Class"
														title=" Class"
														style="vertical-align: middle"> IMP_Compose</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
											<a href="#sec-const-summary">Constants</a> (<a href="#sec-consts">details</a>)
						
			</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">The IMP_Compose:: class contains functions related to generating  outgoing mail messages.</p>
<p class="description"><p>Copyright 2002-2009 The Horde Project (http://www.horde.org/)</p><p>See the enclosed file COPYING for license information (GPL). If you  did not receive this file, see http://www.fsf.org/copyleft/gpl.html.</p></p>
	<ul class="tags">
				<li><span class="field">author:</span> Michael Slusarz &lt;<a href="mailto:slusarz@horde.org">slusarz@horde.org</a>&gt;</li>
			</ul>
		<p class="notes">
			Located in <a class="field" href="_lib---Compose.php.html">/lib/Compose.php</a> (line <span class="field">14</span>)
		</p>
		
				
		<pre></pre>
	
			</div>
</div>


	<a name="sec-const-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Class Constant Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Constants</span> (<a href="#sec-consts">details</a>)
												<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			<div class="const-summary">
								<div class="const-title">
					<img src="../media/images/Constant.png" alt=" " />
					<a href="#VFS_ATTACH_PATH" title="details" class="const-name">VFS_ATTACH_PATH</a> = 					<span class="var-type"> '.horde/imp/compose'</span>

				</div>
								<div class="const-title">
					<img src="../media/images/Constant.png" alt=" " />
					<a href="#VFS_DRAFTS_PATH" title="details" class="const-name">VFS_DRAFTS_PATH</a> = 					<span class="var-type"> '.horde/imp/drafts'</span>

				</div>
								<div class="const-title">
					<img src="../media/images/Constant.png" alt=" " />
					<a href="#VFS_LINK_ATTACH_PATH" title="details" class="const-name">VFS_LINK_ATTACH_PATH</a> = 					<span class="var-type"> '.horde/imp/attachments'</span>

				</div>
							</div>
		</div>
	</div>

	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
															<a href="#sec-const-summary">Constants</a> (<a href="#sec-consts">details</a>)
							
					</div>
		<div class="info-box-body">
			<div class="var-summary">
																																				<div class="var-title">
					<img src="../media/images/StaticVariable.png" alt=" " />
					static <span class="var-type">array</span>
					<a href="#$_instances" title="details" class="var-name">$_instances</a>
				</div>
																																																												<div class="var-title">
					<img src="../media/images/Variable.png" alt=" " />
					<span class="var-type">boolean</span>
					<a href="#$_attachVCard" title="details" class="var-name">$_attachVCard</a>
				</div>
																<div class="var-title">
					<img src="../media/images/Variable.png" alt=" " />
					<span class="var-type">array</span>
					<a href="#$_cache" title="details" class="var-name">$_cache</a>
				</div>
																<div class="var-title">
					<img src="../media/images/Variable.png" alt=" " />
					<span class="var-type">string</span>
					<a href="#$_cacheid" title="details" class="var-name">$_cacheid</a>
				</div>
																								<div class="var-title">
					<img src="../media/images/Variable.png" alt=" " />
					<span class="var-type">boolean</span>
					<a href="#$_linkAttach" title="details" class="var-name">$_linkAttach</a>
				</div>
																<div class="var-title">
					<img src="../media/images/Variable.png" alt=" " />
					<span class="var-type">array</span>
					<a href="#$_metadata" title="details" class="var-name">$_metadata</a>
				</div>
																<div class="var-title">
					<img src="../media/images/Variable.png" alt=" " />
					<span class="var-type">boolean</span>
					<a href="#$_modified" title="details" class="var-name">$_modified</a>
				</div>
																<div class="var-title">
					<img src="../media/images/Variable.png" alt=" " />
					<span class="var-type">boolean</span>
					<a href="#$_pgpAttachPubkey" title="details" class="var-name">$_pgpAttachPubkey</a>
				</div>
																<div class="var-title">
					<img src="../media/images/Variable.png" alt=" " />
					<span class="var-type">integer</span>
					<a href="#$_size" title="details" class="var-name">$_size</a>
				</div>
											</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-const-summary">Constants</a> (<a href="#sec-consts">details</a>)
							
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																																																																																																																			
				<div class="method-definition">
					<img src="../media/images/StaticMethod.png" alt=" "/>
					static 						<span class="method-result">array</span>
										<a href="#expandAddresses" title="details" class="method-name">expandAddresses</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$addrString</span>, [<span class="var-type">array</span>&nbsp;<span class="var-name">$options</span> = <span class="var-default">array()</span>])
									</div>
															
				<div class="method-definition">
					<img src="../media/images/StaticMethod.png" alt=" "/>
					static 						<span class="method-result">string</span>
										<a href="#formatAddr" title="details" class="method-name">formatAddr</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$addr</span>)
									</div>
																							
				<div class="method-definition">
					<img src="../media/images/StaticMethod.png" alt=" "/>
					static 						<span class="method-result">array</span>
										<a href="#getAddressList" title="details" class="method-name">getAddressList</a>
											([<span class="var-type">string</span>&nbsp;<span class="var-name">$search</span> = <span class="var-default">''</span>])
									</div>
															
				<div class="method-definition">
					<img src="../media/images/StaticMethod.png" alt=" "/>
					static 						<span class="method-result">array</span>
										<a href="#getAddressSearchParams" title="details" class="method-name">getAddressSearchParams</a>
										()
									</div>
																															
				<div class="method-definition">
					<img src="../media/images/StaticMethod.png" alt=" "/>
					static 						<span class="method-result">array</span>
										<a href="#getMailDriver" title="details" class="method-name">getMailDriver</a>
										()
									</div>
																																																																																																																							
				<div class="method-definition">
					<img src="../media/images/StaticMethod.png" alt=" "/>
					static 						<span class="method-result"><a href="../IMP/IMP_Compose.html">IMP_Compose</a></span>
										<a href="#singleton" title="details" class="method-name">singleton</a>
											([<span class="var-type">string</span>&nbsp;<span class="var-name">$cacheid</span> = <span class="var-default">null</span>])
									</div>
																																																																																																																																																											
				<div class="method-definition">
					<img src="../media/images/Constructor.png" alt=" "/>
											<span class="method-result">IMP_Compose</span>
										<a href="#__construct" title="details" class="method-name">__construct</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$cacheid</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">boolean</span>
										<a href="#addFilesFromUpload" title="details" class="method-name">addFilesFromUpload</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$field</span>, [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$notify</span> = <span class="var-default">false</span>])
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">mixed</span>
										<a href="#additionalAttachmentsAllowed" title="details" class="method-name">additionalAttachmentsAllowed</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#addMIMEPartAttachment" title="details" class="method-name">addMIMEPartAttachment</a>
											(<span class="var-type">Horde_Mime_Part</span>&nbsp;<span class="var-name">$part</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">string</span>
										<a href="#addUploadAttachment" title="details" class="method-name">addUploadAttachment</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$name</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#attachFilesFromMessage" title="details" class="method-name">attachFilesFromMessage</a>
											(<span class="var-type"><a href="../IMP/IMP_Contents.html">IMP_Contents</a></span>&nbsp;<span class="var-name">$contents</span>, [<span class="var-type">array</span>&nbsp;<span class="var-name">$options</span> = <span class="var-default">array()</span>])
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">mixed</span>
										<a href="#attachIMAPMessage" title="details" class="method-name">attachIMAPMessage</a>
											(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$indices</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#attachVCard" title="details" class="method-name">attachVCard</a>
											(<span class="var-type">boolean</span>&nbsp;<span class="var-name">$attach</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$name</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">boolean</span>
										<a href="#buildAndSendMessage" title="details" class="method-name">buildAndSendMessage</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$body</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$header</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$charset</span>, <span class="var-type">boolean</span>&nbsp;<span class="var-name">$html</span>, [<span class="var-type">array</span>&nbsp;<span class="var-name">$opts</span> = <span class="var-default">array()</span>])
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">Horde_Mime_Part</span>
										<a href="#buildAttachment" title="details" class="method-name">buildAttachment</a>
											(<span class="var-type">integer</span>&nbsp;<span class="var-name">$id</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#deleteAllAttachments" title="details" class="method-name">deleteAllAttachments</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">array</span>
										<a href="#deleteAttachment" title="details" class="method-name">deleteAttachment</a>
											(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$number</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#destroy" title="details" class="method-name">destroy</a>
										()
									</div>
																															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">array</span>
										<a href="#forwardMessage" title="details" class="method-name">forwardMessage</a>
											(<span class="var-type"><a href="../IMP/IMP_Contents.html">IMP_Contents</a></span>&nbsp;<span class="var-name">$contents</span>)
									</div>
																															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">array</span>
										<a href="#getAttachments" title="details" class="method-name">getAttachments</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">string</span>
										<a href="#getCacheId" title="details" class="method-name">getCacheId</a>
										()
									</div>
																							
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">mixed</span>
										<a href="#getMetadata" title="details" class="method-name">getMetadata</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$name</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">Horde_Mime_Part</span>
										<a href="#linkAttachments" title="details" class="method-name">linkAttachments</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$baseurl</span>, <span class="var-type">Horde_Mime_Part</span>&nbsp;<span class="var-name">$part</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$auth</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">integer</span>
										<a href="#maxAttachmentSize" title="details" class="method-name">maxAttachmentSize</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">integer</span>
										<a href="#numberOfAttachments" title="details" class="method-name">numberOfAttachments</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#pgpAttachPubkey" title="details" class="method-name">pgpAttachPubkey</a>
											(<span class="var-type">boolean</span>&nbsp;<span class="var-name">$attach</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">array</span>
										<a href="#recipientList" title="details" class="method-name">recipientList</a>
											(<span class="var-type">array</span>&nbsp;<span class="var-name">$hdr</span>, [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$exceed</span> = <span class="var-default">true</span>])
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#recoverSessionExpireDraft" title="details" class="method-name">recoverSessionExpireDraft</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">array</span>
										<a href="#replyMessage" title="details" class="method-name">replyMessage</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$actionID</span>, <span class="var-type"><a href="../IMP/IMP_Contents.html">IMP_Contents</a></span>&nbsp;<span class="var-name">$contents</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$to</span> = <span class="var-default">null</span>])
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">mixed</span>
										<a href="#resumeDraft" title="details" class="method-name">resumeDraft</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$uid</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">string</span>
										<a href="#saveDraft" title="details" class="method-name">saveDraft</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$headers</span>, <span class="var-type">mixed</span>&nbsp;<span class="var-name">$message</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$charset</span>, <span class="var-type">boolean</span>&nbsp;<span class="var-name">$html</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$header</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#sendMessage" title="details" class="method-name">sendMessage</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$email</span>, <span class="var-type">Horde_Mime_Headers</span>&nbsp;<span class="var-name">$headers</span>, <span class="var-type">Horde_Mime_Part</span>&nbsp;<span class="var-name">$message</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$charset</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#sessionExpireDraft" title="details" class="method-name">sessionExpireDraft</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#shutdown" title="details" class="method-name">shutdown</a>
										()
									</div>
																							
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">integer</span>
										<a href="#sizeOfAttachments" title="details" class="method-name">sizeOfAttachments</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">string</span>
										<a href="#text2html" title="details" class="method-name">text2html</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$msg</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#updateAttachment" title="details" class="method-name">updateAttachment</a>
											(<span class="var-type">integer</span>&nbsp;<span class="var-name">$number</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$params</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#userLinkAttachments" title="details" class="method-name">userLinkAttachments</a>
											(<span class="var-type">boolean</span>&nbsp;<span class="var-name">$attach</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#_addReferences" title="details" class="method-name">_addReferences</a>
											(<span class="var-type">Horde_Mime_Headers</span>&nbsp;<span class="var-name">$headers</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">Horde_Mime_Part</span>
										<a href="#_convertToMultipartRelated" title="details" class="method-name">_convertToMultipartRelated</a>
											(<span class="var-type">Horde_Mime_Part</span>&nbsp;<span class="var-name">$mime_part</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">array</span>
										<a href="#_createMimeMessage" title="details" class="method-name">_createMimeMessage</a>
											(<span class="var-type">array</span>&nbsp;<span class="var-name">$to</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$body</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$charset</span>, [<span class="var-type">array</span>&nbsp;<span class="var-name">$options</span> = <span class="var-default">array()</span>])
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">string</span>
										<a href="#_expandAttribution" title="details" class="method-name">_expandAttribution</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$line</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$from</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$h</span>, <span class="var-type">Horde_Mime_Headers</span>&nbsp;<span class="var-name">&$h</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">mixed</span>
										<a href="#_getMatchingIdentity" title="details" class="method-name">_getMatchingIdentity</a>
											(<span class="var-type">Horde_Mime_Headers</span>&nbsp;<span class="var-name">$h</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">mixed</span>
										<a href="#_getMessageText" title="details" class="method-name">_getMessageText</a>
											(<span class="var-type"><a href="../IMP/IMP_Contents.html">IMP_Contents</a></span>&nbsp;<span class="var-name">$contents</span>, [<span class="var-type">array</span>&nbsp;<span class="var-name">$options</span> = <span class="var-default">array()</span>])
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">string</span>
										<a href="#_getMsgHeaders" title="details" class="method-name">_getMsgHeaders</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$h</span>, <span class="var-type">Horde_Mime_Headers</span>&nbsp;<span class="var-name">&$h</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#_parseAddress" title="details" class="method-name">_parseAddress</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$ob</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$email</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">string</span>
										<a href="#_saveDraftMsg" title="details" class="method-name">_saveDraftMsg</a>
											(<span class="var-type">array</span>&nbsp;<span class="var-name">$headers</span>, <span class="var-type">mixed</span>&nbsp;<span class="var-name">$message</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$charset</span>, <span class="var-type">boolean</span>&nbsp;<span class="var-name">$html</span>, <span class="var-type">boolean</span>&nbsp;<span class="var-name">$session</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">string</span>
										<a href="#_saveDraftServer" title="details" class="method-name">_saveDraftServer</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$data</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#_saveRecipients" title="details" class="method-name">_saveRecipients</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$recipients</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#_storeAttachment" title="details" class="method-name">_storeAttachment</a>
											(<span class="var-type">Horde_Mime_Part</span>&nbsp;<span class="var-name">$part</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$data</span>, [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$vfs_file</span> = <span class="var-default">true</span>])
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#__wakeup" title="details" class="method-name">__wakeup</a>
										()
									</div>
											</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
												<a href="#sec-const-summary">Constants</a> (<a href="#sec-consts">details</a>)
							
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			<a name="var$_instances" id="$_instances"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../media/images/StaticVariable.png" />
		<span class="var-title">
			static <span class="var-type">array</span>
			<span class="var-name">$_instances</span>
			 = <span class="var-default">array()</span>			(line <span class="line-number">30</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Singleton instances.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>

<a name="var$_attachVCard" id="$_attachVCard"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">boolean</span>
			<span class="var-name">$_attachVCard</span>
			 = <span class="var-default"> false</span>			(line <span class="line-number">66</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Whether the user's vCard should be attached to outgoing messages.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$_cache" id="$_cache"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">array</span>
			<span class="var-name">$_cache</span>
			 = <span class="var-default">array()</span>			(line <span class="line-number">37</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">The cached attachment data.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$_cacheid" id="$_cacheid"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$_cacheid</span>
						(line <span class="line-number">80</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">The cache ID used to store object in session.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$_linkAttach" id="$_linkAttach"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">boolean</span>
			<span class="var-name">$_linkAttach</span>
			 = <span class="var-default"> false</span>			(line <span class="line-number">73</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Whether attachments should be linked.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$_metadata" id="$_metadata"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">array</span>
			<span class="var-name">$_metadata</span>
			 = <span class="var-default">array()</span>			(line <span class="line-number">44</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Various metadata for this message.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$_modified" id="$_modified"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">boolean</span>
			<span class="var-name">$_modified</span>
			 = <span class="var-default"> false</span>			(line <span class="line-number">87</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Mark as modified for purposes of storing in the session.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$_pgpAttachPubkey" id="$_pgpAttachPubkey"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">boolean</span>
			<span class="var-name">$_pgpAttachPubkey</span>
			 = <span class="var-default"> false</span>			(line <span class="line-number">59</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Whether the user's PGP public key should be attached to outgoing  messages.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$_size" id="$_size"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">integer</span>
			<span class="var-name">$_size</span>
			 = <span class="var-default"> 0</span>			(line <span class="line-number">51</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">The aggregate size of all attachments (in bytes).</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
						
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
																			<a href="#sec-const-summary">Constants</a> (<a href="#sec-consts">details</a>)
							
										<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>
<a name="methodexpandAddresses" id="expandAddresses"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/StaticMethod.png" />
		<span class="method-title">static expandAddresses</span> (line <span class="line-number">2546</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Uses the Registry to expand names and return error information for  any address that is either not valid or fails to expand. This function  will not search if the address string is empty.</p>
	<ul class="tags">
				<li><span class="field">return:</span> All matching addresses.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">array</span>
		<span class="method-name">
			expandAddresses
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$addrString</span>, [<span class="var-type">array</span>&nbsp;<span class="var-name">$options</span> = <span class="var-default">array()</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$addrString</span><span class="var-description">: The name(s) or address(es) to expand.</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$options</span><span class="var-description">: Additional options:  <pre> 'levenshtein' - (boolean) If true, will sort the results using the
                 PHP levenshtein() scoring function.</pre></span>			</li>
				</ul>
		
			
	</div>
<a name="methodformatAddr" id="formatAddr"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/StaticMethod.png" />
		<span class="method-title">static formatAddr</span> (line <span class="line-number">2523</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Formats the address properly.</p>
	<ul class="tags">
				<li><span class="field">return:</span> The formatted address.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">string</span>
		<span class="method-name">
			formatAddr
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$addr</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$addr</span><span class="var-description">: The address to format.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodgetAddressList" id="getAddressList"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/StaticMethod.png" />
		<span class="method-title">static getAddressList</span> (line <span class="line-number">2576</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Uses the Registry to expand names and return error information for  any address that is either not valid or fails to expand.</p>
	<ul class="tags">
				<li><span class="field">return:</span> All matching addresses.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">array</span>
		<span class="method-name">
			getAddressList
		</span>
					([<span class="var-type">string</span>&nbsp;<span class="var-name">$search</span> = <span class="var-default">''</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$search</span><span class="var-description">: The term to search by.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodgetAddressSearchParams" id="getAddressSearchParams"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/StaticMethod.png" />
		<span class="method-title">static getAddressSearchParams</span> (line <span class="line-number">2614</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Determines parameters needed to do an address search</p>
	<ul class="tags">
				<li><span class="field">return:</span> An array with two keys: 'sources' and 'fields'.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">array</span>
		<span class="method-name">
			getAddressSearchParams
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodgetMailDriver" id="getMailDriver"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/StaticMethod.png" />
		<span class="method-title">static getMailDriver</span> (line <span class="line-number">771</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Return mail driver/params necessary to send a message.</p>
	<ul class="tags">
				<li><span class="field">return:</span> 'driver' =&gt; mail driver; 'params' =&gt; list of params.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result">array</span>
		<span class="method-name">
			getMailDriver
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodsingleton" id="singleton"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/StaticMethod.png" />
		<span class="method-title">static singleton</span> (line <span class="line-number">99</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Attempts to return a reference to a concrete IMP_Compose instance.</p>
<p class="description"><p>If an IMP_Cacheid object exists with the given cacheid, recreate that  that object.  Else, create a new instance.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> The IMP_Compose object.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		static <span class="method-result"><a href="../IMP/IMP_Compose.html">IMP_Compose</a></span>
		<span class="method-name">
			singleton
		</span>
					([<span class="var-type">string</span>&nbsp;<span class="var-name">$cacheid</span> = <span class="var-default">null</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$cacheid</span><span class="var-description">: The cache ID string.</span>			</li>
				</ul>
		
			
	</div>
<a name="method__construct" id="__construct"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Constructor.png" />
		<span class="method-title">Constructor __construct</span> (line <span class="line-number">119</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Constructor.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">IMP_Compose</span>
		<span class="method-name">
			__construct
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$cacheid</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$cacheid</span><span class="var-description">: The cache ID string.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodaddFilesFromUpload" id="addFilesFromUpload"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">addFilesFromUpload</span> (line <span class="line-number">2402</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Add uploaded files from form data.</p>
	<ul class="tags">
				<li><span class="field">return:</span> Returns false if any file was unsuccessfully added.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			addFilesFromUpload
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$field</span>, [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$notify</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$field</span><span class="var-description">: The field prefix (numbering starts at 1).</span>			</li>
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$notify</span><span class="var-description">: Add a notification message for each successful                          attachment?</span>			</li>
				</ul>
		
			
	</div>
<a name="methodadditionalAttachmentsAllowed" id="additionalAttachmentsAllowed"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">additionalAttachmentsAllowed</span> (line <span class="line-number">2030</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">How many more attachments are allowed?</p>
	<ul class="tags">
				<li><span class="field">return:</span> Returns true if no attachment limit.                 Else returns the number of additional attachments                 allowed.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			additionalAttachmentsAllowed
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodaddMIMEPartAttachment" id="addMIMEPartAttachment"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">addMIMEPartAttachment</span> (line <span class="line-number">1686</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Adds an attachment to a Horde_Mime_Part from data existing in the part.</p>
	<ul class="tags">
				<li><span class="field">throws:</span> IMP_Compose_Exception</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			addMIMEPartAttachment
		</span>
					(<span class="var-type">Horde_Mime_Part</span>&nbsp;<span class="var-name">$part</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">Horde_Mime_Part</span>
				<span class="var-name">$part</span><span class="var-description">: The object that contains the attachment                                data.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodaddUploadAttachment" id="addUploadAttachment"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">addUploadAttachment</span> (line <span class="line-number">1623</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Adds an attachment to a Horde_Mime_Part from an uploaded file.</p>
<p class="description"><p>The actual attachment data is stored in a separate file - the  Horde_Mime_Part information entries 'temp_filename' and 'temp_filetype'  are set with this information.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> The filename.</li>
				<li><span class="field">throws:</span> IMP_Compose_Exception</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			addUploadAttachment
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$name</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$name</span><span class="var-description">: The input field name from the form.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodattachFilesFromMessage" id="attachFilesFromMessage"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">attachFilesFromMessage</span> (line <span class="line-number">2062</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Adds attachments from the IMP_Contents object to the message.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			attachFilesFromMessage
		</span>
					(<span class="var-type"><a href="../IMP/IMP_Contents.html">IMP_Contents</a></span>&nbsp;<span class="var-name">$contents</span>, [<span class="var-type">array</span>&nbsp;<span class="var-name">$options</span> = <span class="var-default">array()</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"><a href="../IMP/IMP_Contents.html">IMP_Contents</a></span>
				<span class="var-name">$contents</span><span class="var-description">: An IMP_Contents object.</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$options</span><span class="var-description">: Additional options:  <pre> 'notify' - (boolean) Add notification message on errors?
 'skip' - (array) Skip these MIME IDs.</pre></span>			</li>
				</ul>
		
			
	</div>
<a name="methodattachIMAPMessage" id="attachIMAPMessage"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">attachIMAPMessage</span> (line <span class="line-number">1526</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Add mail message(s) from the mail server as a message/rfc822 attachment.</p>
	<ul class="tags">
				<li><span class="field">return:</span> String or false.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			attachIMAPMessage
		</span>
					(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$indices</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$indices</span><span class="var-description">: See IMP::parseIndicesList().</span>			</li>
				</ul>
		
			
	</div>
<a name="methodattachVCard" id="attachVCard"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">attachVCard</span> (line <span class="line-number">2362</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Attach the user's vCard to every message sent by buildAndSendMessage().</p>
	<ul class="tags">
				<li><span class="field">throws:</span> IMP_Compose_Exception</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			attachVCard
		</span>
					(<span class="var-type">boolean</span>&nbsp;<span class="var-name">$attach</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$name</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$attach</span><span class="var-description">: True if vCard should be attached.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$name</span><span class="var-description">: The user's name.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodbuildAndSendMessage" id="buildAndSendMessage"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">buildAndSendMessage</span> (line <span class="line-number">437</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Builds and sends a MIME message.</p>
	<ul class="tags">
				<li><span class="field">return:</span> Whether the sent message has been saved in the                   sent-mail folder.</li>
				<li><span class="field">throws:</span> IMP_Compose_Exception</li>
				<li><span class="field">throws:</span> Horde_Exception</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			buildAndSendMessage
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$body</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$header</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$charset</span>, <span class="var-type">boolean</span>&nbsp;<span class="var-name">$html</span>, [<span class="var-type">array</span>&nbsp;<span class="var-name">$opts</span> = <span class="var-default">array()</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$body</span><span class="var-description">: The message body.</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$header</span><span class="var-description">: List of message headers.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$charset</span><span class="var-description">: The sending charset.</span>			</li>
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$html</span><span class="var-description">: Whether this is an HTML message.</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$opts</span><span class="var-description">: An array of options w/the following keys:  <pre> 'save_sent' = (bool) Save sent mail?
 'sent_folder' = (string) The sent-mail folder (UTF7-IMAP).
 'save_attachments' = (bool) Save attachments with the message?
 'encrypt' => (integer) A flag whether to encrypt or sign the message.
              One of IMP::PGP_ENCRYPT, IMP::PGP_SIGNENC,
              IMP::SMIME_ENCRYPT, or IMP::SMIME_SIGNENC.
 'priority' => (integer) The message priority from 1 to 5.
 'readreceipt' => (bool) Add return receipt headers?
 'useragent' => (string) The User-Agent string to use.</pre></span>			</li>
				</ul>
		
			
	</div>
<a name="methodbuildAttachment" id="buildAttachment"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">buildAttachment</span> (line <span class="line-number">1899</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Build a single attachment part with its data.</p>
	<ul class="tags">
				<li><span class="field">return:</span> The Horde_Mime_Part with its contents.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">Horde_Mime_Part</span>
		<span class="method-name">
			buildAttachment
		</span>
					(<span class="var-type">integer</span>&nbsp;<span class="var-name">$id</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">integer</span>
				<span class="var-name">$id</span><span class="var-description">: The ID of the part to rebuild.</span>			</li>
				</ul>
		
			
	</div>
<a name="methoddeleteAllAttachments" id="deleteAllAttachments"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">deleteAllAttachments</span> (line <span class="line-number">1840</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Deletes all attachments.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			deleteAllAttachments
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methoddeleteAttachment" id="deleteAttachment"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">deleteAttachment</span> (line <span class="line-number">1796</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Delete attached files.</p>
	<ul class="tags">
				<li><span class="field">return:</span> The list of deleted filenames (MIME encoded).</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			deleteAttachment
		</span>
					(<span class="var-type">mixed</span>&nbsp;<span class="var-name">$number</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$number</span><span class="var-description">: Either a single integer or an array of integers                        corresponding to the attachment position.</span>			</li>
				</ul>
		
			
	</div>
<a name="methoddestroy" id="destroy"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">destroy</span> (line <span class="line-number">149</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Destroys an IMP_Compose instance.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			destroy
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodforwardMessage" id="forwardMessage"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">forwardMessage</span> (line <span class="line-number">1434</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Determine the text and headers for a forwarded message.</p>
	<ul class="tags">
				<li><span class="field">return:</span> An array with the following keys:  <pre> 'body'     - The text of the body part
 'encoding' - The guessed charset to use for the reply
 'headers'  - The headers of the message to use for the reply
 'format'   - The format of the body message
 'identity' - The identity to use for the reply based on the original
              message's addresses.</pre></li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			forwardMessage
		</span>
					(<span class="var-type"><a href="../IMP/IMP_Contents.html">IMP_Contents</a></span>&nbsp;<span class="var-name">$contents</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"><a href="../IMP/IMP_Contents.html">IMP_Contents</a></span>
				<span class="var-name">$contents</span><span class="var-description">: An IMP_Contents object.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodgetAttachments" id="getAttachments"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">getAttachments</span> (line <span class="line-number">1867</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the list of current attachments.</p>
	<ul class="tags">
				<li><span class="field">return:</span> The list of attachments.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			getAttachments
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodgetCacheId" id="getCacheId"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">getCacheId</span> (line <span class="line-number">2018</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Obtains the cache ID for the session object.</p>
	<ul class="tags">
				<li><span class="field">return:</span> The message cache ID.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			getCacheId
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodgetMetadata" id="getMetadata"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">getMetadata</span> (line <span class="line-number">162</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Gets metadata about the current object.</p>
	<ul class="tags">
				<li><span class="field">return:</span> The metadata value or null if it doesn't exist.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			getMetadata
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$name</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$name</span><span class="var-description">: The metadata name.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodlinkAttachments" id="linkAttachments"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">linkAttachments</span> (line <span class="line-number">2179</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Remove all attachments from an email message and replace with  urls to downloadable links. Should properly save all  attachments to a new folder and remove the Horde_Mime_Parts for the  attachments.</p>
	<ul class="tags">
				<li><span class="field">return:</span> Modified MIME part with links to attachments.</li>
				<li><span class="field">throws:</span> IMP_Compose_Exception</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">Horde_Mime_Part</span>
		<span class="method-name">
			linkAttachments
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$baseurl</span>, <span class="var-type">Horde_Mime_Part</span>&nbsp;<span class="var-name">$part</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$auth</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$baseurl</span><span class="var-description">: The base URL for creating the links.</span>			</li>
					<li>
				<span class="var-type">Horde_Mime_Part</span>
				<span class="var-name">$part</span><span class="var-description">: The body of the message.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$auth</span><span class="var-description">: The authorized user who owns the                                attachments.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodmaxAttachmentSize" id="maxAttachmentSize"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">maxAttachmentSize</span> (line <span class="line-number">2041</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">What is the maximum attachment size allowed?</p>
	<ul class="tags">
				<li><span class="field">return:</span> The maximum attachment size allowed (in bytes).</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">integer</span>
		<span class="method-name">
			maxAttachmentSize
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodnumberOfAttachments" id="numberOfAttachments"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">numberOfAttachments</span> (line <span class="line-number">1877</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the number of attachments currently in this message.</p>
	<ul class="tags">
				<li><span class="field">return:</span> The number of attachments in this message.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">integer</span>
		<span class="method-name">
			numberOfAttachments
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodpgpAttachPubkey" id="pgpAttachPubkey"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">pgpAttachPubkey</span> (line <span class="line-number">2349</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Attach the user's PGP public key to every message sent by  buildAndSendMessage().</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			pgpAttachPubkey
		</span>
					(<span class="var-type">boolean</span>&nbsp;<span class="var-name">$attach</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$attach</span><span class="var-description">: True if public key should be attached.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodrecipientList" id="recipientList"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">recipientList</span> (line <span class="line-number">894</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Cleans up and returns the recipient list. Encodes all e-mail addresses  with IDN domains.</p>
	<ul class="tags">
				<li><span class="field">return:</span> An array with the following entries:  <pre> 'list' - An array of recipient addresses.
 'header' - An array containing the cleaned up 'to', 'cc', and 'bcc'
            header strings.</pre></li>
				<li><span class="field">throws:</span> IMP_Compose_Exception</li>
				<li><span class="field">throws:</span> Horde_Exception</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			recipientList
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$hdr</span>, [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$exceed</span> = <span class="var-default">true</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$hdr</span><span class="var-description">: An array of MIME headers.  Recipients will be                          extracted from the 'to', 'cc', and 'bcc'                          entries.</span>			</li>
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$exceed</span><span class="var-description">: Test if user has exceeded the allowed                          number of recipients?</span>			</li>
				</ul>
		
			
	</div>
<a name="methodrecoverSessionExpireDraft" id="recoverSessionExpireDraft"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">recoverSessionExpireDraft</span> (line <span class="line-number">2494</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Restore session expiration draft compose data.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			recoverSessionExpireDraft
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodreplyMessage" id="replyMessage"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">replyMessage</span> (line <span class="line-number">1249</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Determines the reply text and headers for a message.</p>
	<ul class="tags">
				<li><span class="field">return:</span> An array with the following keys:  <pre> 'body'     - The text of the body part
 'encoding' - The guessed charset to use for the reply
 'headers'  - The headers of the message to use for the reply
 'format'   - The format of the body message
 'identity' - The identity to use for the reply based on the original
              message's addresses.</pre></li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			replyMessage
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$actionID</span>, <span class="var-type"><a href="../IMP/IMP_Contents.html">IMP_Contents</a></span>&nbsp;<span class="var-name">$contents</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$to</span> = <span class="var-default">null</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$actionID</span><span class="var-description">: The reply action (reply, reply_all,                                 reply_list or *).</span>			</li>
					<li>
				<span class="var-type"><a href="../IMP/IMP_Contents.html">IMP_Contents</a></span>
				<span class="var-name">$contents</span><span class="var-description">: An IMP_Contents object.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$to</span><span class="var-description">: The recipient of the reply. Overrides                                 the automatically determined value.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodresumeDraft" id="resumeDraft"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">resumeDraft</span> (line <span class="line-number">327</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Resumes a previously saved draft message.</p>
	<ul class="tags">
				<li><span class="field">return:</span> An array with the following keys:  <pre> 'msg' - (string) The message text.
 'mode' - (string) 'html' or 'text'.
 'header' - (array) A list of headers to add to the outgoing message.
 'identity' - (integer) The identity used to create the message.</pre></li>
				<li><span class="field">throws:</span> IMP_Compose_Exception</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			resumeDraft
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$uid</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$uid</span><span class="var-description">: The IMAP message mailbox/index. The uid should                      be in IMP::parseIndicesList() format #1.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodsaveDraft" id="saveDraft"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">saveDraft</span> (line <span class="line-number">182</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Saves a message to the draft folder.</p>
	<ul class="tags">
				<li><span class="field">return:</span> Notification text on success.</li>
				<li><span class="field">throws:</span> IMP_Compose_Exception</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			saveDraft
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$headers</span>, <span class="var-type">mixed</span>&nbsp;<span class="var-name">$message</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$charset</span>, <span class="var-type">boolean</span>&nbsp;<span class="var-name">$html</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$header</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$header</span><span class="var-description">: List of message headers.</span>			</li>
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$message</span><span class="var-description">: Either the message text (string) or a                          Horde_Mime_Part object that contains the                          text to send.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$charset</span><span class="var-description">: The charset that was used for the headers.</span>			</li>
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$html</span><span class="var-description">: Whether this is an HTML message.</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$headers</span>			</li>
				</ul>
		
			
	</div>
<a name="methodsendMessage" id="sendMessage"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">sendMessage</span> (line <span class="line-number">718</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Sends a message.</p>
	<ul class="tags">
				<li><span class="field">throws:</span> IMP_Compose_Exception</li>
				<li><span class="field">throws:</span> Horde_Exception</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			sendMessage
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$email</span>, <span class="var-type">Horde_Mime_Headers</span>&nbsp;<span class="var-name">$headers</span>, <span class="var-type">Horde_Mime_Part</span>&nbsp;<span class="var-name">$message</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$charset</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$email</span><span class="var-description">: The e-mail list to send to.</span>			</li>
					<li>
				<span class="var-type">Horde_Mime_Headers</span>
				<span class="var-name">$headers</span><span class="var-description">: The object holding this message's                                      headers.</span>			</li>
					<li>
				<span class="var-type">Horde_Mime_Part</span>
				<span class="var-name">$message</span><span class="var-description">: The Horde_Mime_Part object that                                      contains the text to send.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$charset</span><span class="var-description">: The charset that was used for the                                      headers.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodsessionExpireDraft" id="sessionExpireDraft"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">sessionExpireDraft</span> (line <span class="line-number">2462</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Store draft compose data if session expires.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			sessionExpireDraft
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodshutdown" id="shutdown"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">shutdown</span> (line <span class="line-number">137</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Store a serialized version of ourself in the current session on  shutdown.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			shutdown
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodsizeOfAttachments" id="sizeOfAttachments"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">sizeOfAttachments</span> (line <span class="line-number">1887</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the size of the attachments in bytes.</p>
	<ul class="tags">
				<li><span class="field">return:</span> The size of the attachments (in bytes).</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">integer</span>
		<span class="method-name">
			sizeOfAttachments
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodtext2html" id="text2html"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">text2html</span> (line <span class="line-number">2454</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Shortcut function to convert text -&gt; HTML for purposes of composition.</p>
	<ul class="tags">
				<li><span class="field">return:</span> HTML text.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			text2html
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$msg</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$msg</span><span class="var-description">: The message text.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodupdateAttachment" id="updateAttachment"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">updateAttachment</span> (line <span class="line-number">1854</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Updates information in a specific attachment.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			updateAttachment
		</span>
					(<span class="var-type">integer</span>&nbsp;<span class="var-name">$number</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$params</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">integer</span>
				<span class="var-name">$number</span><span class="var-description">: The attachment to update.</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$params</span><span class="var-description">: An array of update information.  <pre> 'description'  --  The Content-Description value.</pre></span>			</li>
				</ul>
		
			
	</div>
<a name="methoduserLinkAttachments" id="userLinkAttachments"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">userLinkAttachments</span> (line <span class="line-number">2388</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Has user specifically asked attachments to be linked in outgoing  messages?</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			userLinkAttachments
		</span>
					(<span class="var-type">boolean</span>&nbsp;<span class="var-name">$attach</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$attach</span><span class="var-description">: True if attachments should be linked.</span>			</li>
				</ul>
		
			
	</div>
<a name="method_addReferences" id="_addReferences"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">_addReferences</span> (line <span class="line-number">691</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Add necessary headers for replies.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			_addReferences
		</span>
					(<span class="var-type">Horde_Mime_Headers</span>&nbsp;<span class="var-name">$headers</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">Horde_Mime_Headers</span>
				<span class="var-name">$headers</span><span class="var-description">: The object holding this message's                                      headers.</span>			</li>
				</ul>
		
			
	</div>
<a name="method_convertToMultipartRelated" id="_convertToMultipartRelated"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">_convertToMultipartRelated</span> (line <span class="line-number">2095</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Convert a text/html Horde_Mime_Part object with embedded image links  to a multipart/related Horde_Mime_Part with the image data embedded in  the part.</p>
	<ul class="tags">
				<li><span class="field">return:</span> The converted Horde_Mime_Part.</li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">Horde_Mime_Part</span>
		<span class="method-name">
			_convertToMultipartRelated
		</span>
					(<span class="var-type">Horde_Mime_Part</span>&nbsp;<span class="var-name">$mime_part</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">Horde_Mime_Part</span>
				<span class="var-name">$mime_part</span><span class="var-description">: The text/html object.</span>			</li>
				</ul>
		
			
	</div>
<a name="method_createMimeMessage" id="_createMimeMessage"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">_createMimeMessage</span> (line <span class="line-number">1007</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Create the base Horde_Mime_Part for sending.</p>
	<ul class="tags">
				<li><span class="field">return:</span> TODO</li>
				<li><span class="field">throws:</span> IMP_Compose_Exception</li>
				<li><span class="field">throws:</span> Horde_Exception</li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			_createMimeMessage
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$to</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$body</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$charset</span>, [<span class="var-type">array</span>&nbsp;<span class="var-name">$options</span> = <span class="var-default">array()</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$to</span><span class="var-description">: The recipient list.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$body</span><span class="var-description">: Message body.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$charset</span><span class="var-description">: The charset of the message body.</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$options</span><span class="var-description">: Additional options:  <pre> 'encrypt' - (integer) The encryption flag.
 'from' - (string) The outgoing from address - only needed for multiple
          PGP encryption.
 'html' - (boolean) Is this a HTML message?
 'nofinal' - (boolean) This is not a message which will be sent out.
 'noattach' - (boolean) Don't add attachment information.</pre></span>			</li>
				</ul>
		
			
	</div>
<a name="method_expandAttribution" id="_expandAttribution"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">_expandAttribution</span> (line <span class="line-number">1929</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Expand macros in attribution text when replying to messages.</p>
	<ul class="tags">
				<li><span class="field">return:</span> The attribution text.</li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			_expandAttribution
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$line</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$from</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$h</span>, <span class="var-type">Horde_Mime_Headers</span>&nbsp;<span class="var-name">&$h</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$line</span><span class="var-description">: The line of attribution text.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$from</span><span class="var-description">: The email address of the original                                 sender.</span>			</li>
					<li>
				<span class="var-type">Horde_Mime_Headers</span>
				<span class="var-name">&$h</span><span class="var-description">: The headers object for the message.</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$h</span>			</li>
				</ul>
		
			
	</div>
<a name="method_getMatchingIdentity" id="_getMatchingIdentity"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">_getMatchingIdentity</span> (line <span class="line-number">1508</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Get &quot;tieto&quot; identity information.</p>
	<ul class="tags">
				<li><span class="field">return:</span> See Identity_imp::getMatchingIdentity().</li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			_getMatchingIdentity
		</span>
					(<span class="var-type">Horde_Mime_Headers</span>&nbsp;<span class="var-name">$h</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">Horde_Mime_Headers</span>
				<span class="var-name">$h</span><span class="var-description">: The headers object for the message.</span>			</li>
				</ul>
		
			
	</div>
<a name="method_getMessageText" id="_getMessageText"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">_getMessageText</span> (line <span class="line-number">2261</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Regenerates body text for use in the compose screen from IMAP data.</p>
	<ul class="tags">
				<li><span class="field">return:</span> Null if bodypart not found, or array with the following                 keys:  <pre> 'encoding' - (string) The guessed encoding to use.
 'id' - (string) The MIME ID of the bodypart.
 'mode' - (string) Either 'text' or 'html'.
 'text' - (string) The body text.</pre></li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			_getMessageText
		</span>
					(<span class="var-type"><a href="../IMP/IMP_Contents.html">IMP_Contents</a></span>&nbsp;<span class="var-name">$contents</span>, [<span class="var-type">array</span>&nbsp;<span class="var-name">$options</span> = <span class="var-default">array()</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"><a href="../IMP/IMP_Contents.html">IMP_Contents</a></span>
				<span class="var-name">$contents</span><span class="var-description">: An IMP_Contents object.</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$options</span><span class="var-description">: Additional options:  <pre> 'html' - (boolean) Return text/html part, if available.
 'replylimit' - (boolean) Enforce length limits?
 'toflowed' - (boolean) Convert to flowed?
 'type' - (string) 'draft', 'forward', or 'reply'.</pre></span>			</li>
				</ul>
		
			
	</div>
<a name="method_getMsgHeaders" id="_getMsgHeaders"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">_getMsgHeaders</span> (line <span class="line-number">1574</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Determine the header information to display in the forward/reply.</p>
	<ul class="tags">
				<li><span class="field">return:</span> The header information for the original message.</li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			_getMsgHeaders
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$h</span>, <span class="var-type">Horde_Mime_Headers</span>&nbsp;<span class="var-name">&$h</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">Horde_Mime_Headers</span>
				<span class="var-name">&$h</span><span class="var-description">: The headers object for the message.</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$h</span>			</li>
				</ul>
		
			
	</div>
<a name="method_parseAddress" id="_parseAddress"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">_parseAddress</span> (line <span class="line-number">967</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Helper function for recipientList().</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			_parseAddress
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$ob</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$email</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$ob</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$email</span>			</li>
				</ul>
		
			
	</div>
<a name="method_saveDraftMsg" id="_saveDraftMsg"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">_saveDraftMsg</span> (line <span class="line-number">202</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Prepare the draft message.</p>
	<ul class="tags">
				<li><span class="field">return:</span> The body text.</li>
				<li><span class="field">throws:</span> IMP_Compose_Exception</li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			_saveDraftMsg
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$headers</span>, <span class="var-type">mixed</span>&nbsp;<span class="var-name">$message</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$charset</span>, <span class="var-type">boolean</span>&nbsp;<span class="var-name">$html</span>, <span class="var-type">boolean</span>&nbsp;<span class="var-name">$session</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$headers</span><span class="var-description">: List of message headers.</span>			</li>
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$message</span><span class="var-description">: Either the message text (string) or a                           Horde_Mime_Part object that contains the                           text to send.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$charset</span><span class="var-description">: The charset that was used for the headers.</span>			</li>
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$html</span><span class="var-description">: Whether this is an HTML message.</span>			</li>
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$session</span><span class="var-description">: Do we have an active session?</span>			</li>
				</ul>
		
			
	</div>
<a name="method_saveDraftServer" id="_saveDraftServer"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">_saveDraftServer</span> (line <span class="line-number">272</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Save a draft message on the IMAP server.</p>
	<ul class="tags">
				<li><span class="field">return:</span> Status string.</li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			_saveDraftServer
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$data</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$data</span><span class="var-description">: The text of the draft message.</span>			</li>
				</ul>
		
			
	</div>
<a name="method_saveRecipients" id="_saveRecipients"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">_saveRecipients</span> (line <span class="line-number">803</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Save the recipients done in a sendMessage().</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			_saveRecipients
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$recipients</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$recipients</span><span class="var-description">: The list of recipients.</span>			</li>
				</ul>
		
			
	</div>
<a name="method_storeAttachment" id="_storeAttachment"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">_storeAttachment</span> (line <span class="line-number">1752</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Stores the attachment data in its correct location.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			_storeAttachment
		</span>
					(<span class="var-type">Horde_Mime_Part</span>&nbsp;<span class="var-name">$part</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$data</span>, [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$vfs_file</span> = <span class="var-default">true</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">Horde_Mime_Part</span>
				<span class="var-name">$part</span><span class="var-description">: The object to store.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$data</span><span class="var-description">: Either the filename of the attachment                                 or, if $vfs_file is false, the                                 attachment data.</span>			</li>
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$vfs_file</span><span class="var-description">: If using VFS, is $data a filename?</span>			</li>
				</ul>
		
			
	</div>
<a name="method__wakeup" id="__wakeup"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">__wakeup</span> (line <span class="line-number">128</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Code to run on unserialize().</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			__wakeup
		</span>
				()
			</div>
	
		
			
	</div>
						
		</div>
	</div>

	<a name="sec-consts"></a>
	<div class="info-box">
		<div class="info-box-title">Class Constants</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Constants</a> (<span class="disabled">details</span>)
						
			
												<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
														| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			<a name="constVFS_ATTACH_PATH" id="VFS_ATTACH_PATH"><!-- --></A>
<div class="oddrow">

	<div class="const-header">
		<img src="../media/images/Variable.png" />
		<span class="const-title">
			<span class="const-name">VFS_ATTACH_PATH</span>
			 = <span class="const-default"> '.horde/imp/compose'</span>
			(line <span class="line-number">17</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
	
</div>
<a name="constVFS_DRAFTS_PATH" id="VFS_DRAFTS_PATH"><!-- --></A>
<div class="evenrow">

	<div class="const-header">
		<img src="../media/images/Variable.png" />
		<span class="const-title">
			<span class="const-name">VFS_DRAFTS_PATH</span>
			 = <span class="const-default"> '.horde/imp/drafts'</span>
			(line <span class="line-number">23</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
	
</div>
<a name="constVFS_LINK_ATTACH_PATH" id="VFS_LINK_ATTACH_PATH"><!-- --></A>
<div class="oddrow">

	<div class="const-header">
		<img src="../media/images/Variable.png" />
		<span class="const-title">
			<span class="const-name">VFS_LINK_ATTACH_PATH</span>
			 = <span class="const-default"> '.horde/imp/attachments'</span>
			(line <span class="line-number">20</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	
	
</div>
						
		</div>
	</div>
	
	<p class="notes" id="credit">
		Documentation generated on Sun, 08 Nov 2009 15:35:27 +0000 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.3</a>
	</p>
	</div></body>
</html>