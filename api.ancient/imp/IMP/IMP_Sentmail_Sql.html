<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos  -->
			<title>Docs For Class IMP_Sentmail_Sql</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
						<script src="../media/lib/classTree.js"></script>
												<script language="javascript" type="text/javascript">
				var imgPlus = new Image();
				var imgMinus = new Image();
				imgPlus.src = "../media/images/plus.png";
				imgMinus.src = "../media/images/minus.png";
				
				function showNode(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
							var oImg = document.layers["img" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
							var oImg = document.all["img" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
							var oImg = document.getElementById("img" + Node);
									break;
							}
					oImg.src = imgMinus.src;
					oTable.style.display = "block";
				}
				
				function hideNode(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
							var oImg = document.layers["img" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
							var oImg = document.all["img" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
							var oImg = document.getElementById("img" + Node);
									break;
							}
					oImg.src = imgPlus.src;
					oTable.style.display = "none";
				}
				
				function nodeIsVisible(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
									break;
							}
					return (oTable && oTable.style.display == "block");
				}
				
				function toggleNodeVisibility(Node){
					if (nodeIsVisible(Node)){
						hideNode(Node);
					}else{
						showNode(Node);
					}
				}
			</script>
					</head>
		<body>
			<div class="page-body">			
<h2 class="class-name"><img src="../media/images/Class_logo.png"
														alt=" Class"
														title=" Class"
														style="vertical-align: middle"> IMP_Sentmail_Sql</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">IMP_Sentmail implementation for PHP's PEAR database abstraction layer.</p>
<p class="description"><p>Required values for $params:  <pre> 'phptype'       The database type (e.g. 'pgsql', 'mysql', etc.).
 'table'         The name of the foo table in 'database'.</pre></p><p>Required by some database implementations:  <pre> 'database'      The name of the database.
 'hostspec'      The hostname of the database server.
 'protocol'      The communication protocol ('tcp', 'unix', etc.).
 'username'      The username with which to connect to the database.
 'password'      The password associated with 'username'.
 'options'       Additional options to pass to the database.
 'tty'           The TTY on which to connect to the database.
 'port'          The port on which to connect to the database.</pre></p><p>The table structure can be created by the scripts/sql/imp_sentmail.sql  script.</p></p>
	<ul class="tags">
				<li><span class="field">author:</span> Jan Schneider &lt;<a href="mailto:jan@horde.org">jan@horde.org</a>&gt;</li>
			</ul>
		<p class="notes">
			Located in <a class="field" href="_lib---Sentmail---Sql.php.html">/lib/Sentmail/Sql.php</a> (line <span class="field">29</span>)
		</p>
		
				
		<pre><a href="../IMP/IMP_Sentmail.html">IMP_Sentmail</a>
   |
   --IMP_Sentmail_Sql</pre>
	
			</div>
</div>



	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
								</div>
		<div class="info-box-body">
			<div class="var-summary">
																								<div class="var-title">
					<img src="../media/images/Variable.png" alt=" " />
					<span class="var-type">DB</span>
					<a href="#$_db" title="details" class="var-name">$_db</a>
				</div>
											</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																		<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																																																							
				<div class="method-definition">
					<img src="../media/images/Constructor.png" alt=" "/>
											<span class="method-result">IMP_Sentmail_Sql</span>
										<a href="#__construct" title="details" class="method-name">__construct</a>
											([<span class="var-type">array</span>&nbsp;<span class="var-name">$params</span> = <span class="var-default">array()</span>])
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">array</span>
										<a href="#favouriteRecipients" title="details" class="method-name">favouriteRecipients</a>
											(<span class="var-type">integer</span>&nbsp;<span class="var-name">$limit</span>, [<span class="var-type">array</span>&nbsp;<span class="var-name">$filter</span> = <span class="var-default">array('new', 'forward', 'reply', 'redirect')</span>])
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">integer</span>
										<a href="#numberOfRecipients" title="details" class="method-name">numberOfRecipients</a>
											(<span class="var-type">integer</span>&nbsp;<span class="var-name">$hours</span>, [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$user</span> = <span class="var-default">false</span>])
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#_deleteOldEntries" title="details" class="method-name">_deleteOldEntries</a>
											(<span class="var-type">integer</span>&nbsp;<span class="var-name">$before</span>)
									</div>
															
				<div class="method-definition">
					<img src="../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#_log" title="details" class="method-name">_log</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$action</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$message_id</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$recipient</span>, <span class="var-type">boolean</span>&nbsp;<span class="var-name">$success</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$recipients</span>)
									</div>
											</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			
<a name="var$_db" id="$_db"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">DB</span>
			<span class="var-name">$_db</span>
						(line <span class="line-number">36</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Handle for the current database connection.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
							<h4>Inherited Variables</h4>
				<A NAME='inherited_vars'><!-- --></A>
									<p>Inherited from <span class="classname"><a href="../IMP/IMP_Sentmail.html">IMP_Sentmail</a></span></p>
					<blockquote>
													<img src="../media/images/Variable.png" />
							<span class="var-title">
								<span class="var-name"><a href="../IMP/IMP_Sentmail.html#var$_params">IMP_Sentmail::$_params</a></span><br>
							</span>
											</blockquote> 
										
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
																	<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>
<a name="method__construct" id="__construct"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Constructor.png" />
		<span class="method-title">Constructor __construct</span> (line <span class="line-number">45</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Constructor.</p>
	<ul class="tags">
				<li><span class="field">throws:</span> Horde_Exception</li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">IMP_Sentmail_Sql</span>
		<span class="method-name">
			__construct
		</span>
					([<span class="var-type">array</span>&nbsp;<span class="var-name">$params</span> = <span class="var-default">array()</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$params</span><span class="var-description">: A hash containing connection parameters.</span>			</li>
				</ul>
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../IMP/IMP_Sentmail.html#method__construct">IMP_Sentmail::__construct()</a></dt>
						<dd>Constructor.</dd>
					</dl>
			
	</div>
<a name="methodfavouriteRecipients" id="favouriteRecipients"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">favouriteRecipients</span> (line <span class="line-number">125</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the most favourite recipients.</p>
	<ul class="tags">
				<li><span class="field">return:</span> A list with the $limit most favourite recipients.</li>
				<li><span class="field">throws:</span> Horde_Exception</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			favouriteRecipients
		</span>
					(<span class="var-type">integer</span>&nbsp;<span class="var-name">$limit</span>, [<span class="var-type">array</span>&nbsp;<span class="var-name">$filter</span> = <span class="var-default">array('new', 'forward', 'reply', 'redirect')</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">integer</span>
				<span class="var-name">$limit</span><span class="var-description">: Return this number of recipients.</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$filter</span><span class="var-description">: A list of messages types that should be returned.                         A value of null returns all message types.</span>			</li>
				</ul>
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../IMP/IMP_Sentmail.html#methodfavouriteRecipients">IMP_Sentmail::favouriteRecipients()</a></dt>
						<dd>Returns the favourite recipients.</dd>
					</dl>
			
	</div>
<a name="methodnumberOfRecipients" id="numberOfRecipients"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">numberOfRecipients</span> (line <span class="line-number">171</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the number of recipients within a certain time period.</p>
	<ul class="tags">
				<li><span class="field">return:</span> The number of recipients in the given time period.</li>
				<li><span class="field">throws:</span> Horde_Exception</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">integer</span>
		<span class="method-name">
			numberOfRecipients
		</span>
					(<span class="var-type">integer</span>&nbsp;<span class="var-name">$hours</span>, [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$user</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">integer</span>
				<span class="var-name">$hours</span><span class="var-description">: Time period in hours.</span>			</li>
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$user</span><span class="var-description">: Return the number of recipients for the current                         user?</span>			</li>
				</ul>
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../IMP/IMP_Sentmail.html#methodnumberOfRecipients">IMP_Sentmail::numberOfRecipients()</a></dt>
						<dd>Returns the number of recipients within a certain time period.</dd>
					</dl>
			
	</div>
<a name="method_deleteOldEntries" id="_deleteOldEntries"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">_deleteOldEntries</span> (line <span class="line-number">200</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Deletes all log entries older than a certain date.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			_deleteOldEntries
		</span>
					(<span class="var-type">integer</span>&nbsp;<span class="var-name">$before</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">integer</span>
				<span class="var-name">$before</span><span class="var-description">: Unix timestamp before that all log entries                          should be deleted.</span>			</li>
				</ul>
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../IMP/IMP_Sentmail.html#method_deleteOldEntries">IMP_Sentmail::_deleteOldEntries()</a></dt>
						<dd>Deletes all log entries older than a certain date.</dd>
					</dl>
			
	</div>
<a name="method_log" id="_log"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../media/images/Method.png" />
		<span class="method-title">_log</span> (line <span class="line-number">89</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Logs an attempt to send a message per recipient.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			_log
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$action</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$message_id</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$recipient</span>, <span class="var-type">boolean</span>&nbsp;<span class="var-name">$success</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$recipients</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$action</span><span class="var-description">: Why the message was sent, i.e. &quot;new&quot;,                             &quot;reply&quot;, &quot;forward&quot;, etc.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$message_id</span><span class="var-description">: The Message-ID.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$recipients</span><span class="var-description">: A message recipient.</span>			</li>
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$success</span><span class="var-description">: Whether the attempt was successful.</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$recipient</span>			</li>
				</ul>
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../IMP/IMP_Sentmail.html#method_log">IMP_Sentmail::_log()</a></dt>
						<dd>Logs an attempt to send a message per recipient.</dd>
					</dl>
			
	</div>
							<h4>Inherited Methods</h4>
				<a name='inherited_methods'><!-- --></a>	
									<!-- =========== Summary =========== -->
					<p>Inherited From <span class="classname"><a href="../IMP/IMP_Sentmail.html">IMP_Sentmail</a></span></p>
					<blockquote>
													<img src="../media/images/Constructor.png" alt=" "/>
							<span class="method-name"><a href="../IMP/IMP_Sentmail.html#method__construct">IMP_Sentmail::__construct()</a></span><br>
													<img src="../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../IMP/IMP_Sentmail.html#methodfactory">IMP_Sentmail::factory()</a></span><br>
													<img src="../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../IMP/IMP_Sentmail.html#methodfavouriteRecipients">IMP_Sentmail::favouriteRecipients()</a></span><br>
													<img src="../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../IMP/IMP_Sentmail.html#methodgc">IMP_Sentmail::gc()</a></span><br>
													<img src="../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../IMP/IMP_Sentmail.html#methodlog">IMP_Sentmail::log()</a></span><br>
													<img src="../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../IMP/IMP_Sentmail.html#methodnumberOfRecipients">IMP_Sentmail::numberOfRecipients()</a></span><br>
													<img src="../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../IMP/IMP_Sentmail.html#method_deleteOldEntries">IMP_Sentmail::_deleteOldEntries()</a></span><br>
													<img src="../media/images/Method.png" alt=" "/>
							<span class="method-name"><a href="../IMP/IMP_Sentmail.html#method_log">IMP_Sentmail::_log()</a></span><br>
											</blockquote>
										
		</div>
	</div>

	
	<p class="notes" id="credit">
		Documentation generated on Sun, 08 Nov 2009 15:35:34 +0000 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.3</a>
	</p>
	</div></body>
</html>